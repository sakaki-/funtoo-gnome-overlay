diff -urN upower-0.99.0/Makefile.am upower-0.99.0-patched-pretty/Makefile.am
--- upower-0.99.0/Makefile.am	2013-10-29 06:37:01.000000000 -0400
+++ upower-0.99.0-patched-pretty/Makefile.am	2014-07-13 21:34:35.160231626 -0400
@@ -2,7 +2,7 @@
 
 ACLOCAL_AMFLAGS = -I m4 ${ACLOCAL_FLAGS}
 
-SUBDIRS = etc libupower-glib src doc tools po
+SUBDIRS = etc libupower-glib src doc tools policy po
 
 if BACKEND_TYPE_LINUX
 SUBDIRS += rules
diff -urN upower-0.99.0/Makefile.in upower-0.99.0-patched-pretty/Makefile.in
--- upower-0.99.0/Makefile.in	2013-10-29 06:39:06.000000000 -0400
+++ upower-0.99.0-patched-pretty/Makefile.in	2014-07-13 21:34:35.161231626 -0400
@@ -199,7 +199,7 @@
 ETAGS = etags
 CTAGS = ctags
 CSCOPE = cscope
-DIST_SUBDIRS = etc libupower-glib src doc tools po rules
+DIST_SUBDIRS = etc libupower-glib src doc tools policy po rules
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 distdir = $(PACKAGE)-$(VERSION)
 top_distdir = $(distdir)
@@ -439,7 +439,7 @@
 top_srcdir = @top_srcdir@
 udevrulesdir = @udevrulesdir@
 ACLOCAL_AMFLAGS = -I m4 ${ACLOCAL_FLAGS}
-SUBDIRS = etc libupower-glib src doc tools po $(am__append_1)
+SUBDIRS = etc libupower-glib src doc tools policy po $(am__append_1)
 EXTRA_DIST = \
 	HACKING 			\
 	ChangeLog
diff -urN upower-0.99.0/configure upower-0.99.0-patched-pretty/configure
--- upower-0.99.0/configure	2013-10-29 06:39:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/configure	2014-07-13 21:34:35.168231626 -0400
@@ -16285,7 +16285,7 @@
 
 
 
-ac_config_files="$ac_config_files Makefile upower-glib.pc etc/Makefile src/Makefile src/dummy/Makefile src/freebsd/Makefile src/openbsd/Makefile src/linux/Makefile tools/Makefile doc/Makefile doc/version.xml doc/man/Makefile doc/dbus/Makefile rules/Makefile libupower-glib/Makefile libupower-glib/up-version.h po/Makefile.in"
+ac_config_files="$ac_config_files Makefile upower-glib.pc etc/Makefile src/Makefile src/dummy/Makefile src/freebsd/Makefile src/openbsd/Makefile src/linux/Makefile tools/Makefile doc/Makefile doc/version.xml doc/man/Makefile doc/dbus/Makefile policy/Makefile rules/Makefile libupower-glib/Makefile libupower-glib/up-version.h po/Makefile.in"
 
 cat >confcache <<\_ACEOF
 # This file is a shell script that caches the results of configure
@@ -17386,6 +17386,7 @@
     "doc/version.xml") CONFIG_FILES="$CONFIG_FILES doc/version.xml" ;;
     "doc/man/Makefile") CONFIG_FILES="$CONFIG_FILES doc/man/Makefile" ;;
     "doc/dbus/Makefile") CONFIG_FILES="$CONFIG_FILES doc/dbus/Makefile" ;;
+    "policy/Makefile") CONFIG_FILES="$CONFIG_FILES policy/Makefile" ;;
     "rules/Makefile") CONFIG_FILES="$CONFIG_FILES rules/Makefile" ;;
     "libupower-glib/Makefile") CONFIG_FILES="$CONFIG_FILES libupower-glib/Makefile" ;;
     "libupower-glib/up-version.h") CONFIG_FILES="$CONFIG_FILES libupower-glib/up-version.h" ;;
diff -urN upower-0.99.0/configure.ac upower-0.99.0-patched-pretty/configure.ac
--- upower-0.99.0/configure.ac	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/configure.ac	2014-07-13 21:34:35.169231626 -0400
@@ -255,6 +255,7 @@
 doc/version.xml
 doc/man/Makefile
 doc/dbus/Makefile
+policy/Makefile
 rules/Makefile
 libupower-glib/Makefile
 libupower-glib/up-version.h
diff -urN upower-0.99.0/doc/UPower-sections.txt upower-0.99.0-patched-pretty/doc/UPower-sections.txt
--- upower-0.99.0/doc/UPower-sections.txt	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/UPower-sections.txt	2014-07-13 21:34:35.170231625 -0400
@@ -4,6 +4,8 @@
 UP_CLIENT_TYPE_ERROR
 device_added
 device_removed
+notify_sleep
+notify_resume
 _up_client_reserved1
 _up_client_reserved2
 _up_client_reserved3
@@ -15,11 +17,18 @@
 up_client_new
 up_client_get_display_device
 up_client_get_critical_action
+up_client_get_properties_sync
+up_client_suspend_sync
+up_client_about_to_sleep_sync
+up_client_hibernate_sync
 up_client_get_devices
 up_client_get_daemon_version
+up_client_get_can_hibernate
 up_client_get_lid_is_closed
 up_client_get_lid_is_present
+up_client_get_lid_force_sleep
 up_client_get_is_docked
+up_client_get_can_suspend
 up_client_get_on_battery
 <SUBSECTION Standard>
 UP_CLIENT
@@ -35,14 +44,22 @@
 <SECTION>
 <FILE>up-client-glue</FILE>
 <TITLE>UpClientGlueSkeleton</TITLE>
-UpClientGlueIface
 up_client_glue_interface_info
 up_client_glue_override_properties
 up_client_glue_complete_enumerate_devices
 up_client_glue_complete_get_display_device
 up_client_glue_complete_get_critical_action
+up_client_glue_complete_about_to_sleep
+up_client_glue_complete_suspend
+up_client_glue_complete_suspend_allowed
+up_client_glue_complete_hibernate
+up_client_glue_complete_hibernate_allowed
 up_client_glue_emit_device_added
 up_client_glue_emit_device_removed
+up_client_glue_emit_sleeping
+up_client_glue_emit_notify_sleep
+up_client_glue_emit_resuming
+up_client_glue_emit_notify_resume
 up_client_glue_call_enumerate_devices
 up_client_glue_call_enumerate_devices_finish
 up_client_glue_call_enumerate_devices_sync
@@ -52,29 +69,45 @@
 up_client_glue_call_get_critical_action
 up_client_glue_call_get_critical_action_finish
 up_client_glue_call_get_critical_action_sync
+up_client_glue_call_about_to_sleep
+up_client_glue_call_about_to_sleep_finish
+up_client_glue_call_about_to_sleep_sync
+up_client_glue_call_suspend
+up_client_glue_call_suspend_finish
+up_client_glue_call_suspend_sync
+up_client_glue_call_suspend_allowed
+up_client_glue_call_suspend_allowed_finish
+up_client_glue_call_suspend_allowed_sync
+up_client_glue_call_hibernate
+up_client_glue_call_hibernate_finish
+up_client_glue_call_hibernate_sync
+up_client_glue_call_hibernate_allowed
+up_client_glue_call_hibernate_allowed_finish
+up_client_glue_call_hibernate_allowed_sync
 up_client_glue_get_daemon_version
 up_client_glue_dup_daemon_version
 up_client_glue_set_daemon_version
+up_client_glue_get_can_suspend
+up_client_glue_set_can_suspend
+up_client_glue_get_can_hibernate
+up_client_glue_set_can_hibernate
 up_client_glue_get_on_battery
 up_client_glue_set_on_battery
 up_client_glue_get_lid_is_closed
 up_client_glue_set_lid_is_closed
 up_client_glue_get_lid_is_present
 up_client_glue_set_lid_is_present
+up_client_glue_get_lid_force_sleep
+up_client_glue_set_lid_force_sleep
 up_client_glue_get_is_docked
 up_client_glue_set_is_docked
-UpClientGlueProxy
-UpClientGlueProxyClass
 up_client_glue_proxy_new
 up_client_glue_proxy_new_finish
 up_client_glue_proxy_new_sync
 up_client_glue_proxy_new_for_bus
 up_client_glue_proxy_new_for_bus_finish
 up_client_glue_proxy_new_for_bus_sync
-UpClientGlueSkeleton
-UpClientGlueSkeletonClass
 up_client_glue_skeleton_new
-UpClientGlue
 <SUBSECTION Standard>
 UP_CLIENT_GLUE
 UP_CLIENT_GLUE_GET_IFACE
@@ -92,7 +125,13 @@
 UP_TYPE_CLIENT_GLUE
 UP_TYPE_CLIENT_GLUE_PROXY
 UP_TYPE_CLIENT_GLUE_SKELETON
+UpClientGlue
+UpClientGlueIface
+UpClientGlueProxy
+UpClientGlueProxyClass
 UpClientGlueProxyPrivate
+UpClientGlueSkeleton
+UpClientGlueSkeletonClass
 UpClientGlueSkeletonPrivate
 up_client_glue_get_type
 up_client_glue_proxy_get_type
@@ -132,7 +171,6 @@
 <SECTION>
 <FILE>up-device-glue</FILE>
 <TITLE>UpDeviceGlueSkeleton</TITLE>
-UpDeviceGlueIface
 up_device_glue_interface_info
 up_device_glue_override_properties
 up_device_glue_complete_refresh
@@ -208,18 +246,13 @@
 up_device_glue_get_icon_name
 up_device_glue_dup_icon_name
 up_device_glue_set_icon_name
-UpDeviceGlueProxy
-UpDeviceGlueProxyClass
 up_device_glue_proxy_new
 up_device_glue_proxy_new_finish
 up_device_glue_proxy_new_sync
 up_device_glue_proxy_new_for_bus
 up_device_glue_proxy_new_for_bus_finish
 up_device_glue_proxy_new_for_bus_sync
-UpDeviceGlueSkeleton
-UpDeviceGlueSkeletonClass
 up_device_glue_skeleton_new
-UpDeviceGlue
 <SUBSECTION Standard>
 UP_DEVICE_GLUE
 UP_DEVICE_GLUE_GET_IFACE
@@ -237,7 +270,13 @@
 UP_TYPE_DEVICE_GLUE
 UP_TYPE_DEVICE_GLUE_PROXY
 UP_TYPE_DEVICE_GLUE_SKELETON
+UpDeviceGlue
+UpDeviceGlueIface
+UpDeviceGlueProxy
+UpDeviceGlueProxyClass
 UpDeviceGlueProxyPrivate
+UpDeviceGlueSkeleton
+UpDeviceGlueSkeletonClass
 UpDeviceGlueSkeletonPrivate
 up_device_glue_get_type
 up_device_glue_proxy_get_type
@@ -291,6 +330,7 @@
 UpDeviceState
 UpDeviceTechnology
 UpDeviceLevel
+UpSleepKind
 up_device_kind_to_string
 up_device_state_to_string
 up_device_technology_to_string
@@ -299,6 +339,8 @@
 up_device_state_from_string
 up_device_technology_from_string
 up_device_level_from_string
+up_sleep_kind_to_string
+up_sleep_kind_from_string
 </SECTION>
 
 <SECTION>
@@ -360,7 +402,6 @@
 <SECTION>
 <FILE>up-wakeups-glue</FILE>
 <TITLE>UpWakeupsGlueSkeleton</TITLE>
-UpWakeupsGlueIface
 up_wakeups_glue_interface_info
 up_wakeups_glue_override_properties
 up_wakeups_glue_complete_get_total
@@ -375,18 +416,13 @@
 up_wakeups_glue_call_get_data_sync
 up_wakeups_glue_get_has_capability
 up_wakeups_glue_set_has_capability
-UpWakeupsGlueProxy
-UpWakeupsGlueProxyClass
 up_wakeups_glue_proxy_new
 up_wakeups_glue_proxy_new_finish
 up_wakeups_glue_proxy_new_sync
 up_wakeups_glue_proxy_new_for_bus
 up_wakeups_glue_proxy_new_for_bus_finish
 up_wakeups_glue_proxy_new_for_bus_sync
-UpWakeupsGlueSkeleton
-UpWakeupsGlueSkeletonClass
 up_wakeups_glue_skeleton_new
-UpWakeupsGlue
 <SUBSECTION Standard>
 UP_IS_WAKEUPS_GLUE
 UP_IS_WAKEUPS_GLUE_PROXY
@@ -404,7 +440,13 @@
 UP_WAKEUPS_GLUE_SKELETON
 UP_WAKEUPS_GLUE_SKELETON_CLASS
 UP_WAKEUPS_GLUE_SKELETON_GET_CLASS
+UpWakeupsGlue
+UpWakeupsGlueIface
+UpWakeupsGlueProxy
+UpWakeupsGlueProxyClass
 UpWakeupsGlueProxyPrivate
+UpWakeupsGlueSkeleton
+UpWakeupsGlueSkeletonClass
 UpWakeupsGlueSkeletonPrivate
 up_wakeups_glue_get_type
 up_wakeups_glue_proxy_get_type
diff -urN upower-0.99.0/doc/dbus/org.freedesktop.UPower.ref.xml upower-0.99.0-patched-pretty/doc/dbus/org.freedesktop.UPower.ref.xml
--- upower-0.99.0/doc/dbus/org.freedesktop.UPower.ref.xml	2013-10-29 06:41:22.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/dbus/org.freedesktop.UPower.ref.xml	2014-07-13 21:34:35.172231625 -0400
@@ -12,12 +12,21 @@
     <synopsis><link linkend="UPower.EnumerateDevices">EnumerateDevices</link>(out'ao'devices)
 <link linkend="UPower.GetDisplayDevice">GetDisplayDevice</link>(out'o'device)
 <link linkend="UPower.GetCriticalAction">GetCriticalAction</link>(out's'action)
+<link linkend="UPower.AboutToSleep">AboutToSleep</link>(in's'action)
+<link linkend="UPower.Suspend">Suspend</link>()
+<link linkend="UPower.SuspendAllowed">SuspendAllowed</link>(out'b'allowed)
+<link linkend="UPower.Hibernate">Hibernate</link>()
+<link linkend="UPower.HibernateAllowed">HibernateAllowed</link>(out'b'allowed)
 </synopsis>
   </refsynopsisdiv>
   <refsect1 role="signal_proto">
     <title role="signal_proto.title">Signals</title>
     <synopsis><link linkend="UPower::DeviceAdded">DeviceAdded</link>('o'device)
 <link linkend="UPower::DeviceRemoved">DeviceRemoved</link>('o'device)
+<link linkend="UPower::Sleeping">Sleeping</link>()
+<link linkend="UPower::NotifySleep">NotifySleep</link>('s'action)
+<link linkend="UPower::Resuming">Resuming</link>()
+<link linkend="UPower::NotifyResume">NotifyResume</link>('s'action)
 </synopsis>
   </refsect1>
   <refsect1 role="impl_interfaces">
@@ -31,9 +40,12 @@
   <refsect1 role="properties">
     <title role="properties.title">Properties</title>
     <synopsis><link linkend="UPower:DaemonVersion">'DaemonVersion'</link>read's'
+<link linkend="UPower:CanSuspend">'CanSuspend'</link>read'b'
+<link linkend="UPower:CanHibernate">'CanHibernate'</link>read'b'
 <link linkend="UPower:OnBattery">'OnBattery'</link>read'b'
 <link linkend="UPower:LidIsClosed">'LidIsClosed'</link>read'b'
 <link linkend="UPower:LidIsPresent">'LidIsPresent'</link>read'b'
+<link linkend="UPower:LidForceSleep">'LidForceSleep'</link>read'b'
 <link linkend="UPower:IsDocked">'IsDocked'</link>read'b'
 </synopsis>
   </refsect1>
@@ -88,7 +100,67 @@
             the system will take this action. Possible values are:
             <para><itemizedlist><listitem><emphasis role="bold">HybridSleep: </emphasis></listitem><listitem><emphasis role="bold">Hibernate: </emphasis></listitem><listitem><emphasis role="bold">PowerOff: </emphasis></listitem></itemizedlist></para>
           </para>
-        <variablelist role="params"><varlistentry><term><parameter>action</parameter>:</term><listitem><simpara>A string representing the critical action configured and available.</simpara></listitem></varlistentry></variablelist></refsect1>
+        <variablelist role="params"><varlistentry><term><parameter>action</parameter>:</term><listitem><simpara>A string representing the critical action configured and available.</simpara></listitem></varlistentry></variablelist><refsect2><title><anchor role="function" id="UPower.AboutToSleep"/>AboutToSleep ()</title><indexterm><primary>AboutToSleep</primary><secondary>UPower</secondary></indexterm><programlisting>AboutToSleep (in's'action)</programlisting></refsect2>
+          <para>
+            This method tells UPower that the Suspend() or Hibernate() method
+            is about to be called.
+            This allows UPower to emit the Suspending signal whilst
+            session activities are happening that have to be done before the
+            suspend process is started.
+          </para>
+          <para>
+            This method would typically be called by the session power
+            management daemon, before it locks the screen and waits for the
+            screen to fade to black.
+            The session power management component would then call Suspend() or
+            Hibernate() when these syncronous tasks have completed.
+          </para>
+          <para>
+            If this method is not called than nothing bad will happen and
+            Suspend() or Hibernate() will block for the required second.
+          </para>
+        <variablelist role="params"><varlistentry><term><parameter>action</parameter>:</term><listitem><simpara>
+            The sleep action type, e.g. <literal>suspend</literal> or
+            <literal>hibernate</literal>.
+          </simpara></listitem></varlistentry></variablelist><refsect2><title><anchor role="function" id="UPower.Suspend"/>Suspend ()</title><indexterm><primary>Suspend</primary><secondary>UPower</secondary></indexterm><programlisting>Suspend ()</programlisting></refsect2>
+          <para>
+            Suspends the computer into a low power state.
+            System state is not preserved if the power is lost.
+          </para>
+          <para>
+            If AboutToSleep() has not been called then UPower will send
+            the Sleeping() signal and block for one second.
+          </para>
+          <para>
+            If AboutToSleep() has been called less than one second
+            before this method is called then UPower will block for the
+            remaining time to complete one second of delay.
+          </para>
+        <variablelist role="params"/><refsect2><title><anchor role="function" id="UPower.SuspendAllowed"/>SuspendAllowed ()</title><indexterm><primary>SuspendAllowed</primary><secondary>UPower</secondary></indexterm><programlisting>SuspendAllowed (out'b'allowed)</programlisting></refsect2>
+          <para>
+            Check if the caller has (or can get) the PolicyKit privilege to call
+            <link linkend="Power.Suspend"><function>Suspend</function></link>.
+          </para>
+        <variablelist role="params"><varlistentry><term><parameter>allowed</parameter>:</term><listitem><simpara>TRUE if allowed, otherwise FALSE</simpara></listitem></varlistentry></variablelist><refsect2><title><anchor role="function" id="UPower.Hibernate"/>Hibernate ()</title><indexterm><primary>Hibernate</primary><secondary>UPower</secondary></indexterm><programlisting>Hibernate ()</programlisting></refsect2>
+          <para>
+            Hibernates the computer into a low power state.
+            System state is preserved if the power is lost.
+          </para>
+          <para>
+            If AboutToSleep() has not been called then UPower will send
+            the Sleeping() signal and block for one second.
+          </para>
+          <para>
+            If AboutToSleep() has been called less than one second
+            before this method is called then UPower will block for the
+            remaining time to complete one second of delay.
+          </para>
+        <variablelist role="params"/><refsect2><title><anchor role="function" id="UPower.HibernateAllowed"/>HibernateAllowed ()</title><indexterm><primary>HibernateAllowed</primary><secondary>UPower</secondary></indexterm><programlisting>HibernateAllowed (out'b'allowed)</programlisting></refsect2>
+          <para>
+            Check if the caller has (or can get) the PolicyKit privilege to call
+            <link linkend="Power.Hibernate"><function>Hibernate</function></link>.
+          </para>
+        <variablelist role="params"><varlistentry><term><parameter>allowed</parameter>:</term><listitem><simpara>TRUE if allowed, otherwise FALSE</simpara></listitem></varlistentry></variablelist></refsect1>
   <refsect1 role="signals"><title role="signals.title">Signal Details</title><refsect2><title><anchor role="function" id="UPower::DeviceAdded"/>The DeviceAdded signal</title><indexterm><primary>DeviceAdded</primary><secondary>UPower</secondary></indexterm><programlisting>DeviceAdded ('o'device)</programlisting></refsect2>
           <para>
             Emitted when a device is added.
@@ -97,10 +169,53 @@
           <para>
             Emitted when a device is removed.
           </para>
-        <variablelist role="params"><varlistentry><term><parameter>device</parameter>:</term><listitem><simpara>Object path of device that was removed.</simpara></listitem></varlistentry></variablelist></refsect1>
+        <variablelist role="params"><varlistentry><term><parameter>device</parameter>:</term><listitem><simpara>Object path of device that was removed.</simpara></listitem></varlistentry></variablelist><refsect2><title><anchor role="function" id="UPower::Sleeping"/>The Sleeping signal</title><indexterm><primary>Sleeping</primary><secondary>UPower</secondary></indexterm><programlisting>Sleeping ()</programlisting></refsect2>
+          <para>
+            This signal is sent when the session is about to be suspended or
+            hibernated.
+          </para>
+          <para>
+            This signal is DEPRECATED. Use NotifySleep() instead.
+          </para>
+        <variablelist role="params"/><refsect2><title><anchor role="function" id="UPower::NotifySleep"/>The NotifySleep signal</title><indexterm><primary>NotifySleep</primary><secondary>UPower</secondary></indexterm><programlisting>NotifySleep ('s'action)</programlisting></refsect2>
+          <para>
+            This signal is sent when the session is about to be suspended or
+            hibernated.
+            Session and system programs have one second to do anything required
+            before the sleep action is taken (such as sending out Avahi or
+            Jabber messages).
+          </para>
+        <variablelist role="params"><varlistentry><term><parameter>action</parameter>:</term><listitem><simpara>
+            The sleep action type, e.g. suspend,
+            hibernate or hybrid.
+          </simpara></listitem></varlistentry></variablelist><refsect2><title><anchor role="function" id="UPower::Resuming"/>The Resuming signal</title><indexterm><primary>Resuming</primary><secondary>UPower</secondary></indexterm><programlisting>Resuming ()</programlisting></refsect2>
+          <para>
+            This signal is sent when the session has just returned from
+            Suspend() or Hibernate().
+          </para>
+          <para>
+            This signal is DEPRECATED. Use NotifyResume() instead.
+          </para>
+        <variablelist role="params"/><refsect2><title><anchor role="function" id="UPower::NotifyResume"/>The NotifyResume signal</title><indexterm><primary>NotifyResume</primary><secondary>UPower</secondary></indexterm><programlisting>NotifyResume ('s'action)</programlisting></refsect2>
+          <para>
+            This signal is sent when the session has just returned from
+            Suspend() or Hibernate().
+            Session and system programs can then do anything required (such as
+            sending out Avahi or Jabber messages).
+          </para>
+        <variablelist role="params"><varlistentry><term><parameter>action</parameter>:</term><listitem><simpara>
+            The sleep action type, e.g. suspend,
+            hibernate or hybrid.
+          </simpara></listitem></varlistentry></variablelist></refsect1>
   <refsect1 role="property_details"><title role="property_details.title">Property Details</title><refsect2><title><anchor role="function" id="UPower:DaemonVersion"/>The "DaemonVersion" property</title><indexterm><primary>DaemonVersion</primary><secondary>UPower</secondary></indexterm><programlisting>'DaemonVersion'read's'
 </programlisting></refsect2><para>
             Version of the running daemon, e.g. <literal>002</literal>.
+      </para><variablelist role="params"/><refsect2><title><anchor role="function" id="UPower:CanSuspend"/>The "CanSuspend" property</title><indexterm><primary>CanSuspend</primary><secondary>UPower</secondary></indexterm><programlisting>'CanSuspend'read'b'
+</programlisting></refsect2><para>
+            Whether the system is able to suspend.
+      </para><variablelist role="params"/><refsect2><title><anchor role="function" id="UPower:CanHibernate"/>The "CanHibernate" property</title><indexterm><primary>CanHibernate</primary><secondary>UPower</secondary></indexterm><programlisting>'CanHibernate'read'b'
+</programlisting></refsect2><para>
+            Whether the system is able to hibernate.
       </para><variablelist role="params"/><refsect2><title><anchor role="function" id="UPower:OnBattery"/>The "OnBattery" property</title><indexterm><primary>OnBattery</primary><secondary>UPower</secondary></indexterm><programlisting>'OnBattery'read'b'
 </programlisting></refsect2><para>
             Indicates whether the system is running on battery power.
@@ -115,6 +230,19 @@
           <para>
             If the system has a lid device.
           </para>
+        <variablelist role="params"/><refsect2><title><anchor role="function" id="UPower:LidForceSleep"/>The "LidForceSleep" property</title><indexterm><primary>LidForceSleep</primary><secondary>UPower</secondary></indexterm><programlisting>'LidForceSleep'read'b'
+</programlisting></refsect2>
+          <para>
+            If the system really has to sleep when the lid is closed.
+            Some laptops actually melt (!) if the lid is closed and the
+            computer keeps running. We blacklist those, and do something
+            sane for the other machines.
+          </para>
+          <para>
+            This allows us to set the default session policy to not
+            suspend on lid close if the laptop is docked, and be sure
+            the machine is not going to melt.
+          </para>
         <variablelist role="params"/><refsect2><title><anchor role="function" id="UPower:IsDocked"/>The "IsDocked" property</title><indexterm><primary>IsDocked</primary><secondary>UPower</secondary></indexterm><programlisting>'IsDocked'read'b'
 </programlisting></refsect2>
           <para>
diff -urN upower-0.99.0/doc/html/Device.html upower-0.99.0-patched-pretty/doc/html/Device.html
--- upower-0.99.0/doc/html/Device.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/Device.html	2014-07-13 21:34:35.173231625 -0400
@@ -3,24 +3,21 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: org.freedesktop.UPower.Device</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="ref-dbus.html" title="D-Bus API Reference">
 <link rel="prev" href="UPower.html" title="org.freedesktop.UPower">
 <link rel="next" href="KbdBacklight.html" title="org.freedesktop.UPower.KbdBacklight">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left">
-<a href="#" class="shortcut">Top</a>
-                   | 
-                  <a href="#Device.description" class="shortcut">Description</a>
-                   | 
-                  <a href="#Device.implemented-interfaces" class="shortcut">Implemented Interfaces</a>
-                   | 
-                  <a href="#Device.properties" class="shortcut">Properties</a>
+<td width="100%" align="left" class="shortcuts">
+<a href="#" class="shortcut">Top</a><span id="nav_description"> <span class="dim">|</span> 
+                  <a href="#Device.description" class="shortcut">Description</a></span><span id="nav_interfaces"> <span class="dim">|</span> 
+                  <a href="#Device.implemented-interfaces" class="shortcut">Implemented Interfaces</a></span><span id="nav_properties"> <span class="dim">|</span> 
+                  <a href="#Device.properties" class="shortcut">Properties</a></span>
 </td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="ref-dbus.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
@@ -34,7 +31,7 @@
 <h2><span class="refentrytitle">org.freedesktop.UPower.Device</span></h2>
 <p>org.freedesktop.UPower.Device — Device interface</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
 <div class="refsynopsisdiv">
 <h2>Methods</h2>
@@ -106,227 +103,114 @@
         </p>
 <p>
           </p>
-<div class="informalexample">
-  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
-    <tbody>
-      <tr>
-        <td class="listing_lines" align="right"><pre>1
-2
-3
-4
-5
-6
-7
-8
-9
-10
-11
-12
-13
-14
-15
-16
-17
-18
-19
-20
-21
-22
-23
-24
-25
-26
-27
-28
-29
-30
-31
-32
-33
-34
-35
-36
-37
-38
-39
-40
-41
-42
-43
-44
-45
-46
-47
-48
-49
-50
-51
-52
-53
-54
-55
-56
-57
-58
-59
-60
-61
-62
-63
-64
-65
-66
-67
-68
-69
-70
-71
-72
-73
-74
-75
-76
-77
-78
-79
-80
-81
-82
-83
-84
-85
-86
-87
-88
-89
-90
-91
-92
-93
-94
-95
-96
-97
-98
-99
-100
-101
-102
-103
-104
-105
-106</pre></td>
-        <td class="listing_code"><pre class="programlisting"><span class="normal">$ dbus</span><span class="symbol">-</span><span class="normal">send </span><span class="symbol">--</span><span class="normal">print</span><span class="symbol">-</span><span class="normal">reply </span><span class="symbol">\</span>
-<span class="normal">            </span><span class="symbol">--</span><span class="normal">system </span><span class="symbol">\</span>
-<span class="normal">            </span><span class="symbol">--</span><span class="normal">dest</span><span class="symbol">=</span><span class="normal">org</span><span class="symbol">.</span><span class="normal">freedesktop</span><span class="symbol">.</span><span class="normal"><a href="UPower.html">UPower</a> </span><span class="symbol">\</span>
-<span class="normal">            </span><span class="symbol">/</span><span class="normal">org</span><span class="symbol">/</span><span class="normal">freedesktop</span><span class="symbol">/</span><span class="normal"><a href="UPower.html">UPower</a></span><span class="symbol">/</span><span class="normal">devices</span><span class="symbol">/</span><span class="normal">battery_BAT0 </span><span class="symbol">\</span>
-<span class="normal">            org</span><span class="symbol">.</span><span class="normal">freedesktop</span><span class="symbol">.</span><span class="normal">DBus</span><span class="symbol">.</span><span class="normal">Properties</span><span class="symbol">.</span><span class="normal">GetAll </span><span class="symbol">\</span>
-<span class="normal">            string</span><span class="symbol">:</span><span class="normal">org</span><span class="symbol">.</span><span class="normal">freedesktop</span><span class="symbol">.</span><span class="normal"><a href="UPower.html">UPower</a></span><span class="symbol">.</span><span class="normal"><a href="Device.html">Device</a></span>
-
-<span class="normal">method </span><span class="usertype">return</span><span class="normal"> sender</span><span class="symbol">=:</span><span class="number">1.386</span><span class="normal"> </span><span class="symbol">-&gt;</span><span class="normal"> dest</span><span class="symbol">=:</span><span class="number">1.477</span><span class="normal"> reply_serial</span><span class="symbol">=</span><span class="number">2</span>
-<span class="normal">   array </span><span class="symbol">[</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"native-path"</span>
-<span class="normal">         </span><span class="usertype">variant</span><span class="normal">             string </span><span class="string">"/sys/devices/LNXSYSTM:00/device:00/PNP0A08:00/device:01/PNP0C09:00/PNP0C0A:00/power_supply/BAT0"</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"vendor"</span>
-<span class="normal">         </span><span class="usertype">variant</span><span class="normal">             string </span><span class="string">"SONY"</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"model"</span>
-<span class="normal">         </span><span class="usertype">variant</span><span class="normal">             string </span><span class="string">"42T4568"</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"serial"</span>
-<span class="normal">         </span><span class="usertype">variant</span><span class="normal">             string </span><span class="string">"4179"</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"update-time"</span>
-<span class="normal">         variant             uint64 </span><span class="number">1226417875</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"type"</span>
-<span class="normal">         variant             uint </span><span class="number">2</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"power-supply"</span>
-<span class="normal">         variant             boolean true</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"has-history"</span>
-<span class="normal">         variant             boolean true</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"has-statistics"</span>
-<span class="normal">         variant             boolean true</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"online"</span>
-<span class="normal">         variant             boolean false</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"energy"</span>
-<span class="normal">         variant             </span><span class="type">double</span><span class="normal"> </span><span class="number">72.85</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"energy-empty"</span>
-<span class="normal">         variant             </span><span class="type">double</span><span class="normal"> </span><span class="number">0</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"energy-full"</span>
-<span class="normal">         variant             </span><span class="type">double</span><span class="normal"> </span><span class="number">74.55</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"energy-full-design"</span>
-<span class="normal">         variant             </span><span class="type">double</span><span class="normal"> </span><span class="number">74.88</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"energy-rate"</span>
-<span class="normal">         variant             </span><span class="type">double</span><span class="normal"> </span><span class="number">0</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"voltage"</span>
-<span class="normal">         variant             </span><span class="type">double</span><span class="normal"> </span><span class="number">16.415</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"time-to-empty"</span>
-<span class="normal">         variant             int64 </span><span class="number">0</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"time-to-full"</span>
-<span class="normal">         variant             int64 </span><span class="number">0</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"percentage"</span>
-<span class="normal">         variant             </span><span class="type">double</span><span class="normal"> </span><span class="number">97.7197</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"is-present"</span>
-<span class="normal">         variant             boolean true</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"state"</span>
-<span class="normal">         variant             uint </span><span class="number">3</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"is-rechargeable"</span>
-<span class="normal">         variant             boolean true</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"capacity"</span>
-<span class="normal">         variant             </span><span class="type">double</span><span class="normal"> </span><span class="number">100</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">      </span><span class="usertype">dict</span><span class="normal"> </span><span class="function">entry</span><span class="symbol">(</span>
-<span class="normal">         string </span><span class="string">"technology"</span>
-<span class="normal">         variant             uint </span><span class="number">1</span>
-<span class="normal">      </span><span class="symbol">)</span>
-<span class="normal">   </span><span class="symbol">]</span></pre></td>
-      </tr>
-    </tbody>
-  </table>
-</div>
+<div class="informalexample"><pre class="programlisting">
+$ dbus-send --print-reply \
+            --system \
+            --dest=org.freedesktop.UPower \
+            /org/freedesktop/UPower/devices/battery_BAT0 \
+            org.freedesktop.DBus.Properties.GetAll \
+            string:org.freedesktop.UPower.Device
 
+method return sender=:1.386 -&gt; dest=:1.477 reply_serial=2
+   array [
+      dict entry(
+         string "native-path"
+         variant             string "/sys/devices/LNXSYSTM:00/device:00/PNP0A08:00/device:01/PNP0C09:00/PNP0C0A:00/power_supply/BAT0"
+      )
+      dict entry(
+         string "vendor"
+         variant             string "SONY"
+      )
+      dict entry(
+         string "model"
+         variant             string "42T4568"
+      )
+      dict entry(
+         string "serial"
+         variant             string "4179"
+      )
+      dict entry(
+         string "update-time"
+         variant             uint64 1226417875
+      )
+      dict entry(
+         string "type"
+         variant             uint 2
+      )
+      dict entry(
+         string "power-supply"
+         variant             boolean true
+      )
+      dict entry(
+         string "has-history"
+         variant             boolean true
+      )
+      dict entry(
+         string "has-statistics"
+         variant             boolean true
+      )
+      dict entry(
+         string "online"
+         variant             boolean false
+      )
+      dict entry(
+         string "energy"
+         variant             double 72.85
+      )
+      dict entry(
+         string "energy-empty"
+         variant             double 0
+      )
+      dict entry(
+         string "energy-full"
+         variant             double 74.55
+      )
+      dict entry(
+         string "energy-full-design"
+         variant             double 74.88
+      )
+      dict entry(
+         string "energy-rate"
+         variant             double 0
+      )
+      dict entry(
+         string "voltage"
+         variant             double 16.415
+      )
+      dict entry(
+         string "time-to-empty"
+         variant             int64 0
+      )
+      dict entry(
+         string "time-to-full"
+         variant             int64 0
+      )
+      dict entry(
+         string "percentage"
+         variant             double 97.7197
+      )
+      dict entry(
+         string "is-present"
+         variant             boolean true
+      )
+      dict entry(
+         string "state"
+         variant             uint 3
+      )
+      dict entry(
+         string "is-rechargeable"
+         variant             boolean true
+      )
+      dict entry(
+         string "capacity"
+         variant             double 100
+      )
+      dict entry(
+         string "technology"
+         variant             uint 1
+      )
+   ]
+            </pre></div>
 <p>
         </p>
 <p>
@@ -1124,6 +1008,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/KbdBacklight.html upower-0.99.0-patched-pretty/doc/html/KbdBacklight.html
--- upower-0.99.0/doc/html/KbdBacklight.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/KbdBacklight.html	2014-07-13 21:34:35.174231625 -0400
@@ -3,24 +3,21 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: org.freedesktop.UPower.KbdBacklight</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="ref-dbus.html" title="D-Bus API Reference">
 <link rel="prev" href="Device.html" title="org.freedesktop.UPower.Device">
 <link rel="next" href="libupower-glib.html" title="libupower-glib GObjects">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left">
-<a href="#" class="shortcut">Top</a>
-                   | 
-                  <a href="#KbdBacklight.description" class="shortcut">Description</a>
-                   | 
-                  <a href="#KbdBacklight.implemented-interfaces" class="shortcut">Implemented Interfaces</a>
-                   | 
-                  <a href="#KbdBacklight.signals" class="shortcut">Signals</a>
+<td width="100%" align="left" class="shortcuts">
+<a href="#" class="shortcut">Top</a><span id="nav_description"> <span class="dim">|</span> 
+                  <a href="#KbdBacklight.description" class="shortcut">Description</a></span><span id="nav_interfaces"> <span class="dim">|</span> 
+                  <a href="#KbdBacklight.implemented-interfaces" class="shortcut">Implemented Interfaces</a></span><span id="nav_signals"> <span class="dim">|</span> 
+                  <a href="#KbdBacklight.signals" class="shortcut">Signals</a></span>
 </td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="ref-dbus.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
@@ -34,7 +31,7 @@
 <h2><span class="refentrytitle">org.freedesktop.UPower.KbdBacklight</span></h2>
 <p>org.freedesktop.UPower.KbdBacklight — KbdBacklight interface</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
 <div class="refsynopsisdiv">
 <h2>Methods</h2>
@@ -200,6 +197,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/UPower-up-client.html upower-0.99.0-patched-pretty/doc/html/UPower-up-client.html
--- upower-0.99.0/doc/html/UPower-up-client.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/UPower-up-client.html	2014-07-13 21:34:35.177231625 -0400
@@ -3,20 +3,20 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: up-client</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="libupower-glib.html" title="libupower-glib GObjects">
 <link rel="prev" href="libupower-glib.html" title="libupower-glib GObjects">
 <link rel="next" href="UPower-up-device.html" title="up-device">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left">
-<a href="#" class="shortcut">Top</a>
-                   | 
-                  <a href="#UPower-up-client.description" class="shortcut">Description</a>
+<td width="100%" align="left" class="shortcuts">
+<a href="#" class="shortcut">Top</a><span id="nav_description"> <span class="dim">|</span> 
+                  <a href="#UPower-up-client.description" class="shortcut">Description</a></span><span id="nav_hierarchy"> <span class="dim">|</span> 
+                  <a href="#UPower-up-client.object-hierarchy" class="shortcut">Object Hierarchy</a></span>
 </td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="libupower-glib.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
@@ -30,338 +30,873 @@
 <h2><span class="refentrytitle"><a name="UPower-up-client.top_of_page"></a>up-client</span></h2>
 <p>up-client — Main client object for accessing the UPower daemon</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
-<div class="refsynopsisdiv">
-<a name="UPower-up-client.synopsis"></a><h2>Synopsis</h2>
-<pre class="synopsis">#define             <a class="link" href="UPower-up-client.html#UP-CLIENT-ERROR:CAPS" title="UP_CLIENT_ERROR">UP_CLIENT_ERROR</a>
-#define             <a class="link" href="UPower-up-client.html#UP-CLIENT-TYPE-ERROR:CAPS" title="UP_CLIENT_TYPE_ERROR">UP_CLIENT_TYPE_ERROR</a>
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-client.html#device-added" title="device_added ()">*device_added</a>)                     (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
-                                                         <em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-client.html#device-removed" title="device_removed ()">*device_removed</a>)                   (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *object_path</code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-client.html#up-client-reserved1" title="_up_client_reserved1 ()">*_up_client_reserved1</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-client.html#up-client-reserved2" title="_up_client_reserved2 ()">*_up_client_reserved2</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-client.html#up-client-reserved3" title="_up_client_reserved3 ()">*_up_client_reserved3</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-client.html#up-client-reserved4" title="_up_client_reserved4 ()">*_up_client_reserved4</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-client.html#up-client-reserved5" title="_up_client_reserved5 ()">*_up_client_reserved5</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-client.html#up-client-reserved6" title="_up_client_reserved6 ()">*_up_client_reserved6</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-client.html#up-client-reserved7" title="_up_client_reserved7 ()">*_up_client_reserved7</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-client.html#up-client-reserved8" title="_up_client_reserved8 ()">*_up_client_reserved8</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">UpClient</span> *          <a class="link" href="UPower-up-client.html#up-client-new" title="up_client_new ()">up_client_new</a>                       (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">UpDevice</span> *          <a class="link" href="UPower-up-client.html#up-client-get-display-device" title="up_client_get_display_device ()">up_client_get_display_device</a>        (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);
-<span class="returnvalue">char</span> *              <a class="link" href="UPower-up-client.html#up-client-get-critical-action" title="up_client_get_critical_action ()">up_client_get_critical_action</a>       (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *         <a class="link" href="UPower-up-client.html#up-client-get-devices" title="up_client_get_devices ()">up_client_get_devices</a>               (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);
-const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       <a class="link" href="UPower-up-client.html#up-client-get-daemon-version" title="up_client_get_daemon_version ()">up_client_get_daemon_version</a>        (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="UPower-up-client.html#up-client-get-lid-is-closed" title="up_client_get_lid_is_closed ()">up_client_get_lid_is_closed</a>         (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="UPower-up-client.html#up-client-get-lid-is-present" title="up_client_get_lid_is_present ()">up_client_get_lid_is_present</a>        (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="UPower-up-client.html#up-client-get-is-docked" title="up_client_get_is_docked ()">up_client_get_is_docked</a>             (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="UPower-up-client.html#up-client-get-on-battery" title="up_client_get_on_battery ()">up_client_get_on_battery</a>            (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);
+<div class="refsect1">
+<a name="UPower-up-client.functions"></a><h2>Functions</h2>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="functions_return">
+<col class="functions_name">
+</colgroup>
+<tbody>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#device-added" title="device_added ()">*device_added</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#device-removed" title="device_removed ()">*device_removed</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#notify-sleep" title="notify_sleep ()">*notify_sleep</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#notify-resume" title="notify_resume ()">*notify_resume</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#up-client-reserved1" title="_up_client_reserved1 ()">*_up_client_reserved1</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#up-client-reserved2" title="_up_client_reserved2 ()">*_up_client_reserved2</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#up-client-reserved3" title="_up_client_reserved3 ()">*_up_client_reserved3</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#up-client-reserved4" title="_up_client_reserved4 ()">*_up_client_reserved4</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#up-client-reserved5" title="_up_client_reserved5 ()">*_up_client_reserved5</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#up-client-reserved6" title="_up_client_reserved6 ()">*_up_client_reserved6</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#up-client-reserved7" title="_up_client_reserved7 ()">*_up_client_reserved7</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-client.html#up-client-reserved8" title="_up_client_reserved8 ()">*_up_client_reserved8</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">UpClient</span> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-new" title="up_client_new ()">up_client_new</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">UpDevice</span> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-display-device" title="up_client_get_display_device ()">up_client_get_display_device</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">char</span> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-critical-action" title="up_client_get_critical_action ()">up_client_get_critical_action</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-properties-sync" title="up_client_get_properties_sync ()">up_client_get_properties_sync</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-suspend-sync" title="up_client_suspend_sync ()">up_client_suspend_sync</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-about-to-sleep-sync" title="up_client_about_to_sleep_sync ()">up_client_about_to_sleep_sync</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-hibernate-sync" title="up_client_hibernate_sync ()">up_client_hibernate_sync</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-devices" title="up_client_get_devices ()">up_client_get_devices</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-daemon-version" title="up_client_get_daemon_version ()">up_client_get_daemon_version</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-can-hibernate" title="up_client_get_can_hibernate ()">up_client_get_can_hibernate</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-lid-is-closed" title="up_client_get_lid_is_closed ()">up_client_get_lid_is_closed</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-lid-is-present" title="up_client_get_lid_is_present ()">up_client_get_lid_is_present</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-lid-force-sleep" title="up_client_get_lid_force_sleep ()">up_client_get_lid_force_sleep</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-is-docked" title="up_client_get_is_docked ()">up_client_get_is_docked</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-can-suspend" title="up_client_get_can_suspend ()">up_client_get_can_suspend</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-client.html#up-client-get-on-battery" title="up_client_get_on_battery ()">up_client_get_on_battery</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+</tbody>
+</table></div>
+</div>
+<div class="refsect1">
+<a name="UPower-up-client.other"></a><h2>Types and Values</h2>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="name">
+<col class="description">
+</colgroup>
+<tbody>
+<tr>
+<td class="define_keyword">#define</td>
+<td class="function_name"><a class="link" href="UPower-up-client.html#UP-CLIENT-ERROR:CAPS" title="UP_CLIENT_ERROR">UP_CLIENT_ERROR</a></td>
+</tr>
+<tr>
+<td class="define_keyword">#define</td>
+<td class="function_name"><a class="link" href="UPower-up-client.html#UP-CLIENT-TYPE-ERROR:CAPS" title="UP_CLIENT_TYPE_ERROR">UP_CLIENT_TYPE_ERROR</a></td>
+</tr>
+</tbody>
+</table></div>
+</div>
+<div class="refsect1">
+<a name="UPower-up-client.object-hierarchy"></a><h2>Object Hierarchy</h2>
+<pre class="screen">
 </pre>
 </div>
 <div class="refsect1">
 <a name="UPower-up-client.description"></a><h2>Description</h2>
-<p>
-A helper GObject to use for accessing UPower information, and to be notified
-when it is changed.
-</p>
-<p>
-See also: <span class="type">UpDevice</span>
-</p>
+<p>A helper GObject to use for accessing UPower information, and to be notified
+when it is changed.</p>
+<p>See also: <span class="type">UpDevice</span></p>
 </div>
 <div class="refsect1">
-<a name="UPower-up-client.details"></a><h2>Details</h2>
+<a name="UPower-up-client.functions_details"></a><h2>Functions</h2>
 <div class="refsect2">
-<a name="UP-CLIENT-ERROR:CAPS"></a><h3>UP_CLIENT_ERROR</h3>
-<pre class="programlisting">#define UP_CLIENT_ERROR			(up_client_error_quark ())
-</pre>
+<a name="device-added"></a><h3>device_added ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*device_added<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
+                 <em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="UP-CLIENT-TYPE-ERROR:CAPS"></a><h3>UP_CLIENT_TYPE_ERROR</h3>
-<pre class="programlisting">#define UP_CLIENT_TYPE_ERROR		(up_client_error_get_type ())
-</pre>
+<a name="device-removed"></a><h3>device_removed ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*device_removed<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
+                   <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *object_path</code></em>);</pre>
+</div>
+<hr>
+<div class="refsect2">
+<a name="notify-sleep"></a><h3>notify_sleep ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*notify_sleep<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
+                 <em class="parameter"><code><a class="link" href="UPower-up-types.html#UpSleepKind" title="enum UpSleepKind"><span class="type">UpSleepKind</span></a> sleep_kind</code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="device-added"></a><h3>device_added ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*device_added)                     (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
-                                                         <em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>);</pre>
+<a name="notify-resume"></a><h3>notify_resume ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*notify_resume<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
+                  <em class="parameter"><code><a class="link" href="UPower-up-types.html#UpSleepKind" title="enum UpSleepKind"><span class="type">UpSleepKind</span></a> sleep_kind</code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="device-removed"></a><h3>device_removed ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*device_removed)                   (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *object_path</code></em>);</pre>
+<a name="up-client-reserved1"></a><h3>_up_client_reserved1 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_client_reserved1<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-reserved1"></a><h3>_up_client_reserved1 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_client_reserved1)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-client-reserved2"></a><h3>_up_client_reserved2 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_client_reserved2<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-reserved2"></a><h3>_up_client_reserved2 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_client_reserved2)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-client-reserved3"></a><h3>_up_client_reserved3 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_client_reserved3<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-reserved3"></a><h3>_up_client_reserved3 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_client_reserved3)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-client-reserved4"></a><h3>_up_client_reserved4 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_client_reserved4<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-reserved4"></a><h3>_up_client_reserved4 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_client_reserved4)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-client-reserved5"></a><h3>_up_client_reserved5 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_client_reserved5<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-reserved5"></a><h3>_up_client_reserved5 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_client_reserved5)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-client-reserved6"></a><h3>_up_client_reserved6 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_client_reserved6<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-reserved6"></a><h3>_up_client_reserved6 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_client_reserved6)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-client-reserved7"></a><h3>_up_client_reserved7 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_client_reserved7<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-reserved7"></a><h3>_up_client_reserved7 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_client_reserved7)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-client-reserved8"></a><h3>_up_client_reserved8 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_client_reserved8<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-reserved8"></a><h3>_up_client_reserved8 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_client_reserved8)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-client-new"></a><h3>up_client_new ()</h3>
+<pre class="programlisting"><span class="returnvalue">UpClient</span> *
+up_client_new (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<p>Creates a new <span class="type">UpClient</span> object.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.14.5"></a><h4>Returns</h4>
+<p> a new UpClient object.</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-new"></a><h3>up_client_new ()</h3>
-<pre class="programlisting"><span class="returnvalue">UpClient</span> *          up_client_new                       (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
-<p>
-Creates a new <span class="type">UpClient</span> object.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-client-get-display-device"></a><h3>up_client_get_display_device ()</h3>
+<pre class="programlisting"><span class="returnvalue">UpDevice</span> *
+up_client_get_display_device (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
+<p>Get the composite display device.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.15.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>a new UpClient object.</td>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
 </tr></tbody>
 </table></div>
-<p class="since">Since 0.9.0</p>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.15.6"></a><h4>Returns</h4>
+<p> (transfer full) a <span class="type">UpClient</span> object, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> on error.</p>
+<p></p>
+</div>
+<p class="since">Since 1.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-get-display-device"></a><h3>up_client_get_display_device ()</h3>
-<pre class="programlisting"><span class="returnvalue">UpDevice</span> *          up_client_get_display_device        (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
-<p>
-Get the composite display device.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-client-get-critical-action"></a><h3>up_client_get_critical_action ()</h3>
+<pre class="programlisting"><span class="returnvalue">char</span> *
+up_client_get_critical_action (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
+<p>Gets a string representing the configured critical action,
+depending on availability.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.16.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>client</code></em> :</span></p></td>
-<td>a <span class="type">UpClient</span> instance.</td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>(transfer full) a <span class="type">UpClient</span> object, or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a> on error.</td>
-</tr>
-</tbody>
+<tbody><tr>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.16.6"></a><h4>Returns</h4>
+<p> the action name, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> on error.</p>
+<p></p>
+</div>
 <p class="since">Since 1.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-get-critical-action"></a><h3>up_client_get_critical_action ()</h3>
-<pre class="programlisting"><span class="returnvalue">char</span> *              up_client_get_critical_action       (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
-<p>
-Gets a string representing the configured critical action,
-depending on availability.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-client-get-properties-sync"></a><h3>up_client_get_properties_sync ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_client_get_properties_sync (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
+                               <em class="parameter"><code><a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
+                               <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
+<p>Get all the properties from UPower daemon.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.17.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>client</code></em> :</span></p></td>
-<td>a <span class="type">UpClient</span> instance.</td>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>the action name, or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a> on error.</td>
+<td class="parameter_name"><p>cancellable</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a></p></td>
+<td class="parameter_annotations"> </td>
+</tr>
+<tr>
+<td class="parameter_name"><p>error</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
-<p class="since">Since 1.0</p>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.17.6"></a><h4>Returns</h4>
+<p> <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> for success, else <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a>.</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-get-devices"></a><h3>up_client_get_devices ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *         up_client_get_devices               (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
-<p>
-Get a copy of the device objects.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-client-suspend-sync"></a><h3>up_client_suspend_sync ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_client_suspend_sync (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
+                        <em class="parameter"><code><a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
+                        <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
+<div class="warning"><p><code class="literal">up_client_suspend_sync</code> is deprecated and should not be used in newly-written code.</p></div>
+<p>Puts the computer into a low power state, but state is not preserved if the
+power is lost.</p>
+<p>NOTE: The system is still consuming a small amount of power</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.18.8"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>client</code></em> :</span></p></td>
-<td>a <span class="type">UpClient</span> instance.</td>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>an array of <span class="type">UpDevice</span> objects, free with <a href="http://library.gnome.org/devel/glib/unstable/glib-Pointer-Arrays.html#g-ptr-array-unref"><code class="function">g_ptr_array_unref()</code></a>. <span class="annotation">[<acronym title="Generics and defining elements of containers and arrays."><span class="acronym">element-type</span></acronym> UpDevice][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span>
-</td>
+<td class="parameter_name"><p>cancellable</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a></p></td>
+<td class="parameter_annotations"> </td>
+</tr>
+<tr>
+<td class="parameter_name"><p>error</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.18.9"></a><h4>Returns</h4>
+<p> TRUE if system suspended okay, FALSE other wise.</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-get-daemon-version"></a><h3>up_client_get_daemon_version ()</h3>
-<pre class="programlisting">const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       up_client_get_daemon_version        (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
-<p>
-Get UPower daemon version.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-client-about-to-sleep-sync"></a><h3>up_client_about_to_sleep_sync ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_client_about_to_sleep_sync (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
+                               <em class="parameter"><code><a class="link" href="UPower-up-types.html#UpSleepKind" title="enum UpSleepKind"><span class="type">UpSleepKind</span></a> sleep_kind</code></em>,
+                               <em class="parameter"><code><a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
+                               <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
+<p>Tells UPower that we are soon to reqest either <code class="function">Suspend()</code> or <code class="function">Hibernate()</code>
+and that session and system components should be notified of this.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.19.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>client</code></em> :</span></p></td>
-<td>a <span class="type">UpClient</span> instance.</td>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr>
+<tr>
+<td class="parameter_name"><p>sleep_kind</p></td>
+<td class="parameter_description"><p>a sleep type, e.g. <a class="link" href="UPower-up-types.html#UP-SLEEP-KIND-SUSPEND:CAPS"><code class="literal">UP_SLEEP_KIND_SUSPEND</code></a></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>string containing the daemon version, e.g. 008</td>
+<td class="parameter_name"><p>cancellable</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a></p></td>
+<td class="parameter_annotations"> </td>
+</tr>
+<tr>
+<td class="parameter_name"><p>error</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
-<p class="since">Since 0.9.0</p>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.19.6"></a><h4>Returns</h4>
+<p> TRUE if system suspended okay, FALSE other wise.</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.11</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-get-lid-is-closed"></a><h3>up_client_get_lid_is_closed ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            up_client_get_lid_is_closed         (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
-<p>
-Get whether the laptop lid is closed.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-client-hibernate-sync"></a><h3>up_client_hibernate_sync ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_client_hibernate_sync (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>,
+                          <em class="parameter"><code><a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
+                          <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
+<p>Puts the computer into a low power state, where state is preserved if the
+power is lost.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.20.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>client</code></em> :</span></p></td>
-<td>a <span class="type">UpClient</span> instance.</td>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if lid is closed or <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> otherwise.</td>
+<td class="parameter_name"><p>cancellable</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a></p></td>
+<td class="parameter_annotations"> </td>
+</tr>
+<tr>
+<td class="parameter_name"><p>error</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.20.6"></a><h4>Returns</h4>
+<p> TRUE if system suspended okay, FALSE other wise.</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-get-lid-is-present"></a><h3>up_client_get_lid_is_present ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            up_client_get_lid_is_present        (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
-<p>
-Get whether a laptop lid is present on this machine.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-client-get-devices"></a><h3>up_client_get_devices ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *
+up_client_get_devices (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
+<div class="warning"><p><code class="literal">up_client_get_devices</code> is deprecated and should not be used in newly-written code.</p></div>
+<p>Get a copy of the device objects.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.21.7"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>client</code></em> :</span></p></td>
-<td>a <span class="type">UpClient</span> instance.</td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the machine has a laptop lid</td>
-</tr>
-</tbody>
+<tbody><tr>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
+</table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.21.8"></a><h4>Returns</h4>
+<p> an array of <span class="type">UpDevice</span> objects, free with <a href="/usr/share/gtk-doc/html/glib/glib-Pointer-Arrays.html#g-ptr-array-unref"><code class="function">g_ptr_array_unref()</code></a>. </p>
+<p><span class="annotation">[<acronym title="Generics and defining elements of containers and arrays."><span class="acronym">element-type</span></acronym> UpDevice][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></p>
+</div>
+<p class="since">Since 0.9.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-client-get-daemon-version"></a><h3>up_client_get_daemon_version ()</h3>
+<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+up_client_get_daemon_version (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
+<p>Get UPower daemon version.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.22.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
+</colgroup>
+<tbody><tr>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
+</table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.22.6"></a><h4>Returns</h4>
+<p> string containing the daemon version, e.g. 008</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-client-get-can-hibernate"></a><h3>up_client_get_can_hibernate ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_client_get_can_hibernate (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
+<div class="warning"><p><code class="literal">up_client_get_can_hibernate</code> is deprecated and should not be used in newly-written code.</p></div>
+<p>Get whether the system is able to hibernate.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.23.7"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
+</colgroup>
+<tbody><tr>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
+</table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.23.8"></a><h4>Returns</h4>
+<p> TRUE if system can hibernate, FALSE other wise.</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-client-get-lid-is-closed"></a><h3>up_client_get_lid_is_closed ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_client_get_lid_is_closed (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
+<div class="warning"><p><code class="literal">up_client_get_lid_is_closed</code> is deprecated and should not be used in newly-written code.</p></div>
+<p>Get whether the laptop lid is closed.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.24.7"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
+</colgroup>
+<tbody><tr>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
+</table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.24.8"></a><h4>Returns</h4>
+<p> <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if lid is closed or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> otherwise.</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-client-get-lid-is-present"></a><h3>up_client_get_lid_is_present ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_client_get_lid_is_present (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
+<p>Get whether a laptop lid is present on this machine.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.25.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
+</colgroup>
+<tbody><tr>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.25.6"></a><h4>Returns</h4>
+<p> <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the machine has a laptop lid</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.2</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-get-is-docked"></a><h3>up_client_get_is_docked ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            up_client_get_is_docked             (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
-<p>
-Get whether the machine is docked into a docking station.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-client-get-lid-force-sleep"></a><h3>up_client_get_lid_force_sleep ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_client_get_lid_force_sleep (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
+<p>Get whether the laptop has to sleep when the lid is closed.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.26.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>client</code></em> :</span></p></td>
-<td>a <span class="type">UpClient</span> instance.</td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the machine is docked</td>
-</tr>
-</tbody>
+<tbody><tr>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
+</table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.26.6"></a><h4>Returns</h4>
+<p> <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the session has to suspend</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.9</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-client-get-is-docked"></a><h3>up_client_get_is_docked ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_client_get_is_docked (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
+<p>Get whether the machine is docked into a docking station.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.27.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
+</colgroup>
+<tbody><tr>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.27.6"></a><h4>Returns</h4>
+<p> <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the machine is docked</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.2</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-client-get-on-battery"></a><h3>up_client_get_on_battery ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            up_client_get_on_battery            (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
-<p>
-Get whether the system is running on battery power.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-client-get-can-suspend"></a><h3>up_client_get_can_suspend ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_client_get_can_suspend (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
+<div class="warning"><p><code class="literal">up_client_get_can_suspend</code> is deprecated and should not be used in newly-written code.</p></div>
+<p>Get whether the system is able to suspend.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.28.7"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>client</code></em> :</span></p></td>
-<td>a <span class="type">UpClient</span> instance.</td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>TRUE if the system is currently running on battery, FALSE other wise.</td>
-</tr>
-</tbody>
+<tbody><tr>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.28.8"></a><h4>Returns</h4>
+<p> TRUE if system can suspend, FALSE other wise.</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
+<hr>
+<div class="refsect2">
+<a name="up-client-get-on-battery"></a><h3>up_client_get_on_battery ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_client_get_on_battery (<em class="parameter"><code><span class="type">UpClient</span> *client</code></em>);</pre>
+<div class="warning"><p><code class="literal">up_client_get_on_battery</code> is deprecated and should not be used in newly-written code.</p></div>
+<p>Get whether the system is running on battery power.</p>
+<div class="refsect3">
+<a name="id-1.3.3.7.29.7"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
+</colgroup>
+<tbody><tr>
+<td class="parameter_name"><p>client</p></td>
+<td class="parameter_description"><p>a <span class="type">UpClient</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
+</table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.3.7.29.8"></a><h4>Returns</h4>
+<p> TRUE if the system is currently running on battery, FALSE other wise.</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
+</div>
+</div>
+<div class="refsect1">
+<a name="UPower-up-client.other_details"></a><h2>Types and Values</h2>
+<div class="refsect2">
+<a name="UP-CLIENT-ERROR:CAPS"></a><h3>UP_CLIENT_ERROR</h3>
+<pre class="programlisting">#define UP_CLIENT_ERROR			(up_client_error_quark ())
+</pre>
+</div>
+<hr>
+<div class="refsect2">
+<a name="UP-CLIENT-TYPE-ERROR:CAPS"></a><h3>UP_CLIENT_TYPE_ERROR</h3>
+<pre class="programlisting">#define UP_CLIENT_TYPE_ERROR		(up_client_error_get_type ())
+</pre>
+</div>
 </div>
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/UPower-up-device.html upower-0.99.0-patched-pretty/doc/html/UPower-up-device.html
--- upower-0.99.0/doc/html/UPower-up-device.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/UPower-up-device.html	2014-07-13 21:34:35.178231625 -0400
@@ -3,20 +3,20 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: up-device</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="libupower-glib.html" title="libupower-glib GObjects">
 <link rel="prev" href="UPower-up-client.html" title="up-client">
 <link rel="next" href="UPower-up-history-item.html" title="up-history-item">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left">
-<a href="#" class="shortcut">Top</a>
-                   | 
-                  <a href="#UPower-up-device.description" class="shortcut">Description</a>
+<td width="100%" align="left" class="shortcuts">
+<a href="#" class="shortcut">Top</a><span id="nav_description"> <span class="dim">|</span> 
+                  <a href="#UPower-up-device.description" class="shortcut">Description</a></span><span id="nav_hierarchy"> <span class="dim">|</span> 
+                  <a href="#UPower-up-device.object-hierarchy" class="shortcut">Object Hierarchy</a></span>
 </td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="libupower-glib.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
@@ -30,356 +30,510 @@
 <h2><span class="refentrytitle"><a name="UPower-up-device.top_of_page"></a>up-device</span></h2>
 <p>up-device — Client object for accessing information about UPower devices</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
-<div class="refsynopsisdiv">
-<a name="UPower-up-device.synopsis"></a><h2>Synopsis</h2>
-<pre class="synopsis">#define             <a class="link" href="UPower-up-device.html#UP-DEVICE-ERROR:CAPS" title="UP_DEVICE_ERROR">UP_DEVICE_ERROR</a>
-#define             <a class="link" href="UPower-up-device.html#UP-DEVICE-TYPE-ERROR:CAPS" title="UP_DEVICE_TYPE_ERROR">UP_DEVICE_TYPE_ERROR</a>
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-device.html#up-device-reserved1" title="_up_device_reserved1 ()">*_up_device_reserved1</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-device.html#up-device-reserved2" title="_up_device_reserved2 ()">*_up_device_reserved2</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-device.html#up-device-reserved3" title="_up_device_reserved3 ()">*_up_device_reserved3</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-device.html#up-device-reserved4" title="_up_device_reserved4 ()">*_up_device_reserved4</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-device.html#up-device-reserved5" title="_up_device_reserved5 ()">*_up_device_reserved5</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-device.html#up-device-reserved6" title="_up_device_reserved6 ()">*_up_device_reserved6</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-device.html#up-device-reserved7" title="_up_device_reserved7 ()">*_up_device_reserved7</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">void</span>                (<a class="link" href="UPower-up-device.html#up-device-reserved8" title="_up_device_reserved8 ()">*_up_device_reserved8</a>)             (<em class="parameter"><code><span class="type">void</span></code></em>);
-<span class="returnvalue">UpDevice</span> *          <a class="link" href="UPower-up-device.html#up-device-new" title="up_device_new ()">up_device_new</a>                       (<em class="parameter"><code><span class="type">void</span></code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             <a class="link" href="UPower-up-device.html#up-device-to-text" title="up_device_to_text ()">up_device_to_text</a>                   (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="UPower-up-device.html#up-device-refresh-sync" title="up_device_refresh_sync ()">up_device_refresh_sync</a>              (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="UPower-up-device.html#up-device-set-object-path-sync" title="up_device_set_object_path_sync ()">up_device_set_object_path_sync</a>      (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *object_path</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *         <a class="link" href="UPower-up-device.html#up-device-get-history-sync" title="up_device_get_history_sync ()">up_device_get_history_sync</a>          (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *type</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> timespec</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> resolution</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *         <a class="link" href="UPower-up-device.html#up-device-get-statistics-sync" title="up_device_get_statistics_sync ()">up_device_get_statistics_sync</a>       (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *type</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);
-const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       <a class="link" href="UPower-up-device.html#up-device-get-object-path" title="up_device_get_object_path ()">up_device_get_object_path</a>           (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>);
+<div class="refsect1">
+<a name="UPower-up-device.functions"></a><h2>Functions</h2>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="functions_return">
+<col class="functions_name">
+</colgroup>
+<tbody>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-device.html#up-device-reserved1" title="_up_device_reserved1 ()">*_up_device_reserved1</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-device.html#up-device-reserved2" title="_up_device_reserved2 ()">*_up_device_reserved2</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-device.html#up-device-reserved3" title="_up_device_reserved3 ()">*_up_device_reserved3</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-device.html#up-device-reserved4" title="_up_device_reserved4 ()">*_up_device_reserved4</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-device.html#up-device-reserved5" title="_up_device_reserved5 ()">*_up_device_reserved5</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-device.html#up-device-reserved6" title="_up_device_reserved6 ()">*_up_device_reserved6</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-device.html#up-device-reserved7" title="_up_device_reserved7 ()">*_up_device_reserved7</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<span class="c_punctuation">(</span><a class="link" href="UPower-up-device.html#up-device-reserved8" title="_up_device_reserved8 ()">*_up_device_reserved8</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">UpDevice</span> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-device.html#up-device-new" title="up_device_new ()">up_device_new</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-device.html#up-device-to-text" title="up_device_to_text ()">up_device_to_text</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-device.html#up-device-refresh-sync" title="up_device_refresh_sync ()">up_device_refresh_sync</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-device.html#up-device-set-object-path-sync" title="up_device_set_object_path_sync ()">up_device_set_object_path_sync</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-device.html#up-device-get-history-sync" title="up_device_get_history_sync ()">up_device_get_history_sync</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-device.html#up-device-get-statistics-sync" title="up_device_get_statistics_sync ()">up_device_get_statistics_sync</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-device.html#up-device-get-object-path" title="up_device_get_object_path ()">up_device_get_object_path</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+</tbody>
+</table></div>
+</div>
+<div class="refsect1">
+<a name="UPower-up-device.other"></a><h2>Types and Values</h2>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="name">
+<col class="description">
+</colgroup>
+<tbody>
+<tr>
+<td class="define_keyword">#define</td>
+<td class="function_name"><a class="link" href="UPower-up-device.html#UP-DEVICE-ERROR:CAPS" title="UP_DEVICE_ERROR">UP_DEVICE_ERROR</a></td>
+</tr>
+<tr>
+<td class="define_keyword">#define</td>
+<td class="function_name"><a class="link" href="UPower-up-device.html#UP-DEVICE-TYPE-ERROR:CAPS" title="UP_DEVICE_TYPE_ERROR">UP_DEVICE_TYPE_ERROR</a></td>
+</tr>
+</tbody>
+</table></div>
+</div>
+<div class="refsect1">
+<a name="UPower-up-device.object-hierarchy"></a><h2>Object Hierarchy</h2>
+<pre class="screen">
 </pre>
 </div>
 <div class="refsect1">
 <a name="UPower-up-device.description"></a><h2>Description</h2>
-<p>
-A helper GObject to use for accessing UPower devices, and to be notified
-when it is changed.
-</p>
-<p>
-See also: <span class="type">UpClient</span>
-</p>
+<p>A helper GObject to use for accessing UPower devices, and to be notified
+when it is changed.</p>
+<p>See also: <span class="type">UpClient</span></p>
 </div>
 <div class="refsect1">
-<a name="UPower-up-device.details"></a><h2>Details</h2>
+<a name="UPower-up-device.functions_details"></a><h2>Functions</h2>
 <div class="refsect2">
-<a name="UP-DEVICE-ERROR:CAPS"></a><h3>UP_DEVICE_ERROR</h3>
-<pre class="programlisting">#define UP_DEVICE_ERROR		(up_device_error_quark ())
-</pre>
+<a name="up-device-reserved1"></a><h3>_up_device_reserved1 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_device_reserved1<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="UP-DEVICE-TYPE-ERROR:CAPS"></a><h3>UP_DEVICE_TYPE_ERROR</h3>
-<pre class="programlisting">#define UP_DEVICE_TYPE_ERROR (up_device_error_get_type ())
-</pre>
+<a name="up-device-reserved2"></a><h3>_up_device_reserved2 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_device_reserved2<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-reserved1"></a><h3>_up_device_reserved1 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_device_reserved1)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-device-reserved3"></a><h3>_up_device_reserved3 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_device_reserved3<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-reserved2"></a><h3>_up_device_reserved2 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_device_reserved2)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-device-reserved4"></a><h3>_up_device_reserved4 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_device_reserved4<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-reserved3"></a><h3>_up_device_reserved3 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_device_reserved3)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-device-reserved5"></a><h3>_up_device_reserved5 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_device_reserved5<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-reserved4"></a><h3>_up_device_reserved4 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_device_reserved4)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-device-reserved6"></a><h3>_up_device_reserved6 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_device_reserved6<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-reserved5"></a><h3>_up_device_reserved5 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_device_reserved5)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-device-reserved7"></a><h3>_up_device_reserved7 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_device_reserved7<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-reserved6"></a><h3>_up_device_reserved6 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_device_reserved6)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-device-reserved8"></a><h3>_up_device_reserved8 ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+<span class="c_punctuation">(</span>*_up_device_reserved8<span class="c_punctuation">)</span> (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-reserved7"></a><h3>_up_device_reserved7 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_device_reserved7)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<a name="up-device-new"></a><h3>up_device_new ()</h3>
+<pre class="programlisting"><span class="returnvalue">UpDevice</span> *
+up_device_new (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<p>Creates a new <span class="type">UpDevice</span> object.</p>
+<div class="refsect3">
+<a name="id-1.3.4.7.10.5"></a><h4>Returns</h4>
+<p> a new UpDevice object.</p>
+<p></p>
 </div>
-<hr>
-<div class="refsect2">
-<a name="up-device-reserved8"></a><h3>_up_device_reserved8 ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                (*_up_device_reserved8)             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-new"></a><h3>up_device_new ()</h3>
-<pre class="programlisting"><span class="returnvalue">UpDevice</span> *          up_device_new                       (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
-<p>
-Creates a new <span class="type">UpDevice</span> object.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-device-to-text"></a><h3>up_device_to_text ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+up_device_to_text (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>);</pre>
+<p>Converts the device to a string description.</p>
+<div class="refsect3">
+<a name="id-1.3.4.7.11.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>a new UpDevice object.</td>
+<td class="parameter_name"><p>device</p></td>
+<td class="parameter_description"><p>a <span class="type">UpDevice</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
 </tr></tbody>
 </table></div>
-<p class="since">Since 0.9.0</p>
 </div>
-<hr>
-<div class="refsect2">
-<a name="up-device-to-text"></a><h3>up_device_to_text ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             up_device_to_text                   (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>);</pre>
-<p>
-Converts the device to a string description.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
-</colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>device</code></em> :</span></p></td>
-<td>a <span class="type">UpDevice</span> instance.</td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>text representation of <span class="type">UpDevice</span>
-</td>
-</tr>
-</tbody>
-</table></div>
+<div class="refsect3">
+<a name="id-1.3.4.7.11.6"></a><h4>Returns</h4>
+<p> text representation of <span class="type">UpDevice</span></p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-refresh-sync"></a><h3>up_device_refresh_sync ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            up_device_refresh_sync              (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
-<p>
-Refreshes properties on the device.
-This function is normally not required.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-device-refresh-sync"></a><h3>up_device_refresh_sync ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_device_refresh_sync (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
+                        <em class="parameter"><code><a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
+                        <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
+<p>Refreshes properties on the device.
+This function is normally not required.</p>
+<div class="refsect3">
+<a name="id-1.3.4.7.12.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>device</code></em> :</span></p></td>
-<td>a <span class="type">UpDevice</span> instance.</td>
+<td class="parameter_name"><p>device</p></td>
+<td class="parameter_description"><p>a <span class="type">UpDevice</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
-<td>a <a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a>
-</td>
-</tr>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
-<td>a <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a>.</td>
+<td class="parameter_name"><p>cancellable</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><span class="type">TRUE</span></a> for success, else <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><span class="type">FALSE</span></a> and <em class="parameter"><code>error</code></em> is used</td>
+<td class="parameter_name"><p>error</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.4.7.12.6"></a><h4>Returns</h4>
+<p> <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"><span class="type">TRUE</span></a> for success, else <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"><span class="type">FALSE</span></a> and <em class="parameter"><code>error</code></em>
+is used</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-set-object-path-sync"></a><h3>up_device_set_object_path_sync ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            up_device_set_object_path_sync      (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *object_path</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
-<p>
-Sets the object path of the object and fills up initial properties.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-device-set-object-path-sync"></a><h3>up_device_set_object_path_sync ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_device_set_object_path_sync (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
+                                <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *object_path</code></em>,
+                                <em class="parameter"><code><a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
+                                <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
+<p>Sets the object path of the object and fills up initial properties.</p>
+<div class="refsect3">
+<a name="id-1.3.4.7.13.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>device</code></em> :</span></p></td>
-<td>a <span class="type">UpDevice</span> instance.</td>
+<td class="parameter_name"><p>device</p></td>
+<td class="parameter_description"><p>a <span class="type">UpDevice</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>object_path</code></em> :</span></p></td>
-<td>The UPower object path.</td>
+<td class="parameter_name"><p>object_path</p></td>
+<td class="parameter_description"><p>The UPower object path.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
-<td>a <a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a>
-</td>
-</tr>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
-<td>a <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a>.</td>
+<td class="parameter_name"><p>cancellable</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><span class="type">TRUE</span></a> for success, else <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><span class="type">FALSE</span></a> and <em class="parameter"><code>error</code></em> is used</td>
+<td class="parameter_name"><p>error</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.4.7.13.6"></a><h4>Returns</h4>
+<p> <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"><span class="type">TRUE</span></a> for success, else <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"><span class="type">FALSE</span></a> and <em class="parameter"><code>error</code></em>
+is used</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-get-history-sync"></a><h3>up_device_get_history_sync ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *         up_device_get_history_sync          (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *type</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> timespec</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> resolution</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
-<p>
-Gets the device history.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-device-get-history-sync"></a><h3>up_device_get_history_sync ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *
+up_device_get_history_sync (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
+                            <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *type</code></em>,
+                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> timespec</code></em>,
+                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> resolution</code></em>,
+                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
+                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
+<p>Gets the device history.</p>
+<div class="refsect3">
+<a name="id-1.3.4.7.14.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>device</code></em> :</span></p></td>
-<td>a <span class="type">UpDevice</span> instance.</td>
+<td class="parameter_name"><p>device</p></td>
+<td class="parameter_description"><p>a <span class="type">UpDevice</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>type</code></em> :</span></p></td>
-<td>The type of history, known values are "rate" and "charge".</td>
+<td class="parameter_name"><p>type</p></td>
+<td class="parameter_description"><p>The type of history, known values are "rate" and "charge".</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>timespec</code></em> :</span></p></td>
-<td>the amount of time to look back into time.</td>
+<td class="parameter_name"><p>timespec</p></td>
+<td class="parameter_description"><p>the amount of time to look back into time.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>resolution</code></em> :</span></p></td>
-<td>the resolution of data.</td>
+<td class="parameter_name"><p>resolution</p></td>
+<td class="parameter_description"><p>the resolution of data.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
-<td>a <a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a>
-</td>
+<td class="parameter_name"><p>cancellable</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
-<td>a <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a>.</td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>an array of <span class="type">UpHistoryItem</span>'s, with the most
-recent one being first; <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a> if <em class="parameter"><code>error</code></em> is set or <em class="parameter"><code>device</code></em> is
-invalid. <span class="annotation">[<acronym title="Generics and defining elements of containers and arrays."><span class="acronym">element-type</span></acronym> UpHistoryItem][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span>
-</td>
+<td class="parameter_name"><p>error</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.4.7.14.6"></a><h4>Returns</h4>
+<p> an array of <span class="type">UpHistoryItem</span>'s, with the most
+recent one being first; <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> if <em class="parameter"><code>error</code></em>
+is set or <em class="parameter"><code>device</code></em>
+is
+invalid. </p>
+<p><span class="annotation">[<acronym title="Generics and defining elements of containers and arrays."><span class="acronym">element-type</span></acronym> UpHistoryItem][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-get-statistics-sync"></a><h3>up_device_get_statistics_sync ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *         up_device_get_statistics_sync       (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *type</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
-<p>
-Gets the device current statistics.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-device-get-statistics-sync"></a><h3>up_device_get_statistics_sync ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Pointer-Arrays.html#GPtrArray"><span class="returnvalue">GPtrArray</span></a> *
+up_device_get_statistics_sync (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>,
+                               <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *type</code></em>,
+                               <em class="parameter"><code><a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
+                               <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
+<p>Gets the device current statistics.</p>
+<div class="refsect3">
+<a name="id-1.3.4.7.15.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>device</code></em> :</span></p></td>
-<td>a <span class="type">UpDevice</span> instance.</td>
+<td class="parameter_name"><p>device</p></td>
+<td class="parameter_description"><p>a <span class="type">UpDevice</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>type</code></em> :</span></p></td>
-<td>the type of statistics.</td>
+<td class="parameter_name"><p>type</p></td>
+<td class="parameter_description"><p>the type of statistics.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
-<td>a <a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a>
-</td>
+<td class="parameter_name"><p>cancellable</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/gio/GCancellable.html"><span class="type">GCancellable</span></a> or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
-<td>a <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a>.</td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>an array of <span class="type">UpStatsItem</span>'s, else <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><span class="type">NULL</span></a> and <em class="parameter"><code>error</code></em> is used. <span class="annotation">[<acronym title="Generics and defining elements of containers and arrays."><span class="acronym">element-type</span></acronym> UpStatsItem][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span>
-</td>
+<td class="parameter_name"><p>error</p></td>
+<td class="parameter_description"><p>a <a href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.4.7.15.6"></a><h4>Returns</h4>
+<p> an array of <span class="type">UpStatsItem</span>'s, else <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><span class="type">NULL</span></a> and <em class="parameter"><code>error</code></em>
+is used. </p>
+<p><span class="annotation">[<acronym title="Generics and defining elements of containers and arrays."><span class="acronym">element-type</span></acronym> UpStatsItem][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-get-object-path"></a><h3>up_device_get_object_path ()</h3>
-<pre class="programlisting">const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       up_device_get_object_path           (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>);</pre>
-<p>
-Gets the object path for the device.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-device-get-object-path"></a><h3>up_device_get_object_path ()</h3>
+<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+up_device_get_object_path (<em class="parameter"><code><span class="type">UpDevice</span> *device</code></em>);</pre>
+<p>Gets the object path for the device.</p>
+<div class="refsect3">
+<a name="id-1.3.4.7.16.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>device</code></em> :</span></p></td>
-<td>a <span class="type">UpDevice</span> instance.</td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>the object path, or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a>
-</td>
-</tr>
-</tbody>
+<tbody><tr>
+<td class="parameter_name"><p>device</p></td>
+<td class="parameter_description"><p>a <span class="type">UpDevice</span> instance.</p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.4.7.16.6"></a><h4>Returns</h4>
+<p> the object path, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a></p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 </div>
+<div class="refsect1">
+<a name="UPower-up-device.other_details"></a><h2>Types and Values</h2>
+<div class="refsect2">
+<a name="UP-DEVICE-ERROR:CAPS"></a><h3>UP_DEVICE_ERROR</h3>
+<pre class="programlisting">#define UP_DEVICE_ERROR		(up_device_error_quark ())
+</pre>
+</div>
+<hr>
+<div class="refsect2">
+<a name="UP-DEVICE-TYPE-ERROR:CAPS"></a><h3>UP_DEVICE_TYPE_ERROR</h3>
+<pre class="programlisting">#define UP_DEVICE_TYPE_ERROR (up_device_error_get_type ())
+</pre>
+</div>
+</div>
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/UPower-up-history-item.html upower-0.99.0-patched-pretty/doc/html/UPower-up-history-item.html
--- upower-0.99.0/doc/html/UPower-up-history-item.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/UPower-up-history-item.html	2014-07-13 21:34:35.179231625 -0400
@@ -3,20 +3,20 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: up-history-item</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="libupower-glib.html" title="libupower-glib GObjects">
 <link rel="prev" href="UPower-up-device.html" title="up-device">
 <link rel="next" href="UPower-up-stats-item.html" title="up-stats-item">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left">
-<a href="#" class="shortcut">Top</a>
-                   | 
-                  <a href="#UPower-up-history-item.description" class="shortcut">Description</a>
+<td width="100%" align="left" class="shortcuts">
+<a href="#" class="shortcut">Top</a><span id="nav_description"> <span class="dim">|</span> 
+                  <a href="#UPower-up-history-item.description" class="shortcut">Description</a></span><span id="nav_hierarchy"> <span class="dim">|</span> 
+                  <a href="#UPower-up-history-item.object-hierarchy" class="shortcut">Object Hierarchy</a></span>
 </td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="libupower-glib.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
@@ -30,250 +30,362 @@
 <h2><span class="refentrytitle"><a name="UPower-up-history-item.top_of_page"></a>up-history-item</span></h2>
 <p>up-history-item — Helper object representing one item of historical data.</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
-<div class="refsynopsisdiv">
-<a name="UPower-up-history-item.synopsis"></a><h2>Synopsis</h2>
-<pre class="synopsis"><span class="returnvalue">UpHistoryItem</span> *     <a class="link" href="UPower-up-history-item.html#up-history-item-new" title="up_history_item_new ()">up_history_item_new</a>                 (<em class="parameter"><code><span class="type">void</span></code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>             <a class="link" href="UPower-up-history-item.html#up-history-item-get-value" title="up_history_item_get_value ()">up_history_item_get_value</a>           (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-history-item.html#up-history-item-set-value" title="up_history_item_set_value ()">up_history_item_set_value</a>           (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> value</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>               <a class="link" href="UPower-up-history-item.html#up-history-item-get-time" title="up_history_item_get_time ()">up_history_item_get_time</a>            (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-history-item.html#up-history-item-set-time" title="up_history_item_set_time ()">up_history_item_set_time</a>            (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> time</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-history-item.html#up-history-item-set-time-to-present" title="up_history_item_set_time_to_present ()">up_history_item_set_time_to_present</a> (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);
-<a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="returnvalue">UpDeviceState</span></a>       <a class="link" href="UPower-up-history-item.html#up-history-item-get-state" title="up_history_item_get_state ()">up_history_item_get_state</a>           (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-history-item.html#up-history-item-set-state" title="up_history_item_set_state ()">up_history_item_set_state</a>           (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
-                                                         <em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="type">UpDeviceState</span></a> state</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             <a class="link" href="UPower-up-history-item.html#up-history-item-to-string" title="up_history_item_to_string ()">up_history_item_to_string</a>           (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="UPower-up-history-item.html#up-history-item-set-from-string" title="up_history_item_set_from_string ()">up_history_item_set_from_string</a>     (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *text</code></em>);
+<div class="refsect1">
+<a name="UPower-up-history-item.functions"></a><h2>Functions</h2>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="functions_return">
+<col class="functions_name">
+</colgroup>
+<tbody>
+<tr>
+<td class="function_type">
+<span class="returnvalue">UpHistoryItem</span> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-history-item.html#up-history-item-new" title="up_history_item_new ()">up_history_item_new</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-history-item.html#up-history-item-get-value" title="up_history_item_get_value ()">up_history_item_get_value</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-history-item.html#up-history-item-set-value" title="up_history_item_set_value ()">up_history_item_set_value</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-history-item.html#up-history-item-get-time" title="up_history_item_get_time ()">up_history_item_get_time</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-history-item.html#up-history-item-set-time" title="up_history_item_set_time ()">up_history_item_set_time</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-history-item.html#up-history-item-set-time-to-present" title="up_history_item_set_time_to_present ()">up_history_item_set_time_to_present</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="returnvalue">UpDeviceState</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-history-item.html#up-history-item-get-state" title="up_history_item_get_state ()">up_history_item_get_state</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-history-item.html#up-history-item-set-state" title="up_history_item_set_state ()">up_history_item_set_state</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-history-item.html#up-history-item-to-string" title="up_history_item_to_string ()">up_history_item_to_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-history-item.html#up-history-item-set-from-string" title="up_history_item_set_from_string ()">up_history_item_set_from_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+</tbody>
+</table></div>
+</div>
+<div class="refsect1">
+<a name="UPower-up-history-item.object-hierarchy"></a><h2>Object Hierarchy</h2>
+<pre class="screen">
 </pre>
 </div>
 <div class="refsect1">
 <a name="UPower-up-history-item.description"></a><h2>Description</h2>
-<p>
-This object represents one item of data which may be returned from the
-daemon in response to a query.
-</p>
-<p>
-See also: <span class="type">UpDevice</span>, <span class="type">UpClient</span>
-</p>
+<p>This object represents one item of data which may be returned from the
+daemon in response to a query.</p>
+<p>See also: <span class="type">UpDevice</span>, <span class="type">UpClient</span></p>
 </div>
 <div class="refsect1">
-<a name="UPower-up-history-item.details"></a><h2>Details</h2>
+<a name="UPower-up-history-item.functions_details"></a><h2>Functions</h2>
 <div class="refsect2">
-<a name="up-history-item-new"></a><h3>up_history_item_new ()</h3>
-<pre class="programlisting"><span class="returnvalue">UpHistoryItem</span> *     up_history_item_new                 (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
-</colgroup>
-<tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>a new UpHistoryItem object.</td>
-</tr></tbody>
-</table></div>
+<a name="up-history-item-new"></a><h3>up_history_item_new ()</h3>
+<pre class="programlisting"><span class="returnvalue">UpHistoryItem</span> *
+up_history_item_new (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<div class="refsect3">
+<a name="id-1.3.5.6.2.4"></a><h4>Returns</h4>
+<p> a new UpHistoryItem object.</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-history-item-get-value"></a><h3>up_history_item_get_value ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>             up_history_item_get_value           (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);</pre>
-<p>
-Gets the item value.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-history-item-get-value"></a><h3>up_history_item_get_value ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
+up_history_item_get_value (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);</pre>
+<p>Gets the item value.</p>
+<div class="refsect3">
+<a name="id-1.3.5.6.3.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody><tr>
-<td><p><span class="term"><em class="parameter"><code>history_item</code></em> :</span></p></td>
-<td><span class="type">UpHistoryItem</span></td>
+<td class="parameter_name"><p>history_item</p></td>
+<td class="parameter_description"><p><span class="type">UpHistoryItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr></tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-history-item-set-value"></a><h3>up_history_item_set_value ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_history_item_set_value           (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> value</code></em>);</pre>
-<p>
-Sets the item value.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-history-item-set-value"></a><h3>up_history_item_set_value ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_history_item_set_value (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
+                           <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> value</code></em>);</pre>
+<p>Sets the item value.</p>
+<div class="refsect3">
+<a name="id-1.3.5.6.4.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>history_item</code></em> :</span></p></td>
-<td><span class="type">UpHistoryItem</span></td>
+<td class="parameter_name"><p>history_item</p></td>
+<td class="parameter_description"><p><span class="type">UpHistoryItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>value</code></em> :</span></p></td>
-<td>the new value</td>
+<td class="parameter_name"><p>value</p></td>
+<td class="parameter_description"><p>the new value</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-history-item-get-time"></a><h3>up_history_item_get_time ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>               up_history_item_get_time            (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);</pre>
-<p>
-Gets the item time.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-history-item-get-time"></a><h3>up_history_item_get_time ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>
+up_history_item_get_time (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);</pre>
+<p>Gets the item time.</p>
+<div class="refsect3">
+<a name="id-1.3.5.6.5.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody><tr>
-<td><p><span class="term"><em class="parameter"><code>history_item</code></em> :</span></p></td>
-<td><span class="type">UpHistoryItem</span></td>
+<td class="parameter_name"><p>history_item</p></td>
+<td class="parameter_description"><p><span class="type">UpHistoryItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr></tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-history-item-set-time"></a><h3>up_history_item_set_time ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_history_item_set_time            (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> time</code></em>);</pre>
-<p>
-Sets the item time.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-history-item-set-time"></a><h3>up_history_item_set_time ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_history_item_set_time (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
+                          <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> time</code></em>);</pre>
+<p>Sets the item time.</p>
+<div class="refsect3">
+<a name="id-1.3.5.6.6.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>history_item</code></em> :</span></p></td>
-<td><span class="type">UpHistoryItem</span></td>
+<td class="parameter_name"><p>history_item</p></td>
+<td class="parameter_description"><p><span class="type">UpHistoryItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>time</code></em> :</span></p></td>
-<td>the new value</td>
+<td class="parameter_name"><p>time</p></td>
+<td class="parameter_description"><p>the new value</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-history-item-set-time-to-present"></a><h3>up_history_item_set_time_to_present ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_history_item_set_time_to_present (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);</pre>
-<p>
-Sets the item time to the present value.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-history-item-set-time-to-present"></a><h3>up_history_item_set_time_to_present ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_history_item_set_time_to_present (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);</pre>
+<p>Sets the item time to the present value.</p>
+<div class="refsect3">
+<a name="id-1.3.5.6.7.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody><tr>
-<td><p><span class="term"><em class="parameter"><code>history_item</code></em> :</span></p></td>
-<td><span class="type">UpHistoryItem</span></td>
+<td class="parameter_name"><p>history_item</p></td>
+<td class="parameter_description"><p><span class="type">UpHistoryItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr></tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.1</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-history-item-get-state"></a><h3>up_history_item_get_state ()</h3>
-<pre class="programlisting"><a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="returnvalue">UpDeviceState</span></a>       up_history_item_get_state           (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);</pre>
-<p>
-Gets the item state.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-history-item-get-state"></a><h3>up_history_item_get_state ()</h3>
+<pre class="programlisting"><a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="returnvalue">UpDeviceState</span></a>
+up_history_item_get_state (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);</pre>
+<p>Gets the item state.</p>
+<div class="refsect3">
+<a name="id-1.3.5.6.8.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody><tr>
-<td><p><span class="term"><em class="parameter"><code>history_item</code></em> :</span></p></td>
-<td><span class="type">UpHistoryItem</span></td>
+<td class="parameter_name"><p>history_item</p></td>
+<td class="parameter_description"><p><span class="type">UpHistoryItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr></tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-history-item-set-state"></a><h3>up_history_item_set_state ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_history_item_set_state           (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
-                                                         <em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="type">UpDeviceState</span></a> state</code></em>);</pre>
-<p>
-Sets the item state.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-history-item-set-state"></a><h3>up_history_item_set_state ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_history_item_set_state (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
+                           <em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="type">UpDeviceState</span></a> state</code></em>);</pre>
+<p>Sets the item state.</p>
+<div class="refsect3">
+<a name="id-1.3.5.6.9.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>history_item</code></em> :</span></p></td>
-<td><span class="type">UpHistoryItem</span></td>
+<td class="parameter_name"><p>history_item</p></td>
+<td class="parameter_description"><p><span class="type">UpHistoryItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>state</code></em> :</span></p></td>
-<td>the new value</td>
+<td class="parameter_name"><p>state</p></td>
+<td class="parameter_description"><p>the new value</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-history-item-to-string"></a><h3>up_history_item_to_string ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             up_history_item_to_string           (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);</pre>
-<p>
-Converts the history item to a string representation.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-history-item-to-string"></a><h3>up_history_item_to_string ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+up_history_item_to_string (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>);</pre>
+<p>Converts the history item to a string representation.</p>
+<div class="refsect3">
+<a name="id-1.3.5.6.10.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody><tr>
-<td><p><span class="term"><em class="parameter"><code>history_item</code></em> :</span></p></td>
-<td><span class="type">UpHistoryItem</span></td>
+<td class="parameter_name"><p>history_item</p></td>
+<td class="parameter_description"><p><span class="type">UpHistoryItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr></tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.1</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-history-item-set-from-string"></a><h3>up_history_item_set_from_string ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            up_history_item_set_from_string     (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *text</code></em>);</pre>
-<p>
-Converts the history item to a string representation.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-history-item-set-from-string"></a><h3>up_history_item_set_from_string ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_history_item_set_from_string (<em class="parameter"><code><span class="type">UpHistoryItem</span> *history_item</code></em>,
+                                 <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *text</code></em>);</pre>
+<p>Converts the history item to a string representation.</p>
+<div class="refsect3">
+<a name="id-1.3.5.6.11.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody><tr>
-<td><p><span class="term"><em class="parameter"><code>history_item</code></em> :</span></p></td>
-<td><span class="type">UpHistoryItem</span></td>
+<td class="parameter_name"><p>history_item</p></td>
+<td class="parameter_description"><p><span class="type">UpHistoryItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr></tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.1</p>
 </div>
 </div>
+<div class="refsect1">
+<a name="UPower-up-history-item.other_details"></a><h2>Types and Values</h2>
+</div>
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/UPower-up-stats-item.html upower-0.99.0-patched-pretty/doc/html/UPower-up-stats-item.html
--- upower-0.99.0/doc/html/UPower-up-stats-item.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/UPower-up-stats-item.html	2014-07-13 21:34:35.179231625 -0400
@@ -3,20 +3,20 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: up-stats-item</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="libupower-glib.html" title="libupower-glib GObjects">
 <link rel="prev" href="UPower-up-history-item.html" title="up-history-item">
 <link rel="next" href="UPower-up-wakeup-item.html" title="up-wakeup-item">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left">
-<a href="#" class="shortcut">Top</a>
-                   | 
-                  <a href="#UPower-up-stats-item.description" class="shortcut">Description</a>
+<td width="100%" align="left" class="shortcuts">
+<a href="#" class="shortcut">Top</a><span id="nav_description"> <span class="dim">|</span> 
+                  <a href="#UPower-up-stats-item.description" class="shortcut">Description</a></span><span id="nav_hierarchy"> <span class="dim">|</span> 
+                  <a href="#UPower-up-stats-item.object-hierarchy" class="shortcut">Object Hierarchy</a></span>
 </td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="libupower-glib.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
@@ -30,88 +30,124 @@
 <h2><span class="refentrytitle"><a name="UPower-up-stats-item.top_of_page"></a>up-stats-item</span></h2>
 <p>up-stats-item — Helper object representing one item of statistics data.</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
-<div class="refsynopsisdiv">
-<a name="UPower-up-stats-item.synopsis"></a><h2>Synopsis</h2>
-<pre class="synopsis"><span class="returnvalue">UpStatsItem</span> *       <a class="link" href="UPower-up-stats-item.html#up-stats-item-new" title="up_stats_item_new ()">up_stats_item_new</a>                   (<em class="parameter"><code><span class="type">void</span></code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>             <a class="link" href="UPower-up-stats-item.html#up-stats-item-get-value" title="up_stats_item_get_value ()">up_stats_item_get_value</a>             (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-stats-item.html#up-stats-item-set-value" title="up_stats_item_set_value ()">up_stats_item_set_value</a>             (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> value</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>             <a class="link" href="UPower-up-stats-item.html#up-stats-item-get-accuracy" title="up_stats_item_get_accuracy ()">up_stats_item_get_accuracy</a>          (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-stats-item.html#up-stats-item-set-accuracy" title="up_stats_item_set_accuracy ()">up_stats_item_set_accuracy</a>          (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> accuracy</code></em>);
+<div class="refsect1">
+<a name="UPower-up-stats-item.functions"></a><h2>Functions</h2>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="functions_return">
+<col class="functions_name">
+</colgroup>
+<tbody>
+<tr>
+<td class="function_type">
+<span class="returnvalue">UpStatsItem</span> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-stats-item.html#up-stats-item-new" title="up_stats_item_new ()">up_stats_item_new</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-stats-item.html#up-stats-item-get-value" title="up_stats_item_get_value ()">up_stats_item_get_value</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-stats-item.html#up-stats-item-set-value" title="up_stats_item_set_value ()">up_stats_item_set_value</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-stats-item.html#up-stats-item-get-accuracy" title="up_stats_item_get_accuracy ()">up_stats_item_get_accuracy</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-stats-item.html#up-stats-item-set-accuracy" title="up_stats_item_set_accuracy ()">up_stats_item_set_accuracy</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+</tbody>
+</table></div>
+</div>
+<div class="refsect1">
+<a name="UPower-up-stats-item.object-hierarchy"></a><h2>Object Hierarchy</h2>
+<pre class="screen">
 </pre>
 </div>
 <div class="refsect1">
 <a name="UPower-up-stats-item.description"></a><h2>Description</h2>
-<p>
-This object represents one item of data which may be returned from the
-daemon in response to a query.
-</p>
-<p>
-See also: <span class="type">UpDevice</span>, <span class="type">UpClient</span>
-</p>
+<p>This object represents one item of data which may be returned from the
+daemon in response to a query.</p>
+<p>See also: <span class="type">UpDevice</span>, <span class="type">UpClient</span></p>
 </div>
 <div class="refsect1">
-<a name="UPower-up-stats-item.details"></a><h2>Details</h2>
+<a name="UPower-up-stats-item.functions_details"></a><h2>Functions</h2>
 <div class="refsect2">
-<a name="up-stats-item-new"></a><h3>up_stats_item_new ()</h3>
-<pre class="programlisting"><span class="returnvalue">UpStatsItem</span> *       up_stats_item_new                   (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
-</colgroup>
-<tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>a new UpStatsItem object.</td>
-</tr></tbody>
-</table></div>
+<a name="up-stats-item-new"></a><h3>up_stats_item_new ()</h3>
+<pre class="programlisting"><span class="returnvalue">UpStatsItem</span> *
+up_stats_item_new (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<div class="refsect3">
+<a name="id-1.3.6.6.2.4"></a><h4>Returns</h4>
+<p> a new UpStatsItem object.</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-stats-item-get-value"></a><h3>up_stats_item_get_value ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>             up_stats_item_get_value             (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>);</pre>
-<p>
-Gets the item value.
-</p>
+<a name="up-stats-item-get-value"></a><h3>up_stats_item_get_value ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
+up_stats_item_get_value (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>);</pre>
+<p>Gets the item value.</p>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-stats-item-set-value"></a><h3>up_stats_item_set_value ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_stats_item_set_value             (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> value</code></em>);</pre>
-<p>
-Sets the item value.
-</p>
+<a name="up-stats-item-set-value"></a><h3>up_stats_item_set_value ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_stats_item_set_value (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>,
+                         <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> value</code></em>);</pre>
+<p>Sets the item value.</p>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-stats-item-get-accuracy"></a><h3>up_stats_item_get_accuracy ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>             up_stats_item_get_accuracy          (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>);</pre>
-<p>
-Gets the item accuracy.
-</p>
+<a name="up-stats-item-get-accuracy"></a><h3>up_stats_item_get_accuracy ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
+up_stats_item_get_accuracy (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>);</pre>
+<p>Gets the item accuracy.</p>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-stats-item-set-accuracy"></a><h3>up_stats_item_set_accuracy ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_stats_item_set_accuracy          (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> accuracy</code></em>);</pre>
-<p>
-Sets the item accuracy.
-</p>
+<a name="up-stats-item-set-accuracy"></a><h3>up_stats_item_set_accuracy ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_stats_item_set_accuracy (<em class="parameter"><code><span class="type">UpStatsItem</span> *stats_item</code></em>,
+                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> accuracy</code></em>);</pre>
+<p>Sets the item accuracy.</p>
 <p class="since">Since 0.9.0</p>
 </div>
 </div>
+<div class="refsect1">
+<a name="UPower-up-stats-item.other_details"></a><h2>Types and Values</h2>
+</div>
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/UPower-up-types.html upower-0.99.0-patched-pretty/doc/html/UPower-up-types.html
--- upower-0.99.0/doc/html/UPower-up-types.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/UPower-up-types.html	2014-07-13 21:34:35.180231625 -0400
@@ -3,20 +3,20 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: up-types</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="libupower-glib-helpers.html" title="libupower-glib helpers">
 <link rel="prev" href="libupower-glib-helpers.html" title="libupower-glib helpers">
 <link rel="next" href="tools-fileformats.html" title="Manual Pages">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left">
-<a href="#" class="shortcut">Top</a>
-                   | 
-                  <a href="#UPower-up-types.description" class="shortcut">Description</a>
+<td width="100%" align="left" class="shortcuts">
+<a href="#" class="shortcut">Top</a><span id="nav_description"> <span class="dim">|</span> 
+                  <a href="#UPower-up-types.description" class="shortcut">Description</a></span><span id="nav_hierarchy"> <span class="dim">|</span> 
+                  <a href="#UPower-up-types.object-hierarchy" class="shortcut">Object Hierarchy</a></span>
 </td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="libupower-glib-helpers.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
@@ -30,443 +30,563 @@
 <h2><span class="refentrytitle"><a name="UPower-up-types.top_of_page"></a>up-types</span></h2>
 <p>up-types — Types used by UPower and libupower-glib</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
-<div class="refsynopsisdiv">
-<a name="UPower-up-types.synopsis"></a><h2>Synopsis</h2>
-<pre class="synopsis">enum                <a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind">UpDeviceKind</a>;
-enum                <a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState">UpDeviceState</a>;
-enum                <a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology">UpDeviceTechnology</a>;
-enum                <a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel">UpDeviceLevel</a>;
-const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       <a class="link" href="UPower-up-types.html#up-device-kind-to-string" title="up_device_kind_to_string ()">up_device_kind_to_string</a>            (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind"><span class="type">UpDeviceKind</span></a> type_enum</code></em>);
-const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       <a class="link" href="UPower-up-types.html#up-device-state-to-string" title="up_device_state_to_string ()">up_device_state_to_string</a>           (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="type">UpDeviceState</span></a> state_enum</code></em>);
-const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       <a class="link" href="UPower-up-types.html#up-device-technology-to-string" title="up_device_technology_to_string ()">up_device_technology_to_string</a>      (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology"><span class="type">UpDeviceTechnology</span></a> technology_enum</code></em>);
-const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       <a class="link" href="UPower-up-types.html#up-device-level-to-string" title="up_device_level_to_string ()">up_device_level_to_string</a>           (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel"><span class="type">UpDeviceLevel</span></a> level_enum</code></em>);
-<a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind"><span class="returnvalue">UpDeviceKind</span></a>        <a class="link" href="UPower-up-types.html#up-device-kind-from-string" title="up_device_kind_from_string ()">up_device_kind_from_string</a>          (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *type</code></em>);
-<a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="returnvalue">UpDeviceState</span></a>       <a class="link" href="UPower-up-types.html#up-device-state-from-string" title="up_device_state_from_string ()">up_device_state_from_string</a>         (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *state</code></em>);
-<a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology"><span class="returnvalue">UpDeviceTechnology</span></a>  <a class="link" href="UPower-up-types.html#up-device-technology-from-string" title="up_device_technology_from_string ()">up_device_technology_from_string</a>    (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *technology</code></em>);
-<a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel"><span class="returnvalue">UpDeviceLevel</span></a>       <a class="link" href="UPower-up-types.html#up-device-level-from-string" title="up_device_level_from_string ()">up_device_level_from_string</a>         (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *level</code></em>);
+<div class="refsect1">
+<a name="UPower-up-types.functions"></a><h2>Functions</h2>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="functions_return">
+<col class="functions_name">
+</colgroup>
+<tbody>
+<tr>
+<td class="function_type">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-types.html#up-device-kind-to-string" title="up_device_kind_to_string ()">up_device_kind_to_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-types.html#up-device-state-to-string" title="up_device_state_to_string ()">up_device_state_to_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-types.html#up-device-technology-to-string" title="up_device_technology_to_string ()">up_device_technology_to_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-types.html#up-device-level-to-string" title="up_device_level_to_string ()">up_device_level_to_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind"><span class="returnvalue">UpDeviceKind</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-types.html#up-device-kind-from-string" title="up_device_kind_from_string ()">up_device_kind_from_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="returnvalue">UpDeviceState</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-types.html#up-device-state-from-string" title="up_device_state_from_string ()">up_device_state_from_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology"><span class="returnvalue">UpDeviceTechnology</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-types.html#up-device-technology-from-string" title="up_device_technology_from_string ()">up_device_technology_from_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel"><span class="returnvalue">UpDeviceLevel</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-types.html#up-device-level-from-string" title="up_device_level_from_string ()">up_device_level_from_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-types.html#up-sleep-kind-to-string" title="up_sleep_kind_to_string ()">up_sleep_kind_to_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a class="link" href="UPower-up-types.html#UpSleepKind" title="enum UpSleepKind"><span class="returnvalue">UpSleepKind</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-types.html#up-sleep-kind-from-string" title="up_sleep_kind_from_string ()">up_sleep_kind_from_string</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+</tbody>
+</table></div>
+</div>
+<div class="refsect1">
+<a name="UPower-up-types.other"></a><h2>Types and Values</h2>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="name">
+<col class="description">
+</colgroup>
+<tbody>
+<tr>
+<td class="datatype_keyword">enum</td>
+<td class="function_name"><a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind">UpDeviceKind</a></td>
+</tr>
+<tr>
+<td class="datatype_keyword">enum</td>
+<td class="function_name"><a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState">UpDeviceState</a></td>
+</tr>
+<tr>
+<td class="datatype_keyword">enum</td>
+<td class="function_name"><a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology">UpDeviceTechnology</a></td>
+</tr>
+<tr>
+<td class="datatype_keyword">enum</td>
+<td class="function_name"><a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel">UpDeviceLevel</a></td>
+</tr>
+<tr>
+<td class="datatype_keyword">enum</td>
+<td class="function_name"><a class="link" href="UPower-up-types.html#UpSleepKind" title="enum UpSleepKind">UpSleepKind</a></td>
+</tr>
+</tbody>
+</table></div>
+</div>
+<div class="refsect1">
+<a name="UPower-up-types.object-hierarchy"></a><h2>Object Hierarchy</h2>
+<pre class="screen">
 </pre>
 </div>
 <div class="refsect1">
 <a name="UPower-up-types.description"></a><h2>Description</h2>
-<p>
-These helper functions provide a way to marshal enumerated values to
-text and back again.
-</p>
-<p>
-See also: <span class="type">UpClient</span>, <span class="type">UpDevice</span>
-</p>
+<p>These helper functions provide a way to marshal enumerated values to
+text and back again.</p>
+<p>See also: <span class="type">UpClient</span>, <span class="type">UpDevice</span></p>
 </div>
 <div class="refsect1">
-<a name="UPower-up-types.details"></a><h2>Details</h2>
+<a name="UPower-up-types.functions_details"></a><h2>Functions</h2>
+<div class="refsect2">
+<a name="up-device-kind-to-string"></a><h3>up_device_kind_to_string ()</h3>
+<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+up_device_kind_to_string (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind"><span class="type">UpDeviceKind</span></a> type_enum</code></em>);</pre>
+<p>Converts a <a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind"><span class="type">UpDeviceKind</span></a> to a string.</p>
+<div class="refsect3">
+<a name="id-1.4.3.7.2.5"></a><h4>Returns</h4>
+<p> identifier string</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-device-state-to-string"></a><h3>up_device_state_to_string ()</h3>
+<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+up_device_state_to_string (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="type">UpDeviceState</span></a> state_enum</code></em>);</pre>
+<p>Converts a <a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="type">UpDeviceState</span></a> to a string.</p>
+<div class="refsect3">
+<a name="id-1.4.3.7.3.5"></a><h4>Returns</h4>
+<p> identifier string</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-device-technology-to-string"></a><h3>up_device_technology_to_string ()</h3>
+<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+up_device_technology_to_string (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology"><span class="type">UpDeviceTechnology</span></a> technology_enum</code></em>);</pre>
+<p>Converts a <a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology"><span class="type">UpDeviceTechnology</span></a> to a string.</p>
+<div class="refsect3">
+<a name="id-1.4.3.7.4.5"></a><h4>Returns</h4>
+<p> identifier string</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-device-level-to-string"></a><h3>up_device_level_to_string ()</h3>
+<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+up_device_level_to_string (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel"><span class="type">UpDeviceLevel</span></a> level_enum</code></em>);</pre>
+<p>Converts a <a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel"><span class="type">UpDeviceLevel</span></a> to a string.</p>
+<div class="refsect3">
+<a name="id-1.4.3.7.5.5"></a><h4>Returns</h4>
+<p> identifier string</p>
+<p></p>
+</div>
+<p class="since">Since 1.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-device-kind-from-string"></a><h3>up_device_kind_from_string ()</h3>
+<pre class="programlisting"><a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind"><span class="returnvalue">UpDeviceKind</span></a>
+up_device_kind_from_string (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *type</code></em>);</pre>
+<p>Converts a string to a <a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind"><span class="type">UpDeviceKind</span></a>.</p>
+<div class="refsect3">
+<a name="id-1.4.3.7.6.5"></a><h4>Returns</h4>
+<p> enumerated value</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-device-state-from-string"></a><h3>up_device_state_from_string ()</h3>
+<pre class="programlisting"><a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="returnvalue">UpDeviceState</span></a>
+up_device_state_from_string (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *state</code></em>);</pre>
+<p>Converts a string to a <a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="type">UpDeviceState</span></a>.</p>
+<div class="refsect3">
+<a name="id-1.4.3.7.7.5"></a><h4>Returns</h4>
+<p> enumerated value</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-device-technology-from-string"></a><h3>up_device_technology_from_string ()</h3>
+<pre class="programlisting"><a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology"><span class="returnvalue">UpDeviceTechnology</span></a>
+up_device_technology_from_string (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *technology</code></em>);</pre>
+<p>Converts a string to a <a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology"><span class="type">UpDeviceTechnology</span></a>.</p>
+<div class="refsect3">
+<a name="id-1.4.3.7.8.5"></a><h4>Returns</h4>
+<p> enumerated value</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-device-level-from-string"></a><h3>up_device_level_from_string ()</h3>
+<pre class="programlisting"><a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel"><span class="returnvalue">UpDeviceLevel</span></a>
+up_device_level_from_string (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *level</code></em>);</pre>
+<p>Converts a string to a <a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel"><span class="type">UpDeviceLevel</span></a>.</p>
+<div class="refsect3">
+<a name="id-1.4.3.7.9.5"></a><h4>Returns</h4>
+<p> enumerated value</p>
+<p></p>
+</div>
+<p class="since">Since 1.0</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-sleep-kind-to-string"></a><h3>up_sleep_kind_to_string ()</h3>
+<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+up_sleep_kind_to_string (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpSleepKind" title="enum UpSleepKind"><span class="type">UpSleepKind</span></a> sleep_kind_enum</code></em>);</pre>
+<p>Converts a <a class="link" href="UPower-up-types.html#UpSleepKind" title="enum UpSleepKind"><span class="type">UpSleepKind</span></a> to a string.</p>
+<div class="refsect3">
+<a name="id-1.4.3.7.10.5"></a><h4>Returns</h4>
+<p> identifier string</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.10</p>
+</div>
+<hr>
+<div class="refsect2">
+<a name="up-sleep-kind-from-string"></a><h3>up_sleep_kind_from_string ()</h3>
+<pre class="programlisting"><a class="link" href="UPower-up-types.html#UpSleepKind" title="enum UpSleepKind"><span class="returnvalue">UpSleepKind</span></a>
+up_sleep_kind_from_string (<em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *sleep_kind</code></em>);</pre>
+<p>Converts a string to a <a class="link" href="UPower-up-types.html#UpSleepKind" title="enum UpSleepKind"><span class="type">UpSleepKind</span></a>.</p>
+<div class="refsect3">
+<a name="id-1.4.3.7.11.5"></a><h4>Returns</h4>
+<p> enumerated value</p>
+<p></p>
+</div>
+<p class="since">Since 0.9.10</p>
+</div>
+</div>
+<div class="refsect1">
+<a name="UPower-up-types.other_details"></a><h2>Types and Values</h2>
 <div class="refsect2">
 <a name="UpDeviceKind"></a><h3>enum UpDeviceKind</h3>
-<pre class="programlisting">typedef enum {
-	UP_DEVICE_KIND_UNKNOWN,
-	UP_DEVICE_KIND_LINE_POWER,
-	UP_DEVICE_KIND_BATTERY,
-	UP_DEVICE_KIND_UPS,
-	UP_DEVICE_KIND_MONITOR,
-	UP_DEVICE_KIND_MOUSE,
-	UP_DEVICE_KIND_KEYBOARD,
-	UP_DEVICE_KIND_PDA,
-	UP_DEVICE_KIND_PHONE,
-	UP_DEVICE_KIND_MEDIA_PLAYER,
-	UP_DEVICE_KIND_TABLET,
-	UP_DEVICE_KIND_COMPUTER,
-	UP_DEVICE_KIND_LAST
-} UpDeviceKind;
-</pre>
-<p>
-The device type.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
+<p>The device type.</p>
+<div class="refsect3">
+<a name="id-1.4.3.8.2.4"></a><h4>Members</h4>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="300px" class="enum_members_name">
+<col class="enum_members_description">
+<col width="200px" class="enum_members_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-UNKNOWN:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_UNKNOWN</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-UNKNOWN:CAPS"></a>UP_DEVICE_KIND_UNKNOWN</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-LINE-POWER:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_LINE_POWER</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-LINE-POWER:CAPS"></a>UP_DEVICE_KIND_LINE_POWER</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-BATTERY:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_BATTERY</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-BATTERY:CAPS"></a>UP_DEVICE_KIND_BATTERY</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-UPS:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_UPS</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-UPS:CAPS"></a>UP_DEVICE_KIND_UPS</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-MONITOR:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_MONITOR</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-MONITOR:CAPS"></a>UP_DEVICE_KIND_MONITOR</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-MOUSE:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_MOUSE</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-MOUSE:CAPS"></a>UP_DEVICE_KIND_MOUSE</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-KEYBOARD:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_KEYBOARD</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-KEYBOARD:CAPS"></a>UP_DEVICE_KIND_KEYBOARD</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-PDA:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_PDA</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-PDA:CAPS"></a>UP_DEVICE_KIND_PDA</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-PHONE:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_PHONE</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-PHONE:CAPS"></a>UP_DEVICE_KIND_PHONE</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-MEDIA-PLAYER:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_MEDIA_PLAYER</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-MEDIA-PLAYER:CAPS"></a>UP_DEVICE_KIND_MEDIA_PLAYER</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-TABLET:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_TABLET</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-TABLET:CAPS"></a>UP_DEVICE_KIND_TABLET</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-COMPUTER:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_COMPUTER</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-COMPUTER:CAPS"></a>UP_DEVICE_KIND_COMPUTER</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-KIND-LAST:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_KIND_LAST</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-KIND-LAST:CAPS"></a>UP_DEVICE_KIND_LAST</p></td>
+<td> </td>
+<td> </td>
 </tr>
 </tbody>
 </table></div>
 </div>
+</div>
 <hr>
 <div class="refsect2">
 <a name="UpDeviceState"></a><h3>enum UpDeviceState</h3>
-<pre class="programlisting">typedef enum {
-	UP_DEVICE_STATE_UNKNOWN,
-	UP_DEVICE_STATE_CHARGING,
-	UP_DEVICE_STATE_DISCHARGING,
-	UP_DEVICE_STATE_EMPTY,
-	UP_DEVICE_STATE_FULLY_CHARGED,
-	UP_DEVICE_STATE_PENDING_CHARGE,
-	UP_DEVICE_STATE_PENDING_DISCHARGE,
-	UP_DEVICE_STATE_LAST
-} UpDeviceState;
-</pre>
-<p>
-The device state.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
+<p>The device state.</p>
+<div class="refsect3">
+<a name="id-1.4.3.8.3.4"></a><h4>Members</h4>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="300px" class="enum_members_name">
+<col class="enum_members_description">
+<col width="200px" class="enum_members_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><a name="UP-DEVICE-STATE-UNKNOWN:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_STATE_UNKNOWN</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-STATE-UNKNOWN:CAPS"></a>UP_DEVICE_STATE_UNKNOWN</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-STATE-CHARGING:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_STATE_CHARGING</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-STATE-CHARGING:CAPS"></a>UP_DEVICE_STATE_CHARGING</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-STATE-DISCHARGING:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_STATE_DISCHARGING</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-STATE-DISCHARGING:CAPS"></a>UP_DEVICE_STATE_DISCHARGING</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-STATE-EMPTY:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_STATE_EMPTY</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-STATE-EMPTY:CAPS"></a>UP_DEVICE_STATE_EMPTY</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-STATE-FULLY-CHARGED:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_STATE_FULLY_CHARGED</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-STATE-FULLY-CHARGED:CAPS"></a>UP_DEVICE_STATE_FULLY_CHARGED</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-STATE-PENDING-CHARGE:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_STATE_PENDING_CHARGE</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-STATE-PENDING-CHARGE:CAPS"></a>UP_DEVICE_STATE_PENDING_CHARGE</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-STATE-PENDING-DISCHARGE:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_STATE_PENDING_DISCHARGE</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-STATE-PENDING-DISCHARGE:CAPS"></a>UP_DEVICE_STATE_PENDING_DISCHARGE</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-STATE-LAST:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_STATE_LAST</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-STATE-LAST:CAPS"></a>UP_DEVICE_STATE_LAST</p></td>
+<td> </td>
+<td> </td>
 </tr>
 </tbody>
 </table></div>
 </div>
+</div>
 <hr>
 <div class="refsect2">
 <a name="UpDeviceTechnology"></a><h3>enum UpDeviceTechnology</h3>
-<pre class="programlisting">typedef enum {
-	UP_DEVICE_TECHNOLOGY_UNKNOWN,
-	UP_DEVICE_TECHNOLOGY_LITHIUM_ION,
-	UP_DEVICE_TECHNOLOGY_LITHIUM_POLYMER,
-	UP_DEVICE_TECHNOLOGY_LITHIUM_IRON_PHOSPHATE,
-	UP_DEVICE_TECHNOLOGY_LEAD_ACID,
-	UP_DEVICE_TECHNOLOGY_NICKEL_CADMIUM,
-	UP_DEVICE_TECHNOLOGY_NICKEL_METAL_HYDRIDE,
-	UP_DEVICE_TECHNOLOGY_LAST
-} UpDeviceTechnology;
-</pre>
-<p>
-The device technology.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
+<p>The device technology.</p>
+<div class="refsect3">
+<a name="id-1.4.3.8.4.4"></a><h4>Members</h4>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="300px" class="enum_members_name">
+<col class="enum_members_description">
+<col width="200px" class="enum_members_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><a name="UP-DEVICE-TECHNOLOGY-UNKNOWN:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_TECHNOLOGY_UNKNOWN</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-TECHNOLOGY-UNKNOWN:CAPS"></a>UP_DEVICE_TECHNOLOGY_UNKNOWN</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-TECHNOLOGY-LITHIUM-ION:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_TECHNOLOGY_LITHIUM_ION</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-TECHNOLOGY-LITHIUM-ION:CAPS"></a>UP_DEVICE_TECHNOLOGY_LITHIUM_ION</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-TECHNOLOGY-LITHIUM-POLYMER:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_TECHNOLOGY_LITHIUM_POLYMER</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-TECHNOLOGY-LITHIUM-POLYMER:CAPS"></a>UP_DEVICE_TECHNOLOGY_LITHIUM_POLYMER</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-TECHNOLOGY-LITHIUM-IRON-PHOSPHATE:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_TECHNOLOGY_LITHIUM_IRON_PHOSPHATE</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-TECHNOLOGY-LITHIUM-IRON-PHOSPHATE:CAPS"></a>UP_DEVICE_TECHNOLOGY_LITHIUM_IRON_PHOSPHATE</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-TECHNOLOGY-LEAD-ACID:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_TECHNOLOGY_LEAD_ACID</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-TECHNOLOGY-LEAD-ACID:CAPS"></a>UP_DEVICE_TECHNOLOGY_LEAD_ACID</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-TECHNOLOGY-NICKEL-CADMIUM:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_TECHNOLOGY_NICKEL_CADMIUM</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-TECHNOLOGY-NICKEL-CADMIUM:CAPS"></a>UP_DEVICE_TECHNOLOGY_NICKEL_CADMIUM</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-TECHNOLOGY-NICKEL-METAL-HYDRIDE:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_TECHNOLOGY_NICKEL_METAL_HYDRIDE</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-TECHNOLOGY-NICKEL-METAL-HYDRIDE:CAPS"></a>UP_DEVICE_TECHNOLOGY_NICKEL_METAL_HYDRIDE</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-TECHNOLOGY-LAST:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_TECHNOLOGY_LAST</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-TECHNOLOGY-LAST:CAPS"></a>UP_DEVICE_TECHNOLOGY_LAST</p></td>
+<td> </td>
+<td> </td>
 </tr>
 </tbody>
 </table></div>
 </div>
+</div>
 <hr>
 <div class="refsect2">
 <a name="UpDeviceLevel"></a><h3>enum UpDeviceLevel</h3>
-<pre class="programlisting">typedef enum {
-	UP_DEVICE_LEVEL_UNKNOWN,
-	UP_DEVICE_LEVEL_NONE,
-	UP_DEVICE_LEVEL_DISCHARGING,
-	UP_DEVICE_LEVEL_LOW,
-	UP_DEVICE_LEVEL_CRITICAL,
-	UP_DEVICE_LEVEL_ACTION,
-	UP_DEVICE_LEVEL_LAST
-} UpDeviceLevel;
-</pre>
-<p>
-The warning level of a battery.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
+<p>The warning level of a battery.</p>
+<div class="refsect3">
+<a name="id-1.4.3.8.5.4"></a><h4>Members</h4>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="300px" class="enum_members_name">
+<col class="enum_members_description">
+<col width="200px" class="enum_members_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><a name="UP-DEVICE-LEVEL-UNKNOWN:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_LEVEL_UNKNOWN</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-LEVEL-UNKNOWN:CAPS"></a>UP_DEVICE_LEVEL_UNKNOWN</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-LEVEL-NONE:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_LEVEL_NONE</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-LEVEL-NONE:CAPS"></a>UP_DEVICE_LEVEL_NONE</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-LEVEL-DISCHARGING:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_LEVEL_DISCHARGING</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-LEVEL-DISCHARGING:CAPS"></a>UP_DEVICE_LEVEL_DISCHARGING</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-LEVEL-LOW:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_LEVEL_LOW</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-LEVEL-LOW:CAPS"></a>UP_DEVICE_LEVEL_LOW</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-LEVEL-CRITICAL:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_LEVEL_CRITICAL</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-LEVEL-CRITICAL:CAPS"></a>UP_DEVICE_LEVEL_CRITICAL</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-LEVEL-ACTION:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_LEVEL_ACTION</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-LEVEL-ACTION:CAPS"></a>UP_DEVICE_LEVEL_ACTION</p></td>
+<td> </td>
+<td> </td>
 </tr>
 <tr>
-<td><p><a name="UP-DEVICE-LEVEL-LAST:CAPS"></a><span class="term"><code class="literal">UP_DEVICE_LEVEL_LAST</code></span></p></td>
-<td></td>
+<td class="enum_member_name"><p><a name="UP-DEVICE-LEVEL-LAST:CAPS"></a>UP_DEVICE_LEVEL_LAST</p></td>
+<td> </td>
+<td> </td>
 </tr>
 </tbody>
 </table></div>
 </div>
-<hr>
-<div class="refsect2">
-<a name="up-device-kind-to-string"></a><h3>up_device_kind_to_string ()</h3>
-<pre class="programlisting">const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       up_device_kind_to_string            (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind"><span class="type">UpDeviceKind</span></a> type_enum</code></em>);</pre>
-<p>
-Converts a <a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind"><span class="type">UpDeviceKind</span></a> to a string.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
-</colgroup>
-<tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>identifier string</td>
-</tr></tbody>
-</table></div>
-<p class="since">Since 0.9.0</p>
-</div>
-<hr>
-<div class="refsect2">
-<a name="up-device-state-to-string"></a><h3>up_device_state_to_string ()</h3>
-<pre class="programlisting">const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       up_device_state_to_string           (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="type">UpDeviceState</span></a> state_enum</code></em>);</pre>
-<p>
-Converts a <a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="type">UpDeviceState</span></a> to a string.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
-</colgroup>
-<tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>identifier string</td>
-</tr></tbody>
-</table></div>
-<p class="since">Since 0.9.0</p>
-</div>
-<hr>
-<div class="refsect2">
-<a name="up-device-technology-to-string"></a><h3>up_device_technology_to_string ()</h3>
-<pre class="programlisting">const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       up_device_technology_to_string      (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology"><span class="type">UpDeviceTechnology</span></a> technology_enum</code></em>);</pre>
-<p>
-Converts a <a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology"><span class="type">UpDeviceTechnology</span></a> to a string.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
-</colgroup>
-<tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>identifier string</td>
-</tr></tbody>
-</table></div>
-<p class="since">Since 0.9.0</p>
-</div>
-<hr>
-<div class="refsect2">
-<a name="up-device-level-to-string"></a><h3>up_device_level_to_string ()</h3>
-<pre class="programlisting">const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       up_device_level_to_string           (<em class="parameter"><code><a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel"><span class="type">UpDeviceLevel</span></a> level_enum</code></em>);</pre>
-<p>
-Converts a <a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel"><span class="type">UpDeviceLevel</span></a> to a string.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
-</colgroup>
-<tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>identifier string</td>
-</tr></tbody>
-</table></div>
-<p class="since">Since 1.0</p>
-</div>
-<hr>
-<div class="refsect2">
-<a name="up-device-kind-from-string"></a><h3>up_device_kind_from_string ()</h3>
-<pre class="programlisting"><a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind"><span class="returnvalue">UpDeviceKind</span></a>        up_device_kind_from_string          (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *type</code></em>);</pre>
-<p>
-Converts a string to a <a class="link" href="UPower-up-types.html#UpDeviceKind" title="enum UpDeviceKind"><span class="type">UpDeviceKind</span></a>.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
-</colgroup>
-<tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>enumerated value</td>
-</tr></tbody>
-</table></div>
-<p class="since">Since 0.9.0</p>
-</div>
-<hr>
-<div class="refsect2">
-<a name="up-device-state-from-string"></a><h3>up_device_state_from_string ()</h3>
-<pre class="programlisting"><a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="returnvalue">UpDeviceState</span></a>       up_device_state_from_string         (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *state</code></em>);</pre>
-<p>
-Converts a string to a <a class="link" href="UPower-up-types.html#UpDeviceState" title="enum UpDeviceState"><span class="type">UpDeviceState</span></a>.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
-</colgroup>
-<tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>enumerated value</td>
-</tr></tbody>
-</table></div>
-<p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-device-technology-from-string"></a><h3>up_device_technology_from_string ()</h3>
-<pre class="programlisting"><a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology"><span class="returnvalue">UpDeviceTechnology</span></a>  up_device_technology_from_string    (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *technology</code></em>);</pre>
-<p>
-Converts a string to a <a class="link" href="UPower-up-types.html#UpDeviceTechnology" title="enum UpDeviceTechnology"><span class="type">UpDeviceTechnology</span></a>.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
+<a name="UpSleepKind"></a><h3>enum UpSleepKind</h3>
+<p>The type of QOS request.</p>
+<div class="refsect3">
+<a name="id-1.4.3.8.6.4"></a><h4>Members</h4>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="300px" class="enum_members_name">
+<col class="enum_members_description">
+<col width="200px" class="enum_members_annotations">
 </colgroup>
-<tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>enumerated value</td>
-</tr></tbody>
+<tbody>
+<tr>
+<td class="enum_member_name"><p><a name="UP-SLEEP-KIND-UNKNOWN:CAPS"></a>UP_SLEEP_KIND_UNKNOWN</p></td>
+<td> </td>
+<td> </td>
+</tr>
+<tr>
+<td class="enum_member_name"><p><a name="UP-SLEEP-KIND-SUSPEND:CAPS"></a>UP_SLEEP_KIND_SUSPEND</p></td>
+<td> </td>
+<td> </td>
+</tr>
+<tr>
+<td class="enum_member_name"><p><a name="UP-SLEEP-KIND-HIBERNATE:CAPS"></a>UP_SLEEP_KIND_HIBERNATE</p></td>
+<td> </td>
+<td> </td>
+</tr>
+<tr>
+<td class="enum_member_name"><p><a name="UP-SLEEP-KIND-HYBRID:CAPS"></a>UP_SLEEP_KIND_HYBRID</p></td>
+<td> </td>
+<td> </td>
+</tr>
+<tr>
+<td class="enum_member_name"><p><a name="UP-SLEEP-KIND-LAST:CAPS"></a>UP_SLEEP_KIND_LAST</p></td>
+<td> </td>
+<td> </td>
+</tr>
+</tbody>
 </table></div>
-<p class="since">Since 0.9.0</p>
 </div>
-<hr>
-<div class="refsect2">
-<a name="up-device-level-from-string"></a><h3>up_device_level_from_string ()</h3>
-<pre class="programlisting"><a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel"><span class="returnvalue">UpDeviceLevel</span></a>       up_device_level_from_string         (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *level</code></em>);</pre>
-<p>
-Converts a string to a <a class="link" href="UPower-up-types.html#UpDeviceLevel" title="enum UpDeviceLevel"><span class="type">UpDeviceLevel</span></a>.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
-</colgroup>
-<tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>enumerated value</td>
-</tr></tbody>
-</table></div>
-<p class="since">Since 1.0</p>
 </div>
 </div>
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/UPower-up-wakeup-item.html upower-0.99.0-patched-pretty/doc/html/UPower-up-wakeup-item.html
--- upower-0.99.0/doc/html/UPower-up-wakeup-item.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/UPower-up-wakeup-item.html	2014-07-13 21:34:35.180231625 -0400
@@ -3,20 +3,20 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: up-wakeup-item</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="libupower-glib.html" title="libupower-glib GObjects">
 <link rel="prev" href="UPower-up-stats-item.html" title="up-stats-item">
 <link rel="next" href="libupower-glib-helpers.html" title="libupower-glib helpers">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left">
-<a href="#" class="shortcut">Top</a>
-                   | 
-                  <a href="#UPower-up-wakeup-item.description" class="shortcut">Description</a>
+<td width="100%" align="left" class="shortcuts">
+<a href="#" class="shortcut">Top</a><span id="nav_description"> <span class="dim">|</span> 
+                  <a href="#UPower-up-wakeup-item.description" class="shortcut">Description</a></span><span id="nav_hierarchy"> <span class="dim">|</span> 
+                  <a href="#UPower-up-wakeup-item.object-hierarchy" class="shortcut">Object Hierarchy</a></span>
 </td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="libupower-glib.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
@@ -30,368 +30,506 @@
 <h2><span class="refentrytitle"><a name="UPower-up-wakeup-item.top_of_page"></a>up-wakeup-item</span></h2>
 <p>up-wakeup-item — Helper object representing one item of wakeup data.</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
-<div class="refsynopsisdiv">
-<a name="UPower-up-wakeup-item.synopsis"></a><h2>Synopsis</h2>
-<pre class="synopsis"><span class="returnvalue">UpWakeupItem</span> *      <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-new" title="up_wakeup_item_new ()">up_wakeup_item_new</a>                  (<em class="parameter"><code><span class="type">void</span></code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-is-userspace" title="up_wakeup_item_get_is_userspace ()">up_wakeup_item_get_is_userspace</a>     (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-is-userspace" title="up_wakeup_item_set_is_userspace ()">up_wakeup_item_set_is_userspace</a>     (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="type">gboolean</span></a> is_userspace</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>               <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-id" title="up_wakeup_item_get_id ()">up_wakeup_item_get_id</a>               (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-id" title="up_wakeup_item_set_id ()">up_wakeup_item_set_id</a>               (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> id</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>               <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-old" title="up_wakeup_item_get_old ()">up_wakeup_item_get_old</a>              (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-old" title="up_wakeup_item_set_old ()">up_wakeup_item_set_old</a>              (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> old</code></em>);
-<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>             <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-value" title="up_wakeup_item_get_value ()">up_wakeup_item_get_value</a>            (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-value" title="up_wakeup_item_set_value ()">up_wakeup_item_set_value</a>            (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> value</code></em>);
-const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-cmdline" title="up_wakeup_item_get_cmdline ()">up_wakeup_item_get_cmdline</a>          (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-cmdline" title="up_wakeup_item_set_cmdline ()">up_wakeup_item_set_cmdline</a>          (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *cmdline</code></em>);
-const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-details" title="up_wakeup_item_get_details ()">up_wakeup_item_get_details</a>          (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);
-<span class="returnvalue">void</span>                <a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-details" title="up_wakeup_item_set_details ()">up_wakeup_item_set_details</a>          (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *details</code></em>);
+<div class="refsect1">
+<a name="UPower-up-wakeup-item.functions"></a><h2>Functions</h2>
+<div class="informaltable"><table width="100%" border="0">
+<colgroup>
+<col width="150px" class="functions_return">
+<col class="functions_name">
+</colgroup>
+<tbody>
+<tr>
+<td class="function_type">
+<span class="returnvalue">UpWakeupItem</span> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-new" title="up_wakeup_item_new ()">up_wakeup_item_new</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-is-userspace" title="up_wakeup_item_get_is_userspace ()">up_wakeup_item_get_is_userspace</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-is-userspace" title="up_wakeup_item_set_is_userspace ()">up_wakeup_item_set_is_userspace</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-id" title="up_wakeup_item_get_id ()">up_wakeup_item_get_id</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-id" title="up_wakeup_item_set_id ()">up_wakeup_item_set_id</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-old" title="up_wakeup_item_get_old ()">up_wakeup_item_get_old</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-old" title="up_wakeup_item_set_old ()">up_wakeup_item_set_old</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-value" title="up_wakeup_item_get_value ()">up_wakeup_item_get_value</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-value" title="up_wakeup_item_set_value ()">up_wakeup_item_set_value</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-cmdline" title="up_wakeup_item_get_cmdline ()">up_wakeup_item_get_cmdline</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-cmdline" title="up_wakeup_item_set_cmdline ()">up_wakeup_item_set_cmdline</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-get-details" title="up_wakeup_item_get_details ()">up_wakeup_item_get_details</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+<tr>
+<td class="function_type">
+<span class="returnvalue">void</span>
+</td>
+<td class="function_name">
+<a class="link" href="UPower-up-wakeup-item.html#up-wakeup-item-set-details" title="up_wakeup_item_set_details ()">up_wakeup_item_set_details</a> <span class="c_punctuation">()</span>
+</td>
+</tr>
+</tbody>
+</table></div>
+</div>
+<div class="refsect1">
+<a name="UPower-up-wakeup-item.object-hierarchy"></a><h2>Object Hierarchy</h2>
+<pre class="screen">
 </pre>
 </div>
 <div class="refsect1">
 <a name="UPower-up-wakeup-item.description"></a><h2>Description</h2>
-<p>
-This object represents one item of data which may be returned from the
-daemon in response to a query.
-</p>
-<p>
-See also: <span class="type">UpDevice</span>, <span class="type">UpClient</span>
-</p>
+<p>This object represents one item of data which may be returned from the
+daemon in response to a query.</p>
+<p>See also: <span class="type">UpDevice</span>, <span class="type">UpClient</span></p>
 </div>
 <div class="refsect1">
-<a name="UPower-up-wakeup-item.details"></a><h2>Details</h2>
+<a name="UPower-up-wakeup-item.functions_details"></a><h2>Functions</h2>
 <div class="refsect2">
-<a name="up-wakeup-item-new"></a><h3>up_wakeup_item_new ()</h3>
-<pre class="programlisting"><span class="returnvalue">UpWakeupItem</span> *      up_wakeup_item_new                  (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
-<div class="variablelist"><table border="0" class="variablelist">
-<colgroup>
-<col align="left" valign="top">
-<col>
-</colgroup>
-<tbody><tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>a new UpWakeupItem object.</td>
-</tr></tbody>
-</table></div>
+<a name="up-wakeup-item-new"></a><h3>up_wakeup_item_new ()</h3>
+<pre class="programlisting"><span class="returnvalue">UpWakeupItem</span> *
+up_wakeup_item_new (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
+<div class="refsect3">
+<a name="id-1.3.7.6.2.4"></a><h4>Returns</h4>
+<p> a new UpWakeupItem object.</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-get-is-userspace"></a><h3>up_wakeup_item_get_is_userspace ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            up_wakeup_item_get_is_userspace     (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
-<p>
-Gets if the item is userspace.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-get-is-userspace"></a><h3>up_wakeup_item_get_is_userspace ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
+up_wakeup_item_get_is_userspace (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
+<p>Gets if the item is userspace.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.3.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>the value</td>
-</tr>
-</tbody>
+<tbody><tr>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.7.6.3.6"></a><h4>Returns</h4>
+<p> the value</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-set-is-userspace"></a><h3>up_wakeup_item_set_is_userspace ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_wakeup_item_set_is_userspace     (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="type">gboolean</span></a> is_userspace</code></em>);</pre>
-<p>
-Sets if the item is userspace.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-set-is-userspace"></a><h3>up_wakeup_item_set_is_userspace ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_wakeup_item_set_is_userspace (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
+                                 <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="type">gboolean</span></a> is_userspace</code></em>);</pre>
+<p>Sets if the item is userspace.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.4.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>is_userspace</code></em> :</span></p></td>
-<td>the new value</td>
+<td class="parameter_name"><p>is_userspace</p></td>
+<td class="parameter_description"><p>the new value</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-get-id"></a><h3>up_wakeup_item_get_id ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>               up_wakeup_item_get_id               (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
-<p>
-Gets the item id.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-get-id"></a><h3>up_wakeup_item_get_id ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>
+up_wakeup_item_get_id (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
+<p>Gets the item id.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.5.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>the value</td>
-</tr>
-</tbody>
+<tbody><tr>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.7.6.5.6"></a><h4>Returns</h4>
+<p> the value</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-set-id"></a><h3>up_wakeup_item_set_id ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_wakeup_item_set_id               (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> id</code></em>);</pre>
-<p>
-Sets the item id.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-set-id"></a><h3>up_wakeup_item_set_id ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_wakeup_item_set_id (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
+                       <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> id</code></em>);</pre>
+<p>Sets the item id.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.6.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>id</code></em> :</span></p></td>
-<td>the new value</td>
+<td class="parameter_name"><p>id</p></td>
+<td class="parameter_description"><p>the new value</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-get-old"></a><h3>up_wakeup_item_get_old ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>               up_wakeup_item_get_old              (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
-<p>
-Gets the item old.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-get-old"></a><h3>up_wakeup_item_get_old ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="returnvalue">guint</span></a>
+up_wakeup_item_get_old (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
+<p>Gets the item old.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.7.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>the value</td>
-</tr>
-</tbody>
+<tbody><tr>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.7.6.7.6"></a><h4>Returns</h4>
+<p> the value</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-set-old"></a><h3>up_wakeup_item_set_old ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_wakeup_item_set_old              (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> old</code></em>);</pre>
-<p>
-Sets the item old.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-set-old"></a><h3>up_wakeup_item_set_old ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_wakeup_item_set_old (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
+                        <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"><span class="type">guint</span></a> old</code></em>);</pre>
+<p>Sets the item old.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.8.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>old</code></em> :</span></p></td>
-<td>the new value</td>
+<td class="parameter_name"><p>old</p></td>
+<td class="parameter_description"><p>the new value</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-get-value"></a><h3>up_wakeup_item_get_value ()</h3>
-<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>             up_wakeup_item_get_value            (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
-<p>
-Gets the item value.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-get-value"></a><h3>up_wakeup_item_get_value ()</h3>
+<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="returnvalue">gdouble</span></a>
+up_wakeup_item_get_value (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
+<p>Gets the item value.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.9.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>the value</td>
-</tr>
-</tbody>
+<tbody><tr>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.7.6.9.6"></a><h4>Returns</h4>
+<p> the value</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-set-value"></a><h3>up_wakeup_item_set_value ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_wakeup_item_set_value            (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> value</code></em>);</pre>
-<p>
-Sets the item value.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-set-value"></a><h3>up_wakeup_item_set_value ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_wakeup_item_set_value (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
+                          <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gdouble"><span class="type">gdouble</span></a> value</code></em>);</pre>
+<p>Sets the item value.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.10.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>value</code></em> :</span></p></td>
-<td>the new value</td>
+<td class="parameter_name"><p>value</p></td>
+<td class="parameter_description"><p>the new value</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-get-cmdline"></a><h3>up_wakeup_item_get_cmdline ()</h3>
-<pre class="programlisting">const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       up_wakeup_item_get_cmdline          (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
-<p>
-Gets the item cmdline.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-get-cmdline"></a><h3>up_wakeup_item_get_cmdline ()</h3>
+<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+up_wakeup_item_get_cmdline (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
+<p>Gets the item cmdline.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.11.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>the value</td>
-</tr>
-</tbody>
+<tbody><tr>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.7.6.11.6"></a><h4>Returns</h4>
+<p> the value</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-set-cmdline"></a><h3>up_wakeup_item_set_cmdline ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_wakeup_item_set_cmdline          (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *cmdline</code></em>);</pre>
-<p>
-Sets the item cmdline.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-set-cmdline"></a><h3>up_wakeup_item_set_cmdline ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_wakeup_item_set_cmdline (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
+                            <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *cmdline</code></em>);</pre>
+<p>Sets the item cmdline.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.12.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>cmdline</code></em> :</span></p></td>
-<td>the new value</td>
+<td class="parameter_name"><p>cmdline</p></td>
+<td class="parameter_description"><p>the new value</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-get-details"></a><h3>up_wakeup_item_get_details ()</h3>
-<pre class="programlisting">const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       up_wakeup_item_get_details          (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
-<p>
-Gets the item details.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-get-details"></a><h3>up_wakeup_item_get_details ()</h3>
+<pre class="programlisting">const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *
+up_wakeup_item_get_details (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>);</pre>
+<p>Gets the item details.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.13.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
-<tbody>
-<tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
-</tr>
-<tr>
-<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
-<td>the value</td>
-</tr>
-</tbody>
+<tbody><tr>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
+</tr></tbody>
 </table></div>
+</div>
+<div class="refsect3">
+<a name="id-1.3.7.6.13.6"></a><h4>Returns</h4>
+<p> the value</p>
+<p></p>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 <hr>
 <div class="refsect2">
-<a name="up-wakeup-item-set-details"></a><h3>up_wakeup_item_set_details ()</h3>
-<pre class="programlisting"><span class="returnvalue">void</span>                up_wakeup_item_set_details          (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
-                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *details</code></em>);</pre>
-<p>
-Sets the item details.
-</p>
-<div class="variablelist"><table border="0" class="variablelist">
+<a name="up-wakeup-item-set-details"></a><h3>up_wakeup_item_set_details ()</h3>
+<pre class="programlisting"><span class="returnvalue">void</span>
+up_wakeup_item_set_details (<em class="parameter"><code><span class="type">UpWakeupItem</span> *wakeup_item</code></em>,
+                            <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *details</code></em>);</pre>
+<p>Sets the item details.</p>
+<div class="refsect3">
+<a name="id-1.3.7.6.14.5"></a><h4>Parameters</h4>
+<div class="informaltable"><table width="100%" border="0">
 <colgroup>
-<col align="left" valign="top">
-<col>
+<col width="150px" class="parameters_name">
+<col class="parameters_description">
+<col width="200px" class="parameters_annotations">
 </colgroup>
 <tbody>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>wakeup_item</code></em> :</span></p></td>
-<td><span class="type">UpWakeupItem</span></td>
+<td class="parameter_name"><p>wakeup_item</p></td>
+<td class="parameter_description"><p><span class="type">UpWakeupItem</span></p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 <tr>
-<td><p><span class="term"><em class="parameter"><code>details</code></em> :</span></p></td>
-<td>the new value</td>
+<td class="parameter_name"><p>details</p></td>
+<td class="parameter_description"><p>the new value</p></td>
+<td class="parameter_annotations"> </td>
 </tr>
 </tbody>
 </table></div>
+</div>
 <p class="since">Since 0.9.0</p>
 </div>
 </div>
+<div class="refsect1">
+<a name="UPower-up-wakeup-item.other_details"></a><h2>Types and Values</h2>
+</div>
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/UPower.7.html upower-0.99.0-patched-pretty/doc/html/UPower.7.html
--- upower-0.99.0/doc/html/UPower.7.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/UPower.7.html	2014-07-13 21:34:35.180231625 -0400
@@ -3,17 +3,17 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: UPower</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="tools-fileformats.html" title="Manual Pages">
 <link rel="prev" href="tools-fileformats.html" title="Manual Pages">
 <link rel="next" href="upowerd.8.html" title="upowerd">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left"></td>
+<td width="100%" align="left" class="shortcuts"></td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="tools-fileformats.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
 <td><a accesskey="p" href="tools-fileformats.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
@@ -26,7 +26,7 @@
 <h2><span class="refentrytitle">UPower</span></h2>
 <p>UPower — System-wide Power Management</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
 <div class="refsect1">
 <a name="id-1.5.3.4"></a><h2>DESCRIPTION</h2>
@@ -67,6 +67,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/UPower.devhelp2 upower-0.99.0-patched-pretty/doc/html/UPower.devhelp2
--- upower-0.99.0/doc/html/UPower.devhelp2	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/UPower.devhelp2	2014-07-13 21:34:35.181231625 -0400
@@ -30,12 +30,24 @@
     <keyword type="" name="EnumerateDevices ()" link="UPower.html#UPower.EnumerateDevices"/>
     <keyword type="" name="GetDisplayDevice ()" link="UPower.html#UPower.GetDisplayDevice"/>
     <keyword type="" name="GetCriticalAction ()" link="UPower.html#UPower.GetCriticalAction"/>
+    <keyword type="" name="AboutToSleep ()" link="UPower.html#UPower.AboutToSleep"/>
+    <keyword type="" name="Suspend ()" link="UPower.html#UPower.Suspend"/>
+    <keyword type="" name="SuspendAllowed ()" link="UPower.html#UPower.SuspendAllowed"/>
+    <keyword type="" name="Hibernate ()" link="UPower.html#UPower.Hibernate"/>
+    <keyword type="" name="HibernateAllowed ()" link="UPower.html#UPower.HibernateAllowed"/>
     <keyword type="" name="The DeviceAdded signal" link="UPower.html#UPower::DeviceAdded"/>
     <keyword type="" name="The DeviceRemoved signal" link="UPower.html#UPower::DeviceRemoved"/>
+    <keyword type="" name="The Sleeping signal" link="UPower.html#UPower::Sleeping"/>
+    <keyword type="" name="The NotifySleep signal" link="UPower.html#UPower::NotifySleep"/>
+    <keyword type="" name="The Resuming signal" link="UPower.html#UPower::Resuming"/>
+    <keyword type="" name="The NotifyResume signal" link="UPower.html#UPower::NotifyResume"/>
     <keyword type="" name="The &quot;DaemonVersion&quot; property" link="UPower.html#UPower:DaemonVersion"/>
+    <keyword type="" name="The &quot;CanSuspend&quot; property" link="UPower.html#UPower:CanSuspend"/>
+    <keyword type="" name="The &quot;CanHibernate&quot; property" link="UPower.html#UPower:CanHibernate"/>
     <keyword type="" name="The &quot;OnBattery&quot; property" link="UPower.html#UPower:OnBattery"/>
     <keyword type="" name="The &quot;LidIsClosed&quot; property" link="UPower.html#UPower:LidIsClosed"/>
     <keyword type="" name="The &quot;LidIsPresent&quot; property" link="UPower.html#UPower:LidIsPresent"/>
+    <keyword type="" name="The &quot;LidForceSleep&quot; property" link="UPower.html#UPower:LidForceSleep"/>
     <keyword type="" name="The &quot;IsDocked&quot; property" link="UPower.html#UPower:IsDocked"/>
     <keyword type="" name="Refresh ()" link="Device.html#Device.Refresh"/>
     <keyword type="" name="GetHistory ()" link="Device.html#Device.GetHistory"/>
@@ -72,119 +84,95 @@
     <keyword type="" name="GetBrightness ()" link="KbdBacklight.html#KbdBacklight.GetBrightness"/>
     <keyword type="" name="SetBrightness ()" link="KbdBacklight.html#KbdBacklight.SetBrightness"/>
     <keyword type="" name="The BrightnessChanged signal" link="KbdBacklight.html#KbdBacklight::BrightnessChanged"/>
+    <keyword type="function" name="device_added ()" link="UPower-up-client.html#device-added"/>
+    <keyword type="function" name="device_removed ()" link="UPower-up-client.html#device-removed"/>
+    <keyword type="function" name="notify_sleep ()" link="UPower-up-client.html#notify-sleep"/>
+    <keyword type="function" name="notify_resume ()" link="UPower-up-client.html#notify-resume"/>
+    <keyword type="function" name="_up_client_reserved1 ()" link="UPower-up-client.html#up-client-reserved1"/>
+    <keyword type="function" name="_up_client_reserved2 ()" link="UPower-up-client.html#up-client-reserved2"/>
+    <keyword type="function" name="_up_client_reserved3 ()" link="UPower-up-client.html#up-client-reserved3"/>
+    <keyword type="function" name="_up_client_reserved4 ()" link="UPower-up-client.html#up-client-reserved4"/>
+    <keyword type="function" name="_up_client_reserved5 ()" link="UPower-up-client.html#up-client-reserved5"/>
+    <keyword type="function" name="_up_client_reserved6 ()" link="UPower-up-client.html#up-client-reserved6"/>
+    <keyword type="function" name="_up_client_reserved7 ()" link="UPower-up-client.html#up-client-reserved7"/>
+    <keyword type="function" name="_up_client_reserved8 ()" link="UPower-up-client.html#up-client-reserved8"/>
+    <keyword type="function" name="up_client_new ()" link="UPower-up-client.html#up-client-new" since="0.9.0"/>
+    <keyword type="function" name="up_client_get_display_device ()" link="UPower-up-client.html#up-client-get-display-device" since="1.0"/>
+    <keyword type="function" name="up_client_get_critical_action ()" link="UPower-up-client.html#up-client-get-critical-action" since="1.0"/>
+    <keyword type="function" name="up_client_get_properties_sync ()" link="UPower-up-client.html#up-client-get-properties-sync" since="0.9.0"/>
+    <keyword type="function" name="up_client_suspend_sync ()" link="UPower-up-client.html#up-client-suspend-sync" deprecated="" since="0.9.0"/>
+    <keyword type="function" name="up_client_about_to_sleep_sync ()" link="UPower-up-client.html#up-client-about-to-sleep-sync" since="0.9.11"/>
+    <keyword type="function" name="up_client_hibernate_sync ()" link="UPower-up-client.html#up-client-hibernate-sync" since="0.9.0"/>
+    <keyword type="function" name="up_client_get_devices ()" link="UPower-up-client.html#up-client-get-devices" deprecated="" since="0.9.0"/>
+    <keyword type="function" name="up_client_get_daemon_version ()" link="UPower-up-client.html#up-client-get-daemon-version" since="0.9.0"/>
+    <keyword type="function" name="up_client_get_can_hibernate ()" link="UPower-up-client.html#up-client-get-can-hibernate" deprecated="" since="0.9.0"/>
+    <keyword type="function" name="up_client_get_lid_is_closed ()" link="UPower-up-client.html#up-client-get-lid-is-closed" deprecated="" since="0.9.0"/>
+    <keyword type="function" name="up_client_get_lid_is_present ()" link="UPower-up-client.html#up-client-get-lid-is-present" since="0.9.2"/>
+    <keyword type="function" name="up_client_get_lid_force_sleep ()" link="UPower-up-client.html#up-client-get-lid-force-sleep" since="0.9.9"/>
+    <keyword type="function" name="up_client_get_is_docked ()" link="UPower-up-client.html#up-client-get-is-docked" since="0.9.2"/>
+    <keyword type="function" name="up_client_get_can_suspend ()" link="UPower-up-client.html#up-client-get-can-suspend" deprecated="" since="0.9.0"/>
+    <keyword type="function" name="up_client_get_on_battery ()" link="UPower-up-client.html#up-client-get-on-battery" deprecated="" since="0.9.0"/>
     <keyword type="macro" name="UP_CLIENT_ERROR" link="UPower-up-client.html#UP-CLIENT-ERROR:CAPS"/>
     <keyword type="macro" name="UP_CLIENT_TYPE_ERROR" link="UPower-up-client.html#UP-CLIENT-TYPE-ERROR:CAPS"/>
-    <keyword type="function" name="device_added ()" link="UPower-up-client.html#device-added"/>
-    <keyword type="function" name="device_removed ()" link="UPower-up-client.html#device-removed"/>
-    <keyword type="function" name="_up_client_reserved1 ()" link="UPower-up-client.html#up-client-reserved1"/>
-    <keyword type="function" name="_up_client_reserved2 ()" link="UPower-up-client.html#up-client-reserved2"/>
-    <keyword type="function" name="_up_client_reserved3 ()" link="UPower-up-client.html#up-client-reserved3"/>
-    <keyword type="function" name="_up_client_reserved4 ()" link="UPower-up-client.html#up-client-reserved4"/>
-    <keyword type="function" name="_up_client_reserved5 ()" link="UPower-up-client.html#up-client-reserved5"/>
-    <keyword type="function" name="_up_client_reserved6 ()" link="UPower-up-client.html#up-client-reserved6"/>
-    <keyword type="function" name="_up_client_reserved7 ()" link="UPower-up-client.html#up-client-reserved7"/>
-    <keyword type="function" name="_up_client_reserved8 ()" link="UPower-up-client.html#up-client-reserved8"/>
-    <keyword type="function" name="up_client_new ()" link="UPower-up-client.html#up-client-new" since="0.9.0"/>
-    <keyword type="function" name="up_client_get_display_device ()" link="UPower-up-client.html#up-client-get-display-device" since="1.0"/>
-    <keyword type="function" name="up_client_get_critical_action ()" link="UPower-up-client.html#up-client-get-critical-action" since="1.0"/>
-    <keyword type="function" name="up_client_get_devices ()" link="UPower-up-client.html#up-client-get-devices" since="0.9.0"/>
-    <keyword type="function" name="up_client_get_daemon_version ()" link="UPower-up-client.html#up-client-get-daemon-version" since="0.9.0"/>
-    <keyword type="function" name="up_client_get_lid_is_closed ()" link="UPower-up-client.html#up-client-get-lid-is-closed" since="0.9.0"/>
-    <keyword type="function" name="up_client_get_lid_is_present ()" link="UPower-up-client.html#up-client-get-lid-is-present" since="0.9.2"/>
-    <keyword type="function" name="up_client_get_is_docked ()" link="UPower-up-client.html#up-client-get-is-docked" since="0.9.2"/>
-    <keyword type="function" name="up_client_get_on_battery ()" link="UPower-up-client.html#up-client-get-on-battery" since="0.9.0"/>
+    <keyword type="function" name="_up_device_reserved1 ()" link="UPower-up-device.html#up-device-reserved1"/>
+    <keyword type="function" name="_up_device_reserved2 ()" link="UPower-up-device.html#up-device-reserved2"/>
+    <keyword type="function" name="_up_device_reserved3 ()" link="UPower-up-device.html#up-device-reserved3"/>
+    <keyword type="function" name="_up_device_reserved4 ()" link="UPower-up-device.html#up-device-reserved4"/>
+    <keyword type="function" name="_up_device_reserved5 ()" link="UPower-up-device.html#up-device-reserved5"/>
+    <keyword type="function" name="_up_device_reserved6 ()" link="UPower-up-device.html#up-device-reserved6"/>
+    <keyword type="function" name="_up_device_reserved7 ()" link="UPower-up-device.html#up-device-reserved7"/>
+    <keyword type="function" name="_up_device_reserved8 ()" link="UPower-up-device.html#up-device-reserved8"/>
+    <keyword type="function" name="up_device_new ()" link="UPower-up-device.html#up-device-new" since="0.9.0"/>
+    <keyword type="function" name="up_device_to_text ()" link="UPower-up-device.html#up-device-to-text" since="0.9.0"/>
+    <keyword type="function" name="up_device_refresh_sync ()" link="UPower-up-device.html#up-device-refresh-sync" since="0.9.0"/>
+    <keyword type="function" name="up_device_set_object_path_sync ()" link="UPower-up-device.html#up-device-set-object-path-sync" since="0.9.0"/>
+    <keyword type="function" name="up_device_get_history_sync ()" link="UPower-up-device.html#up-device-get-history-sync" since="0.9.0"/>
+    <keyword type="function" name="up_device_get_statistics_sync ()" link="UPower-up-device.html#up-device-get-statistics-sync" since="0.9.0"/>
+    <keyword type="function" name="up_device_get_object_path ()" link="UPower-up-device.html#up-device-get-object-path" since="0.9.0"/>
     <keyword type="macro" name="UP_DEVICE_ERROR" link="UPower-up-device.html#UP-DEVICE-ERROR:CAPS"/>
     <keyword type="macro" name="UP_DEVICE_TYPE_ERROR" link="UPower-up-device.html#UP-DEVICE-TYPE-ERROR:CAPS"/>
-    <keyword type="function" name="_up_device_reserved1 ()" link="UPower-up-device.html#up-device-reserved1"/>
-    <keyword type="function" name="_up_device_reserved2 ()" link="UPower-up-device.html#up-device-reserved2"/>
-    <keyword type="function" name="_up_device_reserved3 ()" link="UPower-up-device.html#up-device-reserved3"/>
-    <keyword type="function" name="_up_device_reserved4 ()" link="UPower-up-device.html#up-device-reserved4"/>
-    <keyword type="function" name="_up_device_reserved5 ()" link="UPower-up-device.html#up-device-reserved5"/>
-    <keyword type="function" name="_up_device_reserved6 ()" link="UPower-up-device.html#up-device-reserved6"/>
-    <keyword type="function" name="_up_device_reserved7 ()" link="UPower-up-device.html#up-device-reserved7"/>
-    <keyword type="function" name="_up_device_reserved8 ()" link="UPower-up-device.html#up-device-reserved8"/>
-    <keyword type="function" name="up_device_new ()" link="UPower-up-device.html#up-device-new" since="0.9.0"/>
-    <keyword type="function" name="up_device_to_text ()" link="UPower-up-device.html#up-device-to-text" since="0.9.0"/>
-    <keyword type="function" name="up_device_refresh_sync ()" link="UPower-up-device.html#up-device-refresh-sync" since="0.9.0"/>
-    <keyword type="function" name="up_device_set_object_path_sync ()" link="UPower-up-device.html#up-device-set-object-path-sync" since="0.9.0"/>
-    <keyword type="function" name="up_device_get_history_sync ()" link="UPower-up-device.html#up-device-get-history-sync" since="0.9.0"/>
-    <keyword type="function" name="up_device_get_statistics_sync ()" link="UPower-up-device.html#up-device-get-statistics-sync" since="0.9.0"/>
-    <keyword type="function" name="up_device_get_object_path ()" link="UPower-up-device.html#up-device-get-object-path" since="0.9.0"/>
-    <keyword type="function" name="up_history_item_new ()" link="UPower-up-history-item.html#up-history-item-new" since="0.9.0"/>
-    <keyword type="function" name="up_history_item_get_value ()" link="UPower-up-history-item.html#up-history-item-get-value" since="0.9.0"/>
-    <keyword type="function" name="up_history_item_set_value ()" link="UPower-up-history-item.html#up-history-item-set-value" since="0.9.0"/>
-    <keyword type="function" name="up_history_item_get_time ()" link="UPower-up-history-item.html#up-history-item-get-time" since="0.9.0"/>
-    <keyword type="function" name="up_history_item_set_time ()" link="UPower-up-history-item.html#up-history-item-set-time" since="0.9.0"/>
-    <keyword type="function" name="up_history_item_set_time_to_present ()" link="UPower-up-history-item.html#up-history-item-set-time-to-present" since="0.9.1"/>
-    <keyword type="function" name="up_history_item_get_state ()" link="UPower-up-history-item.html#up-history-item-get-state" since="0.9.0"/>
-    <keyword type="function" name="up_history_item_set_state ()" link="UPower-up-history-item.html#up-history-item-set-state" since="0.9.0"/>
-    <keyword type="function" name="up_history_item_to_string ()" link="UPower-up-history-item.html#up-history-item-to-string" since="0.9.1"/>
-    <keyword type="function" name="up_history_item_set_from_string ()" link="UPower-up-history-item.html#up-history-item-set-from-string" since="0.9.1"/>
-    <keyword type="function" name="up_stats_item_new ()" link="UPower-up-stats-item.html#up-stats-item-new" since="0.9.0"/>
-    <keyword type="function" name="up_stats_item_get_value ()" link="UPower-up-stats-item.html#up-stats-item-get-value" since="0.9.0"/>
-    <keyword type="function" name="up_stats_item_set_value ()" link="UPower-up-stats-item.html#up-stats-item-set-value" since="0.9.0"/>
-    <keyword type="function" name="up_stats_item_get_accuracy ()" link="UPower-up-stats-item.html#up-stats-item-get-accuracy" since="0.9.0"/>
-    <keyword type="function" name="up_stats_item_set_accuracy ()" link="UPower-up-stats-item.html#up-stats-item-set-accuracy" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_new ()" link="UPower-up-wakeup-item.html#up-wakeup-item-new" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_get_is_userspace ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-is-userspace" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_set_is_userspace ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-is-userspace" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_get_id ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-id" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_set_id ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-id" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_get_old ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-old" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_set_old ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-old" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_get_value ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-value" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_set_value ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-value" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_get_cmdline ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-cmdline" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_set_cmdline ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-cmdline" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_get_details ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-details" since="0.9.0"/>
-    <keyword type="function" name="up_wakeup_item_set_details ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-details" since="0.9.0"/>
+    <keyword type="function" name="up_history_item_new ()" link="UPower-up-history-item.html#up-history-item-new" since="0.9.0"/>
+    <keyword type="function" name="up_history_item_get_value ()" link="UPower-up-history-item.html#up-history-item-get-value" since="0.9.0"/>
+    <keyword type="function" name="up_history_item_set_value ()" link="UPower-up-history-item.html#up-history-item-set-value" since="0.9.0"/>
+    <keyword type="function" name="up_history_item_get_time ()" link="UPower-up-history-item.html#up-history-item-get-time" since="0.9.0"/>
+    <keyword type="function" name="up_history_item_set_time ()" link="UPower-up-history-item.html#up-history-item-set-time" since="0.9.0"/>
+    <keyword type="function" name="up_history_item_set_time_to_present ()" link="UPower-up-history-item.html#up-history-item-set-time-to-present" since="0.9.1"/>
+    <keyword type="function" name="up_history_item_get_state ()" link="UPower-up-history-item.html#up-history-item-get-state" since="0.9.0"/>
+    <keyword type="function" name="up_history_item_set_state ()" link="UPower-up-history-item.html#up-history-item-set-state" since="0.9.0"/>
+    <keyword type="function" name="up_history_item_to_string ()" link="UPower-up-history-item.html#up-history-item-to-string" since="0.9.1"/>
+    <keyword type="function" name="up_history_item_set_from_string ()" link="UPower-up-history-item.html#up-history-item-set-from-string" since="0.9.1"/>
+    <keyword type="function" name="up_stats_item_new ()" link="UPower-up-stats-item.html#up-stats-item-new" since="0.9.0"/>
+    <keyword type="function" name="up_stats_item_get_value ()" link="UPower-up-stats-item.html#up-stats-item-get-value" since="0.9.0"/>
+    <keyword type="function" name="up_stats_item_set_value ()" link="UPower-up-stats-item.html#up-stats-item-set-value" since="0.9.0"/>
+    <keyword type="function" name="up_stats_item_get_accuracy ()" link="UPower-up-stats-item.html#up-stats-item-get-accuracy" since="0.9.0"/>
+    <keyword type="function" name="up_stats_item_set_accuracy ()" link="UPower-up-stats-item.html#up-stats-item-set-accuracy" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_new ()" link="UPower-up-wakeup-item.html#up-wakeup-item-new" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_get_is_userspace ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-is-userspace" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_set_is_userspace ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-is-userspace" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_get_id ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-id" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_set_id ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-id" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_get_old ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-old" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_set_old ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-old" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_get_value ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-value" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_set_value ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-value" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_get_cmdline ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-cmdline" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_set_cmdline ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-cmdline" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_get_details ()" link="UPower-up-wakeup-item.html#up-wakeup-item-get-details" since="0.9.0"/>
+    <keyword type="function" name="up_wakeup_item_set_details ()" link="UPower-up-wakeup-item.html#up-wakeup-item-set-details" since="0.9.0"/>
+    <keyword type="function" name="up_device_kind_to_string ()" link="UPower-up-types.html#up-device-kind-to-string" since="0.9.0"/>
+    <keyword type="function" name="up_device_state_to_string ()" link="UPower-up-types.html#up-device-state-to-string" since="0.9.0"/>
+    <keyword type="function" name="up_device_technology_to_string ()" link="UPower-up-types.html#up-device-technology-to-string" since="0.9.0"/>
+    <keyword type="function" name="up_device_level_to_string ()" link="UPower-up-types.html#up-device-level-to-string" since="1.0"/>
+    <keyword type="function" name="up_device_kind_from_string ()" link="UPower-up-types.html#up-device-kind-from-string" since="0.9.0"/>
+    <keyword type="function" name="up_device_state_from_string ()" link="UPower-up-types.html#up-device-state-from-string" since="0.9.0"/>
+    <keyword type="function" name="up_device_technology_from_string ()" link="UPower-up-types.html#up-device-technology-from-string" since="0.9.0"/>
+    <keyword type="function" name="up_device_level_from_string ()" link="UPower-up-types.html#up-device-level-from-string" since="1.0"/>
+    <keyword type="function" name="up_sleep_kind_to_string ()" link="UPower-up-types.html#up-sleep-kind-to-string" since="0.9.10"/>
+    <keyword type="function" name="up_sleep_kind_from_string ()" link="UPower-up-types.html#up-sleep-kind-from-string" since="0.9.10"/>
     <keyword type="enum" name="enum UpDeviceKind" link="UPower-up-types.html#UpDeviceKind"/>
     <keyword type="enum" name="enum UpDeviceState" link="UPower-up-types.html#UpDeviceState"/>
     <keyword type="enum" name="enum UpDeviceTechnology" link="UPower-up-types.html#UpDeviceTechnology"/>
     <keyword type="enum" name="enum UpDeviceLevel" link="UPower-up-types.html#UpDeviceLevel"/>
-    <keyword type="function" name="up_device_kind_to_string ()" link="UPower-up-types.html#up-device-kind-to-string" since="0.9.0"/>
-    <keyword type="function" name="up_device_state_to_string ()" link="UPower-up-types.html#up-device-state-to-string" since="0.9.0"/>
-    <keyword type="function" name="up_device_technology_to_string ()" link="UPower-up-types.html#up-device-technology-to-string" since="0.9.0"/>
-    <keyword type="function" name="up_device_level_to_string ()" link="UPower-up-types.html#up-device-level-to-string" since="1.0"/>
-    <keyword type="function" name="up_device_kind_from_string ()" link="UPower-up-types.html#up-device-kind-from-string" since="0.9.0"/>
-    <keyword type="function" name="up_device_state_from_string ()" link="UPower-up-types.html#up-device-state-from-string" since="0.9.0"/>
-    <keyword type="function" name="up_device_technology_from_string ()" link="UPower-up-types.html#up-device-technology-from-string" since="0.9.0"/>
-    <keyword type="function" name="up_device_level_from_string ()" link="UPower-up-types.html#up-device-level-from-string" since="1.0"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_UNKNOWN" link="UPower-up-types.html#UP-DEVICE-KIND-UNKNOWN:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_LINE_POWER" link="UPower-up-types.html#UP-DEVICE-KIND-LINE-POWER:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_BATTERY" link="UPower-up-types.html#UP-DEVICE-KIND-BATTERY:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_UPS" link="UPower-up-types.html#UP-DEVICE-KIND-UPS:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_MONITOR" link="UPower-up-types.html#UP-DEVICE-KIND-MONITOR:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_MOUSE" link="UPower-up-types.html#UP-DEVICE-KIND-MOUSE:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_KEYBOARD" link="UPower-up-types.html#UP-DEVICE-KIND-KEYBOARD:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_PDA" link="UPower-up-types.html#UP-DEVICE-KIND-PDA:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_PHONE" link="UPower-up-types.html#UP-DEVICE-KIND-PHONE:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_MEDIA_PLAYER" link="UPower-up-types.html#UP-DEVICE-KIND-MEDIA-PLAYER:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_TABLET" link="UPower-up-types.html#UP-DEVICE-KIND-TABLET:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_COMPUTER" link="UPower-up-types.html#UP-DEVICE-KIND-COMPUTER:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_KIND_LAST" link="UPower-up-types.html#UP-DEVICE-KIND-LAST:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_STATE_UNKNOWN" link="UPower-up-types.html#UP-DEVICE-STATE-UNKNOWN:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_STATE_CHARGING" link="UPower-up-types.html#UP-DEVICE-STATE-CHARGING:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_STATE_DISCHARGING" link="UPower-up-types.html#UP-DEVICE-STATE-DISCHARGING:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_STATE_EMPTY" link="UPower-up-types.html#UP-DEVICE-STATE-EMPTY:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_STATE_FULLY_CHARGED" link="UPower-up-types.html#UP-DEVICE-STATE-FULLY-CHARGED:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_STATE_PENDING_CHARGE" link="UPower-up-types.html#UP-DEVICE-STATE-PENDING-CHARGE:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_STATE_PENDING_DISCHARGE" link="UPower-up-types.html#UP-DEVICE-STATE-PENDING-DISCHARGE:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_STATE_LAST" link="UPower-up-types.html#UP-DEVICE-STATE-LAST:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_TECHNOLOGY_UNKNOWN" link="UPower-up-types.html#UP-DEVICE-TECHNOLOGY-UNKNOWN:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_TECHNOLOGY_LITHIUM_ION" link="UPower-up-types.html#UP-DEVICE-TECHNOLOGY-LITHIUM-ION:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_TECHNOLOGY_LITHIUM_POLYMER" link="UPower-up-types.html#UP-DEVICE-TECHNOLOGY-LITHIUM-POLYMER:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_TECHNOLOGY_LITHIUM_IRON_PHOSPHATE" link="UPower-up-types.html#UP-DEVICE-TECHNOLOGY-LITHIUM-IRON-PHOSPHATE:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_TECHNOLOGY_LEAD_ACID" link="UPower-up-types.html#UP-DEVICE-TECHNOLOGY-LEAD-ACID:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_TECHNOLOGY_NICKEL_CADMIUM" link="UPower-up-types.html#UP-DEVICE-TECHNOLOGY-NICKEL-CADMIUM:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_TECHNOLOGY_NICKEL_METAL_HYDRIDE" link="UPower-up-types.html#UP-DEVICE-TECHNOLOGY-NICKEL-METAL-HYDRIDE:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_TECHNOLOGY_LAST" link="UPower-up-types.html#UP-DEVICE-TECHNOLOGY-LAST:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_LEVEL_UNKNOWN" link="UPower-up-types.html#UP-DEVICE-LEVEL-UNKNOWN:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_LEVEL_NONE" link="UPower-up-types.html#UP-DEVICE-LEVEL-NONE:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_LEVEL_DISCHARGING" link="UPower-up-types.html#UP-DEVICE-LEVEL-DISCHARGING:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_LEVEL_LOW" link="UPower-up-types.html#UP-DEVICE-LEVEL-LOW:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_LEVEL_CRITICAL" link="UPower-up-types.html#UP-DEVICE-LEVEL-CRITICAL:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_LEVEL_ACTION" link="UPower-up-types.html#UP-DEVICE-LEVEL-ACTION:CAPS"/>
-    <keyword type="constant" name="UP_DEVICE_LEVEL_LAST" link="UPower-up-types.html#UP-DEVICE-LEVEL-LAST:CAPS"/>
+    <keyword type="enum" name="enum UpSleepKind" link="UPower-up-types.html#UpSleepKind"/>
   </functions>
 </book>
diff -urN upower-0.99.0/doc/html/UPower.html upower-0.99.0-patched-pretty/doc/html/UPower.html
--- upower-0.99.0/doc/html/UPower.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/UPower.html	2014-07-13 21:34:35.181231625 -0400
@@ -3,26 +3,22 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: org.freedesktop.UPower</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="ref-dbus.html" title="D-Bus API Reference">
 <link rel="prev" href="ref-dbus.html" title="D-Bus API Reference">
 <link rel="next" href="Device.html" title="org.freedesktop.UPower.Device">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left">
-<a href="#" class="shortcut">Top</a>
-                   | 
-                  <a href="#UPower.description" class="shortcut">Description</a>
-                   | 
-                  <a href="#UPower.implemented-interfaces" class="shortcut">Implemented Interfaces</a>
-                   | 
-                  <a href="#UPower.properties" class="shortcut">Properties</a>
-                   | 
-                  <a href="#UPower.signals" class="shortcut">Signals</a>
+<td width="100%" align="left" class="shortcuts">
+<a href="#" class="shortcut">Top</a><span id="nav_description"> <span class="dim">|</span> 
+                  <a href="#UPower.description" class="shortcut">Description</a></span><span id="nav_interfaces"> <span class="dim">|</span> 
+                  <a href="#UPower.implemented-interfaces" class="shortcut">Implemented Interfaces</a></span><span id="nav_properties"> <span class="dim">|</span> 
+                  <a href="#UPower.properties" class="shortcut">Properties</a></span><span id="nav_signals"> <span class="dim">|</span> 
+                  <a href="#UPower.signals" class="shortcut">Signals</a></span>
 </td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="ref-dbus.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
@@ -36,19 +32,28 @@
 <h2><span class="refentrytitle">org.freedesktop.UPower</span></h2>
 <p>org.freedesktop.UPower — UPower interface</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
 <div class="refsynopsisdiv">
 <h2>Methods</h2>
 <pre class="synopsis"><a class="link" href="UPower.html#UPower.EnumerateDevices">EnumerateDevices</a>(out'ao'devices)
 <a class="link" href="UPower.html#UPower.GetDisplayDevice">GetDisplayDevice</a>(out'o'device)
 <a class="link" href="UPower.html#UPower.GetCriticalAction">GetCriticalAction</a>(out's'action)
+<a class="link" href="UPower.html#UPower.AboutToSleep">AboutToSleep</a>(in's'action)
+<a class="link" href="UPower.html#UPower.Suspend">Suspend</a>()
+<a class="link" href="UPower.html#UPower.SuspendAllowed">SuspendAllowed</a>(out'b'allowed)
+<a class="link" href="UPower.html#UPower.Hibernate">Hibernate</a>()
+<a class="link" href="UPower.html#UPower.HibernateAllowed">HibernateAllowed</a>(out'b'allowed)
 </pre>
 </div>
 <div class="refsect1">
 <a name="id-1.2.3.4"></a><h2>Signals</h2>
 <pre class="synopsis"><a class="link" href="UPower.html#UPower::DeviceAdded">DeviceAdded</a>('o'device)
 <a class="link" href="UPower.html#UPower::DeviceRemoved">DeviceRemoved</a>('o'device)
+<a class="link" href="UPower.html#UPower::Sleeping">Sleeping</a>()
+<a class="link" href="UPower.html#UPower::NotifySleep">NotifySleep</a>('s'action)
+<a class="link" href="UPower.html#UPower::Resuming">Resuming</a>()
+<a class="link" href="UPower.html#UPower::NotifyResume">NotifyResume</a>('s'action)
 </pre>
 </div>
 <div class="refsect1">
@@ -62,9 +67,12 @@
 <div class="refsect1">
 <a name="id-1.2.3.6"></a><h2>Properties</h2>
 <pre class="synopsis"><a class="link" href="UPower.html#UPower:DaemonVersion">'DaemonVersion'</a>read's'
+<a class="link" href="UPower.html#UPower:CanSuspend">'CanSuspend'</a>read'b'
+<a class="link" href="UPower.html#UPower:CanHibernate">'CanHibernate'</a>read'b'
 <a class="link" href="UPower.html#UPower:OnBattery">'OnBattery'</a>read'b'
 <a class="link" href="UPower.html#UPower:LidIsClosed">'LidIsClosed'</a>read'b'
 <a class="link" href="UPower.html#UPower:LidIsPresent">'LidIsPresent'</a>read'b'
+<a class="link" href="UPower.html#UPower:LidForceSleep">'LidForceSleep'</a>read'b'
 <a class="link" href="UPower.html#UPower:IsDocked">'IsDocked'</a>read'b'
 </pre>
 </div>
@@ -85,37 +93,19 @@
         </p>
 <p>
           </p>
-<div class="informalexample">
-  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
-    <tbody>
-      <tr>
-        <td class="listing_lines" align="right"><pre>1
-2
-3
-4
-5
-6
-7
-8
-9
-10
-11</pre></td>
-        <td class="listing_code"><pre class="programlisting"><span class="normal">$ dbus</span><span class="symbol">-</span><span class="normal">send </span><span class="symbol">--</span><span class="normal">print</span><span class="symbol">-</span><span class="normal">reply </span><span class="symbol">\</span>
-<span class="normal">            </span><span class="symbol">--</span><span class="normal">system </span><span class="symbol">\</span>
-<span class="normal">            </span><span class="symbol">--</span><span class="normal">dest</span><span class="symbol">=</span><span class="normal">org</span><span class="symbol">.</span><span class="normal">freedesktop</span><span class="symbol">.</span><span class="normal"><a href="UPower.html">UPower</a> </span><span class="symbol">\</span>
-<span class="normal">            </span><span class="symbol">/</span><span class="normal">org</span><span class="symbol">/</span><span class="normal">freedesktop</span><span class="symbol">/</span><span class="normal"><a href="UPower.html">UPower</a> </span><span class="symbol">\</span>
-<span class="normal">            org</span><span class="symbol">.</span><span class="normal">freedesktop</span><span class="symbol">.</span><span class="normal"><a href="UPower.html">UPower</a></span><span class="symbol">.</span><span class="normal">EnumerateDevices</span>
-
-<span class="normal">method </span><span class="usertype">return</span><span class="normal"> sender</span><span class="symbol">=:</span><span class="number">1.386</span><span class="normal"> </span><span class="symbol">-&gt;</span><span class="normal"> dest</span><span class="symbol">=:</span><span class="number">1.451</span><span class="normal"> reply_serial</span><span class="symbol">=</span><span class="number">2</span>
-<span class="normal">   array </span><span class="symbol">[</span>
-<span class="normal">      </span><span class="usertype">object</span><span class="normal"> path </span><span class="string">"/org/freedesktop/UPower/devices/line_power_AC"</span>
-<span class="normal">      </span><span class="usertype">object</span><span class="normal"> path </span><span class="string">"/org/freedesktop/UPower/devices/battery_BAT0"</span>
-<span class="normal">   </span><span class="symbol">]</span></pre></td>
-      </tr>
-    </tbody>
-  </table>
-</div>
+<div class="informalexample"><pre class="programlisting">
+$ dbus-send --print-reply \
+            --system \
+            --dest=org.freedesktop.UPower \
+            /org/freedesktop/UPower \
+            org.freedesktop.UPower.EnumerateDevices
 
+method return sender=:1.386 -&gt; dest=:1.451 reply_serial=2
+   array [
+      object path "/org/freedesktop/UPower/devices/line_power_AC"
+      object path "/org/freedesktop/UPower/devices/battery_BAT0"
+   ]
+            </pre></div>
 <p>
         </p>
 <p>
@@ -219,6 +209,135 @@
 <td>A string representing the critical action configured and available.</td>
 </tr></tbody>
 </table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.8.11"></a><h3>
+<a name="UPower.AboutToSleep"></a>AboutToSleep ()</h3>
+<pre class="programlisting">AboutToSleep (in's'action)</pre>
+</div>
+<p>
+            This method tells UPower that the Suspend() or Hibernate() method
+            is about to be called.
+            This allows UPower to emit the Suspending signal whilst
+            session activities are happening that have to be done before the
+            suspend process is started.
+          </p>
+<p>
+            This method would typically be called by the session power
+            management daemon, before it locks the screen and waits for the
+            screen to fade to black.
+            The session power management component would then call Suspend() or
+            Hibernate() when these syncronous tasks have completed.
+          </p>
+<p>
+            If this method is not called than nothing bad will happen and
+            Suspend() or Hibernate() will block for the required second.
+          </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody><tr>
+<td><p><span class="term"><em class="parameter"><code>action</code></em>:</span></p></td>
+<td>
+            The sleep action type, e.g. <code class="literal">suspend</code> or
+            <code class="literal">hibernate</code>.
+          </td>
+</tr></tbody>
+</table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.8.16"></a><h3>
+<a name="UPower.Suspend"></a>Suspend ()</h3>
+<pre class="programlisting">Suspend ()</pre>
+</div>
+<p>
+            Suspends the computer into a low power state.
+            System state is not preserved if the power is lost.
+          </p>
+<p>
+            If AboutToSleep() has not been called then UPower will send
+            the Sleeping() signal and block for one second.
+          </p>
+<p>
+            If AboutToSleep() has been called less than one second
+            before this method is called then UPower will block for the
+            remaining time to complete one second of delay.
+          </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody></tbody>
+</table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.8.21"></a><h3>
+<a name="UPower.SuspendAllowed"></a>SuspendAllowed ()</h3>
+<pre class="programlisting">SuspendAllowed (out'b'allowed)</pre>
+</div>
+<p>
+            Check if the caller has (or can get) the PolicyKit privilege to call
+            <code class="function">Suspend</code>.
+          </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody><tr>
+<td><p><span class="term"><em class="parameter"><code>allowed</code></em>:</span></p></td>
+<td>TRUE if allowed, otherwise FALSE</td>
+</tr></tbody>
+</table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.8.24"></a><h3>
+<a name="UPower.Hibernate"></a>Hibernate ()</h3>
+<pre class="programlisting">Hibernate ()</pre>
+</div>
+<p>
+            Hibernates the computer into a low power state.
+            System state is preserved if the power is lost.
+          </p>
+<p>
+            If AboutToSleep() has not been called then UPower will send
+            the Sleeping() signal and block for one second.
+          </p>
+<p>
+            If AboutToSleep() has been called less than one second
+            before this method is called then UPower will block for the
+            remaining time to complete one second of delay.
+          </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody></tbody>
+</table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.8.29"></a><h3>
+<a name="UPower.HibernateAllowed"></a>HibernateAllowed ()</h3>
+<pre class="programlisting">HibernateAllowed (out'b'allowed)</pre>
+</div>
+<p>
+            Check if the caller has (or can get) the PolicyKit privilege to call
+            <code class="function">Hibernate</code>.
+          </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody><tr>
+<td><p><span class="term"><em class="parameter"><code>allowed</code></em>:</span></p></td>
+<td>TRUE if allowed, otherwise FALSE</td>
+</tr></tbody>
+</table></div>
 </div>
 <div class="refsect1">
 <a name="id-1.2.3.9"></a><h2>Signal Details</h2>
@@ -259,6 +378,97 @@
 <td>Object path of device that was removed.</td>
 </tr></tbody>
 </table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.9.8"></a><h3>
+<a name="UPower::Sleeping"></a>The Sleeping signal</h3>
+<pre class="programlisting">Sleeping ()</pre>
+</div>
+<p>
+            This signal is sent when the session is about to be suspended or
+            hibernated.
+          </p>
+<p>
+            This signal is DEPRECATED. Use NotifySleep() instead.
+          </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody></tbody>
+</table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.9.12"></a><h3>
+<a name="UPower::NotifySleep"></a>The NotifySleep signal</h3>
+<pre class="programlisting">NotifySleep ('s'action)</pre>
+</div>
+<p>
+            This signal is sent when the session is about to be suspended or
+            hibernated.
+            Session and system programs have one second to do anything required
+            before the sleep action is taken (such as sending out Avahi or
+            Jabber messages).
+          </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody><tr>
+<td><p><span class="term"><em class="parameter"><code>action</code></em>:</span></p></td>
+<td>
+            The sleep action type, e.g. suspend,
+            hibernate or hybrid.
+          </td>
+</tr></tbody>
+</table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.9.15"></a><h3>
+<a name="UPower::Resuming"></a>The Resuming signal</h3>
+<pre class="programlisting">Resuming ()</pre>
+</div>
+<p>
+            This signal is sent when the session has just returned from
+            Suspend() or Hibernate().
+          </p>
+<p>
+            This signal is DEPRECATED. Use NotifyResume() instead.
+          </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody></tbody>
+</table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.9.19"></a><h3>
+<a name="UPower::NotifyResume"></a>The NotifyResume signal</h3>
+<pre class="programlisting">NotifyResume ('s'action)</pre>
+</div>
+<p>
+            This signal is sent when the session has just returned from
+            Suspend() or Hibernate().
+            Session and system programs can then do anything required (such as
+            sending out Avahi or Jabber messages).
+          </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody><tr>
+<td><p><span class="term"><em class="parameter"><code>action</code></em>:</span></p></td>
+<td>
+            The sleep action type, e.g. suspend,
+            hibernate or hybrid.
+          </td>
+</tr></tbody>
+</table></div>
 </div>
 <div class="refsect1">
 <a name="id-1.2.3.10"></a><h2>Property Details</h2>
@@ -281,6 +491,40 @@
 <hr>
 <div class="refsect2">
 <a name="id-1.2.3.10.5"></a><h3>
+<a name="UPower:CanSuspend"></a>The "CanSuspend" property</h3>
+<pre class="programlisting">'CanSuspend'read'b'
+</pre>
+</div>
+<p>
+            Whether the system is able to suspend.
+      </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody></tbody>
+</table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.10.8"></a><h3>
+<a name="UPower:CanHibernate"></a>The "CanHibernate" property</h3>
+<pre class="programlisting">'CanHibernate'read'b'
+</pre>
+</div>
+<p>
+            Whether the system is able to hibernate.
+      </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody></tbody>
+</table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.10.11"></a><h3>
 <a name="UPower:OnBattery"></a>The "OnBattery" property</h3>
 <pre class="programlisting">'OnBattery'read'b'
 </pre>
@@ -298,7 +542,7 @@
 </table></div>
 <hr>
 <div class="refsect2">
-<a name="id-1.2.3.10.8"></a><h3>
+<a name="id-1.2.3.10.14"></a><h3>
 <a name="UPower:LidIsClosed"></a>The "LidIsClosed" property</h3>
 <pre class="programlisting">'LidIsClosed'read'b'
 </pre>
@@ -315,7 +559,7 @@
 </table></div>
 <hr>
 <div class="refsect2">
-<a name="id-1.2.3.10.11"></a><h3>
+<a name="id-1.2.3.10.17"></a><h3>
 <a name="UPower:LidIsPresent"></a>The "LidIsPresent" property</h3>
 <pre class="programlisting">'LidIsPresent'read'b'
 </pre>
@@ -332,7 +576,32 @@
 </table></div>
 <hr>
 <div class="refsect2">
-<a name="id-1.2.3.10.14"></a><h3>
+<a name="id-1.2.3.10.20"></a><h3>
+<a name="UPower:LidForceSleep"></a>The "LidForceSleep" property</h3>
+<pre class="programlisting">'LidForceSleep'read'b'
+</pre>
+</div>
+<p>
+            If the system really has to sleep when the lid is closed.
+            Some laptops actually melt (!) if the lid is closed and the
+            computer keeps running. We blacklist those, and do something
+            sane for the other machines.
+          </p>
+<p>
+            This allows us to set the default session policy to not
+            suspend on lid close if the laptop is docked, and be sure
+            the machine is not going to melt.
+          </p>
+<div class="variablelist"><table border="0" class="variablelist">
+<colgroup>
+<col align="left" valign="top">
+<col>
+</colgroup>
+<tbody></tbody>
+</table></div>
+<hr>
+<div class="refsect2">
+<a name="id-1.2.3.10.24"></a><h3>
 <a name="UPower:IsDocked"></a>The "IsDocked" property</h3>
 <pre class="programlisting">'IsDocked'read'b'
 </pre>
@@ -353,6 +622,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/annotation-glossary.html upower-0.99.0-patched-pretty/doc/html/annotation-glossary.html
--- upower-0.99.0/doc/html/annotation-glossary.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/annotation-glossary.html	2014-07-13 21:34:35.181231625 -0400
@@ -3,29 +3,25 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: Annotation Glossary</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="index.html" title="UPower Reference Manual">
 <link rel="prev" href="ix01.html" title="Index">
 <link rel="next" href="license.html" title="Appendix A. License">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left">
-<a class="shortcut" href="#glsT">T</a>
-                     | 
-                  <a class="shortcut" href="#glsS">S</a>
-                     | 
-                  <a class="shortcut" href="#glsO">O</a>
-                     | 
-                  <a class="shortcut" href="#glsA">A</a>
-                     | 
-                  <a class="shortcut" href="#glsT">T</a>
-                     | 
+<td width="100%" align="left" class="shortcuts"><span id="nav_glossary"><a class="shortcut" href="#glsA">A</a>
+                     <span class="dim">|</span> 
                   <a class="shortcut" href="#glsE">E</a>
-</td>
+                     <span class="dim">|</span> 
+                  <a class="shortcut" href="#glsO">O</a>
+                     <span class="dim">|</span> 
+                  <a class="shortcut" href="#glsS">S</a>
+                     <span class="dim">|</span> 
+                  <a class="shortcut" href="#glsT">T</a></span></td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><img src="up-insensitive.png" width="16" height="16" border="0"></td>
 <td><a accesskey="p" href="ix01.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
@@ -34,29 +30,35 @@
 <div class="glossary">
 <div class="titlepage"><div><div><h1 class="title">
 <a name="annotation-glossary"></a>Annotation Glossary</h1></div></div></div>
-<a name="glsT"></a><h3 class="title">T</h3>
-<dt><span class="glossterm"><a name="annotation-glossterm-type"></a>type</span></dt>
-<dd class="glossdef"><p>Override the parsed C type with given type.</p></dd>
-<a name="glsS"></a><h3 class="title">S</h3>
-<dt><span class="glossterm"><a name="annotation-glossterm-skip"></a>skip</span></dt>
-<dd class="glossdef"><p>Exposed in C code, not necessarily available in other languages.</p></dd>
-<a name="glsO"></a><h3 class="title">O</h3>
-<dt><span class="glossterm"><a name="annotation-glossterm-out"></a>out</span></dt>
-<dd class="glossdef"><p>Parameter for returning results. Default is <acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>.</p></dd>
 <a name="glsA"></a><h3 class="title">A</h3>
-<dt><span class="glossterm"><a name="annotation-glossterm-allow-none"></a>allow-none</span></dt>
-<dd class="glossdef"><p>NULL is ok, both for passing and for returning.</p></dd>
-<a name="glsT"></a><h3 class="title">T</h3>
-<dt><span class="glossterm"><a name="annotation-glossterm-transfer%20none"></a>transfer none</span></dt>
-<dd class="glossdef"><p>Don't free data after the code is done.</p></dd>
-<dt><span class="glossterm"><a name="annotation-glossterm-transfer%20full"></a>transfer full</span></dt>
-<dd class="glossdef"><p>Free data after the code is done.</p></dd>
+<dt>
+<a name="annotation-glossterm-allow-none"></a>allow-none</dt>
+<dd><p>NULL is ok, both for passing and for returning.</p></dd>
 <a name="glsE"></a><h3 class="title">E</h3>
-<dt><span class="glossterm"><a name="annotation-glossterm-element-type"></a>element-type</span></dt>
-<dd class="glossdef"><p>Generics and defining elements of containers and arrays.</p></dd>
+<dt>
+<a name="annotation-glossterm-element-type"></a>element-type</dt>
+<dd><p>Generics and defining elements of containers and arrays.</p></dd>
+<a name="glsO"></a><h3 class="title">O</h3>
+<dt>
+<a name="annotation-glossterm-out"></a>out</dt>
+<dd><p>Parameter for returning results. Default is <acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>.</p></dd>
+<a name="glsS"></a><h3 class="title">S</h3>
+<dt>
+<a name="annotation-glossterm-skip"></a>skip</dt>
+<dd><p>Exposed in C code, not necessarily available in other languages.</p></dd>
+<a name="glsT"></a><h3 class="title">T</h3>
+<dt>
+<a name="annotation-glossterm-transfer%20full"></a>transfer full</dt>
+<dd><p>Free data after the code is done.</p></dd>
+<dt>
+<a name="annotation-glossterm-transfer%20none"></a>transfer none</dt>
+<dd><p>Don't free data after the code is done.</p></dd>
+<dt>
+<a name="annotation-glossterm-type"></a>type</dt>
+<dd><p>Override the parsed C type with given type.</p></dd>
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/index.html upower-0.99.0-patched-pretty/doc/html/index.html
--- upower-0.99.0/doc/html/index.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/index.html	2014-07-13 21:34:35.182231624 -0400
@@ -3,10 +3,10 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: UPower Reference Manual</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="next" href="ref-dbus.html" title="D-Bus API Reference">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
@@ -112,6 +112,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/index.sgml upower-0.99.0-patched-pretty/doc/html/index.sgml
--- upower-0.99.0/doc/html/index.sgml	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/index.sgml	2014-07-13 21:34:35.183231624 -0400
@@ -2,12 +2,24 @@
 <ANCHOR id="UPower.EnumerateDevices" href="UPower/UPower.html#UPower.EnumerateDevices">
 <ANCHOR id="UPower.GetDisplayDevice" href="UPower/UPower.html#UPower.GetDisplayDevice">
 <ANCHOR id="UPower.GetCriticalAction" href="UPower/UPower.html#UPower.GetCriticalAction">
+<ANCHOR id="UPower.AboutToSleep" href="UPower/UPower.html#UPower.AboutToSleep">
+<ANCHOR id="UPower.Suspend" href="UPower/UPower.html#UPower.Suspend">
+<ANCHOR id="UPower.SuspendAllowed" href="UPower/UPower.html#UPower.SuspendAllowed">
+<ANCHOR id="UPower.Hibernate" href="UPower/UPower.html#UPower.Hibernate">
+<ANCHOR id="UPower.HibernateAllowed" href="UPower/UPower.html#UPower.HibernateAllowed">
 <ANCHOR id="UPower::DeviceAdded" href="UPower/UPower.html#UPower::DeviceAdded">
 <ANCHOR id="UPower::DeviceRemoved" href="UPower/UPower.html#UPower::DeviceRemoved">
+<ANCHOR id="UPower::Sleeping" href="UPower/UPower.html#UPower::Sleeping">
+<ANCHOR id="UPower::NotifySleep" href="UPower/UPower.html#UPower::NotifySleep">
+<ANCHOR id="UPower::Resuming" href="UPower/UPower.html#UPower::Resuming">
+<ANCHOR id="UPower::NotifyResume" href="UPower/UPower.html#UPower::NotifyResume">
 <ANCHOR id="UPower:DaemonVersion" href="UPower/UPower.html#UPower:DaemonVersion">
+<ANCHOR id="UPower:CanSuspend" href="UPower/UPower.html#UPower:CanSuspend">
+<ANCHOR id="UPower:CanHibernate" href="UPower/UPower.html#UPower:CanHibernate">
 <ANCHOR id="UPower:OnBattery" href="UPower/UPower.html#UPower:OnBattery">
 <ANCHOR id="UPower:LidIsClosed" href="UPower/UPower.html#UPower:LidIsClosed">
 <ANCHOR id="UPower:LidIsPresent" href="UPower/UPower.html#UPower:LidIsPresent">
+<ANCHOR id="UPower:LidForceSleep" href="UPower/UPower.html#UPower:LidForceSleep">
 <ANCHOR id="UPower:IsDocked" href="UPower/UPower.html#UPower:IsDocked">
 <ANCHOR id="Device" href="UPower/Device.html">
 <ANCHOR id="Device.Refresh" href="UPower/Device.html#Device.Refresh">
@@ -47,13 +59,15 @@
 <ANCHOR id="KbdBacklight.SetBrightness" href="UPower/KbdBacklight.html#KbdBacklight.SetBrightness">
 <ANCHOR id="KbdBacklight::BrightnessChanged" href="UPower/KbdBacklight.html#KbdBacklight::BrightnessChanged">
 <ANCHOR id="UPower-up-client" href="UPower/UPower-up-client.html">
-<ANCHOR id="UPower-up-client.synopsis" href="UPower/UPower-up-client.html#UPower-up-client.synopsis">
+<ANCHOR id="UPower-up-client.functions" href="UPower/UPower-up-client.html#UPower-up-client.functions">
+<ANCHOR id="UPower-up-client.other" href="UPower/UPower-up-client.html#UPower-up-client.other">
+<ANCHOR id="UPower-up-client.object-hierarchy" href="UPower/UPower-up-client.html#UPower-up-client.object-hierarchy">
 <ANCHOR id="UPower-up-client.description" href="UPower/UPower-up-client.html#UPower-up-client.description">
-<ANCHOR id="UPower-up-client.details" href="UPower/UPower-up-client.html#UPower-up-client.details">
-<ANCHOR id="UP-CLIENT-ERROR:CAPS" href="UPower/UPower-up-client.html#UP-CLIENT-ERROR:CAPS">
-<ANCHOR id="UP-CLIENT-TYPE-ERROR:CAPS" href="UPower/UPower-up-client.html#UP-CLIENT-TYPE-ERROR:CAPS">
+<ANCHOR id="UPower-up-client.functions_details" href="UPower/UPower-up-client.html#UPower-up-client.functions_details">
 <ANCHOR id="device-added" href="UPower/UPower-up-client.html#device-added">
 <ANCHOR id="device-removed" href="UPower/UPower-up-client.html#device-removed">
+<ANCHOR id="notify-sleep" href="UPower/UPower-up-client.html#notify-sleep">
+<ANCHOR id="notify-resume" href="UPower/UPower-up-client.html#notify-resume">
 <ANCHOR id="up-client-reserved1" href="UPower/UPower-up-client.html#up-client-reserved1">
 <ANCHOR id="up-client-reserved2" href="UPower/UPower-up-client.html#up-client-reserved2">
 <ANCHOR id="up-client-reserved3" href="UPower/UPower-up-client.html#up-client-reserved3">
@@ -65,18 +79,28 @@
 <ANCHOR id="up-client-new" href="UPower/UPower-up-client.html#up-client-new">
 <ANCHOR id="up-client-get-display-device" href="UPower/UPower-up-client.html#up-client-get-display-device">
 <ANCHOR id="up-client-get-critical-action" href="UPower/UPower-up-client.html#up-client-get-critical-action">
+<ANCHOR id="up-client-get-properties-sync" href="UPower/UPower-up-client.html#up-client-get-properties-sync">
+<ANCHOR id="up-client-suspend-sync" href="UPower/UPower-up-client.html#up-client-suspend-sync">
+<ANCHOR id="up-client-about-to-sleep-sync" href="UPower/UPower-up-client.html#up-client-about-to-sleep-sync">
+<ANCHOR id="up-client-hibernate-sync" href="UPower/UPower-up-client.html#up-client-hibernate-sync">
 <ANCHOR id="up-client-get-devices" href="UPower/UPower-up-client.html#up-client-get-devices">
 <ANCHOR id="up-client-get-daemon-version" href="UPower/UPower-up-client.html#up-client-get-daemon-version">
+<ANCHOR id="up-client-get-can-hibernate" href="UPower/UPower-up-client.html#up-client-get-can-hibernate">
 <ANCHOR id="up-client-get-lid-is-closed" href="UPower/UPower-up-client.html#up-client-get-lid-is-closed">
 <ANCHOR id="up-client-get-lid-is-present" href="UPower/UPower-up-client.html#up-client-get-lid-is-present">
+<ANCHOR id="up-client-get-lid-force-sleep" href="UPower/UPower-up-client.html#up-client-get-lid-force-sleep">
 <ANCHOR id="up-client-get-is-docked" href="UPower/UPower-up-client.html#up-client-get-is-docked">
+<ANCHOR id="up-client-get-can-suspend" href="UPower/UPower-up-client.html#up-client-get-can-suspend">
 <ANCHOR id="up-client-get-on-battery" href="UPower/UPower-up-client.html#up-client-get-on-battery">
+<ANCHOR id="UPower-up-client.other_details" href="UPower/UPower-up-client.html#UPower-up-client.other_details">
+<ANCHOR id="UP-CLIENT-ERROR:CAPS" href="UPower/UPower-up-client.html#UP-CLIENT-ERROR:CAPS">
+<ANCHOR id="UP-CLIENT-TYPE-ERROR:CAPS" href="UPower/UPower-up-client.html#UP-CLIENT-TYPE-ERROR:CAPS">
 <ANCHOR id="UPower-up-device" href="UPower/UPower-up-device.html">
-<ANCHOR id="UPower-up-device.synopsis" href="UPower/UPower-up-device.html#UPower-up-device.synopsis">
+<ANCHOR id="UPower-up-device.functions" href="UPower/UPower-up-device.html#UPower-up-device.functions">
+<ANCHOR id="UPower-up-device.other" href="UPower/UPower-up-device.html#UPower-up-device.other">
+<ANCHOR id="UPower-up-device.object-hierarchy" href="UPower/UPower-up-device.html#UPower-up-device.object-hierarchy">
 <ANCHOR id="UPower-up-device.description" href="UPower/UPower-up-device.html#UPower-up-device.description">
-<ANCHOR id="UPower-up-device.details" href="UPower/UPower-up-device.html#UPower-up-device.details">
-<ANCHOR id="UP-DEVICE-ERROR:CAPS" href="UPower/UPower-up-device.html#UP-DEVICE-ERROR:CAPS">
-<ANCHOR id="UP-DEVICE-TYPE-ERROR:CAPS" href="UPower/UPower-up-device.html#UP-DEVICE-TYPE-ERROR:CAPS">
+<ANCHOR id="UPower-up-device.functions_details" href="UPower/UPower-up-device.html#UPower-up-device.functions_details">
 <ANCHOR id="up-device-reserved1" href="UPower/UPower-up-device.html#up-device-reserved1">
 <ANCHOR id="up-device-reserved2" href="UPower/UPower-up-device.html#up-device-reserved2">
 <ANCHOR id="up-device-reserved3" href="UPower/UPower-up-device.html#up-device-reserved3">
@@ -92,10 +116,14 @@
 <ANCHOR id="up-device-get-history-sync" href="UPower/UPower-up-device.html#up-device-get-history-sync">
 <ANCHOR id="up-device-get-statistics-sync" href="UPower/UPower-up-device.html#up-device-get-statistics-sync">
 <ANCHOR id="up-device-get-object-path" href="UPower/UPower-up-device.html#up-device-get-object-path">
+<ANCHOR id="UPower-up-device.other_details" href="UPower/UPower-up-device.html#UPower-up-device.other_details">
+<ANCHOR id="UP-DEVICE-ERROR:CAPS" href="UPower/UPower-up-device.html#UP-DEVICE-ERROR:CAPS">
+<ANCHOR id="UP-DEVICE-TYPE-ERROR:CAPS" href="UPower/UPower-up-device.html#UP-DEVICE-TYPE-ERROR:CAPS">
 <ANCHOR id="UPower-up-history-item" href="UPower/UPower-up-history-item.html">
-<ANCHOR id="UPower-up-history-item.synopsis" href="UPower/UPower-up-history-item.html#UPower-up-history-item.synopsis">
+<ANCHOR id="UPower-up-history-item.functions" href="UPower/UPower-up-history-item.html#UPower-up-history-item.functions">
+<ANCHOR id="UPower-up-history-item.object-hierarchy" href="UPower/UPower-up-history-item.html#UPower-up-history-item.object-hierarchy">
 <ANCHOR id="UPower-up-history-item.description" href="UPower/UPower-up-history-item.html#UPower-up-history-item.description">
-<ANCHOR id="UPower-up-history-item.details" href="UPower/UPower-up-history-item.html#UPower-up-history-item.details">
+<ANCHOR id="UPower-up-history-item.functions_details" href="UPower/UPower-up-history-item.html#UPower-up-history-item.functions_details">
 <ANCHOR id="up-history-item-new" href="UPower/UPower-up-history-item.html#up-history-item-new">
 <ANCHOR id="up-history-item-get-value" href="UPower/UPower-up-history-item.html#up-history-item-get-value">
 <ANCHOR id="up-history-item-set-value" href="UPower/UPower-up-history-item.html#up-history-item-set-value">
@@ -106,19 +134,23 @@
 <ANCHOR id="up-history-item-set-state" href="UPower/UPower-up-history-item.html#up-history-item-set-state">
 <ANCHOR id="up-history-item-to-string" href="UPower/UPower-up-history-item.html#up-history-item-to-string">
 <ANCHOR id="up-history-item-set-from-string" href="UPower/UPower-up-history-item.html#up-history-item-set-from-string">
+<ANCHOR id="UPower-up-history-item.other_details" href="UPower/UPower-up-history-item.html#UPower-up-history-item.other_details">
 <ANCHOR id="UPower-up-stats-item" href="UPower/UPower-up-stats-item.html">
-<ANCHOR id="UPower-up-stats-item.synopsis" href="UPower/UPower-up-stats-item.html#UPower-up-stats-item.synopsis">
+<ANCHOR id="UPower-up-stats-item.functions" href="UPower/UPower-up-stats-item.html#UPower-up-stats-item.functions">
+<ANCHOR id="UPower-up-stats-item.object-hierarchy" href="UPower/UPower-up-stats-item.html#UPower-up-stats-item.object-hierarchy">
 <ANCHOR id="UPower-up-stats-item.description" href="UPower/UPower-up-stats-item.html#UPower-up-stats-item.description">
-<ANCHOR id="UPower-up-stats-item.details" href="UPower/UPower-up-stats-item.html#UPower-up-stats-item.details">
+<ANCHOR id="UPower-up-stats-item.functions_details" href="UPower/UPower-up-stats-item.html#UPower-up-stats-item.functions_details">
 <ANCHOR id="up-stats-item-new" href="UPower/UPower-up-stats-item.html#up-stats-item-new">
 <ANCHOR id="up-stats-item-get-value" href="UPower/UPower-up-stats-item.html#up-stats-item-get-value">
 <ANCHOR id="up-stats-item-set-value" href="UPower/UPower-up-stats-item.html#up-stats-item-set-value">
 <ANCHOR id="up-stats-item-get-accuracy" href="UPower/UPower-up-stats-item.html#up-stats-item-get-accuracy">
 <ANCHOR id="up-stats-item-set-accuracy" href="UPower/UPower-up-stats-item.html#up-stats-item-set-accuracy">
+<ANCHOR id="UPower-up-stats-item.other_details" href="UPower/UPower-up-stats-item.html#UPower-up-stats-item.other_details">
 <ANCHOR id="UPower-up-wakeup-item" href="UPower/UPower-up-wakeup-item.html">
-<ANCHOR id="UPower-up-wakeup-item.synopsis" href="UPower/UPower-up-wakeup-item.html#UPower-up-wakeup-item.synopsis">
+<ANCHOR id="UPower-up-wakeup-item.functions" href="UPower/UPower-up-wakeup-item.html#UPower-up-wakeup-item.functions">
+<ANCHOR id="UPower-up-wakeup-item.object-hierarchy" href="UPower/UPower-up-wakeup-item.html#UPower-up-wakeup-item.object-hierarchy">
 <ANCHOR id="UPower-up-wakeup-item.description" href="UPower/UPower-up-wakeup-item.html#UPower-up-wakeup-item.description">
-<ANCHOR id="UPower-up-wakeup-item.details" href="UPower/UPower-up-wakeup-item.html#UPower-up-wakeup-item.details">
+<ANCHOR id="UPower-up-wakeup-item.functions_details" href="UPower/UPower-up-wakeup-item.html#UPower-up-wakeup-item.functions_details">
 <ANCHOR id="up-wakeup-item-new" href="UPower/UPower-up-wakeup-item.html#up-wakeup-item-new">
 <ANCHOR id="up-wakeup-item-get-is-userspace" href="UPower/UPower-up-wakeup-item.html#up-wakeup-item-get-is-userspace">
 <ANCHOR id="up-wakeup-item-set-is-userspace" href="UPower/UPower-up-wakeup-item.html#up-wakeup-item-set-is-userspace">
@@ -132,50 +164,13 @@
 <ANCHOR id="up-wakeup-item-set-cmdline" href="UPower/UPower-up-wakeup-item.html#up-wakeup-item-set-cmdline">
 <ANCHOR id="up-wakeup-item-get-details" href="UPower/UPower-up-wakeup-item.html#up-wakeup-item-get-details">
 <ANCHOR id="up-wakeup-item-set-details" href="UPower/UPower-up-wakeup-item.html#up-wakeup-item-set-details">
+<ANCHOR id="UPower-up-wakeup-item.other_details" href="UPower/UPower-up-wakeup-item.html#UPower-up-wakeup-item.other_details">
 <ANCHOR id="UPower-up-types" href="UPower/UPower-up-types.html">
-<ANCHOR id="UPower-up-types.synopsis" href="UPower/UPower-up-types.html#UPower-up-types.synopsis">
+<ANCHOR id="UPower-up-types.functions" href="UPower/UPower-up-types.html#UPower-up-types.functions">
+<ANCHOR id="UPower-up-types.other" href="UPower/UPower-up-types.html#UPower-up-types.other">
+<ANCHOR id="UPower-up-types.object-hierarchy" href="UPower/UPower-up-types.html#UPower-up-types.object-hierarchy">
 <ANCHOR id="UPower-up-types.description" href="UPower/UPower-up-types.html#UPower-up-types.description">
-<ANCHOR id="UPower-up-types.details" href="UPower/UPower-up-types.html#UPower-up-types.details">
-<ANCHOR id="UpDeviceKind" href="UPower/UPower-up-types.html#UpDeviceKind">
-<ANCHOR id="UP-DEVICE-KIND-UNKNOWN:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-UNKNOWN:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-LINE-POWER:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-LINE-POWER:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-BATTERY:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-BATTERY:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-UPS:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-UPS:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-MONITOR:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-MONITOR:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-MOUSE:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-MOUSE:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-KEYBOARD:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-KEYBOARD:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-PDA:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-PDA:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-PHONE:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-PHONE:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-MEDIA-PLAYER:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-MEDIA-PLAYER:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-TABLET:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-TABLET:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-COMPUTER:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-COMPUTER:CAPS">
-<ANCHOR id="UP-DEVICE-KIND-LAST:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-KIND-LAST:CAPS">
-<ANCHOR id="UpDeviceState" href="UPower/UPower-up-types.html#UpDeviceState">
-<ANCHOR id="UP-DEVICE-STATE-UNKNOWN:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-STATE-UNKNOWN:CAPS">
-<ANCHOR id="UP-DEVICE-STATE-CHARGING:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-STATE-CHARGING:CAPS">
-<ANCHOR id="UP-DEVICE-STATE-DISCHARGING:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-STATE-DISCHARGING:CAPS">
-<ANCHOR id="UP-DEVICE-STATE-EMPTY:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-STATE-EMPTY:CAPS">
-<ANCHOR id="UP-DEVICE-STATE-FULLY-CHARGED:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-STATE-FULLY-CHARGED:CAPS">
-<ANCHOR id="UP-DEVICE-STATE-PENDING-CHARGE:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-STATE-PENDING-CHARGE:CAPS">
-<ANCHOR id="UP-DEVICE-STATE-PENDING-DISCHARGE:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-STATE-PENDING-DISCHARGE:CAPS">
-<ANCHOR id="UP-DEVICE-STATE-LAST:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-STATE-LAST:CAPS">
-<ANCHOR id="UpDeviceTechnology" href="UPower/UPower-up-types.html#UpDeviceTechnology">
-<ANCHOR id="UP-DEVICE-TECHNOLOGY-UNKNOWN:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-TECHNOLOGY-UNKNOWN:CAPS">
-<ANCHOR id="UP-DEVICE-TECHNOLOGY-LITHIUM-ION:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-TECHNOLOGY-LITHIUM-ION:CAPS">
-<ANCHOR id="UP-DEVICE-TECHNOLOGY-LITHIUM-POLYMER:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-TECHNOLOGY-LITHIUM-POLYMER:CAPS">
-<ANCHOR id="UP-DEVICE-TECHNOLOGY-LITHIUM-IRON-PHOSPHATE:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-TECHNOLOGY-LITHIUM-IRON-PHOSPHATE:CAPS">
-<ANCHOR id="UP-DEVICE-TECHNOLOGY-LEAD-ACID:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-TECHNOLOGY-LEAD-ACID:CAPS">
-<ANCHOR id="UP-DEVICE-TECHNOLOGY-NICKEL-CADMIUM:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-TECHNOLOGY-NICKEL-CADMIUM:CAPS">
-<ANCHOR id="UP-DEVICE-TECHNOLOGY-NICKEL-METAL-HYDRIDE:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-TECHNOLOGY-NICKEL-METAL-HYDRIDE:CAPS">
-<ANCHOR id="UP-DEVICE-TECHNOLOGY-LAST:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-TECHNOLOGY-LAST:CAPS">
-<ANCHOR id="UpDeviceLevel" href="UPower/UPower-up-types.html#UpDeviceLevel">
-<ANCHOR id="UP-DEVICE-LEVEL-UNKNOWN:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-LEVEL-UNKNOWN:CAPS">
-<ANCHOR id="UP-DEVICE-LEVEL-NONE:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-LEVEL-NONE:CAPS">
-<ANCHOR id="UP-DEVICE-LEVEL-DISCHARGING:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-LEVEL-DISCHARGING:CAPS">
-<ANCHOR id="UP-DEVICE-LEVEL-LOW:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-LEVEL-LOW:CAPS">
-<ANCHOR id="UP-DEVICE-LEVEL-CRITICAL:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-LEVEL-CRITICAL:CAPS">
-<ANCHOR id="UP-DEVICE-LEVEL-ACTION:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-LEVEL-ACTION:CAPS">
-<ANCHOR id="UP-DEVICE-LEVEL-LAST:CAPS" href="UPower/UPower-up-types.html#UP-DEVICE-LEVEL-LAST:CAPS">
+<ANCHOR id="UPower-up-types.functions_details" href="UPower/UPower-up-types.html#UPower-up-types.functions_details">
 <ANCHOR id="up-device-kind-to-string" href="UPower/UPower-up-types.html#up-device-kind-to-string">
 <ANCHOR id="up-device-state-to-string" href="UPower/UPower-up-types.html#up-device-state-to-string">
 <ANCHOR id="up-device-technology-to-string" href="UPower/UPower-up-types.html#up-device-technology-to-string">
@@ -184,13 +179,21 @@
 <ANCHOR id="up-device-state-from-string" href="UPower/UPower-up-types.html#up-device-state-from-string">
 <ANCHOR id="up-device-technology-from-string" href="UPower/UPower-up-types.html#up-device-technology-from-string">
 <ANCHOR id="up-device-level-from-string" href="UPower/UPower-up-types.html#up-device-level-from-string">
+<ANCHOR id="up-sleep-kind-to-string" href="UPower/UPower-up-types.html#up-sleep-kind-to-string">
+<ANCHOR id="up-sleep-kind-from-string" href="UPower/UPower-up-types.html#up-sleep-kind-from-string">
+<ANCHOR id="UPower-up-types.other_details" href="UPower/UPower-up-types.html#UPower-up-types.other_details">
+<ANCHOR id="UpDeviceKind" href="UPower/UPower-up-types.html#UpDeviceKind">
+<ANCHOR id="UpDeviceState" href="UPower/UPower-up-types.html#UpDeviceState">
+<ANCHOR id="UpDeviceTechnology" href="UPower/UPower-up-types.html#UpDeviceTechnology">
+<ANCHOR id="UpDeviceLevel" href="UPower/UPower-up-types.html#UpDeviceLevel">
+<ANCHOR id="UpSleepKind" href="UPower/UPower-up-types.html#UpSleepKind">
 <ANCHOR id="UPower.7" href="UPower/UPower.7.html">
 <ANCHOR id="upowerd.8" href="UPower/upowerd.8.html">
 <ANCHOR id="upower.1" href="UPower/upower.1.html">
-<ANCHOR id="annotation-glossterm-type" href="UPower/annotation-glossary.html#annotation-glossterm-type">
-<ANCHOR id="annotation-glossterm-skip" href="UPower/annotation-glossary.html#annotation-glossterm-skip">
-<ANCHOR id="annotation-glossterm-out" href="UPower/annotation-glossary.html#annotation-glossterm-out">
 <ANCHOR id="annotation-glossterm-allow-none" href="UPower/annotation-glossary.html#annotation-glossterm-allow-none">
-<ANCHOR id="annotation-glossterm-transfer none" href="UPower/annotation-glossary.html#annotation-glossterm-transfer none">
-<ANCHOR id="annotation-glossterm-transfer full" href="UPower/annotation-glossary.html#annotation-glossterm-transfer full">
 <ANCHOR id="annotation-glossterm-element-type" href="UPower/annotation-glossary.html#annotation-glossterm-element-type">
+<ANCHOR id="annotation-glossterm-out" href="UPower/annotation-glossary.html#annotation-glossterm-out">
+<ANCHOR id="annotation-glossterm-skip" href="UPower/annotation-glossary.html#annotation-glossterm-skip">
+<ANCHOR id="annotation-glossterm-transfer full" href="UPower/annotation-glossary.html#annotation-glossterm-transfer full">
+<ANCHOR id="annotation-glossterm-transfer none" href="UPower/annotation-glossary.html#annotation-glossterm-transfer none">
+<ANCHOR id="annotation-glossterm-type" href="UPower/annotation-glossary.html#annotation-glossterm-type">
diff -urN upower-0.99.0/doc/html/ix01.html upower-0.99.0-patched-pretty/doc/html/ix01.html
--- upower-0.99.0/doc/html/ix01.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/ix01.html	2014-07-13 21:34:35.184231624 -0400
@@ -3,17 +3,17 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: Index</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="index.html" title="UPower Reference Manual">
 <link rel="prev" href="upower.1.html" title="upower">
 <link rel="next" href="annotation-glossary.html" title="Annotation Glossary">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left"></td>
+<td width="100%" align="left" class="shortcuts"></td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><img src="up-insensitive.png" width="16" height="16" border="0"></td>
 <td><a accesskey="p" href="upower.1.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
@@ -26,41 +26,49 @@
 <div class="indexdiv">
 <h3>Symbols</h3>
 <dl>
-<dt>_up_client_reserved1, <a class="indexterm" href="UPower-up-client.html#up-client-reserved1">_up_client_reserved1 ()</a>
+<dt>_up_client_reserved1, <a class="indexterm" href="UPower-up-client.html#up-client-reserved1">_up_client_reserved1 ()</a>
 </dt>
-<dt>_up_client_reserved2, <a class="indexterm" href="UPower-up-client.html#up-client-reserved2">_up_client_reserved2 ()</a>
+<dt>_up_client_reserved2, <a class="indexterm" href="UPower-up-client.html#up-client-reserved2">_up_client_reserved2 ()</a>
 </dt>
-<dt>_up_client_reserved3, <a class="indexterm" href="UPower-up-client.html#up-client-reserved3">_up_client_reserved3 ()</a>
+<dt>_up_client_reserved3, <a class="indexterm" href="UPower-up-client.html#up-client-reserved3">_up_client_reserved3 ()</a>
 </dt>
-<dt>_up_client_reserved4, <a class="indexterm" href="UPower-up-client.html#up-client-reserved4">_up_client_reserved4 ()</a>
+<dt>_up_client_reserved4, <a class="indexterm" href="UPower-up-client.html#up-client-reserved4">_up_client_reserved4 ()</a>
 </dt>
-<dt>_up_client_reserved5, <a class="indexterm" href="UPower-up-client.html#up-client-reserved5">_up_client_reserved5 ()</a>
+<dt>_up_client_reserved5, <a class="indexterm" href="UPower-up-client.html#up-client-reserved5">_up_client_reserved5 ()</a>
 </dt>
-<dt>_up_client_reserved6, <a class="indexterm" href="UPower-up-client.html#up-client-reserved6">_up_client_reserved6 ()</a>
+<dt>_up_client_reserved6, <a class="indexterm" href="UPower-up-client.html#up-client-reserved6">_up_client_reserved6 ()</a>
 </dt>
-<dt>_up_client_reserved7, <a class="indexterm" href="UPower-up-client.html#up-client-reserved7">_up_client_reserved7 ()</a>
+<dt>_up_client_reserved7, <a class="indexterm" href="UPower-up-client.html#up-client-reserved7">_up_client_reserved7 ()</a>
 </dt>
-<dt>_up_client_reserved8, <a class="indexterm" href="UPower-up-client.html#up-client-reserved8">_up_client_reserved8 ()</a>
+<dt>_up_client_reserved8, <a class="indexterm" href="UPower-up-client.html#up-client-reserved8">_up_client_reserved8 ()</a>
 </dt>
-<dt>_up_device_reserved1, <a class="indexterm" href="UPower-up-device.html#up-device-reserved1">_up_device_reserved1 ()</a>
+<dt>_up_device_reserved1, <a class="indexterm" href="UPower-up-device.html#up-device-reserved1">_up_device_reserved1 ()</a>
 </dt>
-<dt>_up_device_reserved2, <a class="indexterm" href="UPower-up-device.html#up-device-reserved2">_up_device_reserved2 ()</a>
+<dt>_up_device_reserved2, <a class="indexterm" href="UPower-up-device.html#up-device-reserved2">_up_device_reserved2 ()</a>
 </dt>
-<dt>_up_device_reserved3, <a class="indexterm" href="UPower-up-device.html#up-device-reserved3">_up_device_reserved3 ()</a>
+<dt>_up_device_reserved3, <a class="indexterm" href="UPower-up-device.html#up-device-reserved3">_up_device_reserved3 ()</a>
 </dt>
-<dt>_up_device_reserved4, <a class="indexterm" href="UPower-up-device.html#up-device-reserved4">_up_device_reserved4 ()</a>
+<dt>_up_device_reserved4, <a class="indexterm" href="UPower-up-device.html#up-device-reserved4">_up_device_reserved4 ()</a>
 </dt>
-<dt>_up_device_reserved5, <a class="indexterm" href="UPower-up-device.html#up-device-reserved5">_up_device_reserved5 ()</a>
+<dt>_up_device_reserved5, <a class="indexterm" href="UPower-up-device.html#up-device-reserved5">_up_device_reserved5 ()</a>
 </dt>
-<dt>_up_device_reserved6, <a class="indexterm" href="UPower-up-device.html#up-device-reserved6">_up_device_reserved6 ()</a>
+<dt>_up_device_reserved6, <a class="indexterm" href="UPower-up-device.html#up-device-reserved6">_up_device_reserved6 ()</a>
 </dt>
-<dt>_up_device_reserved7, <a class="indexterm" href="UPower-up-device.html#up-device-reserved7">_up_device_reserved7 ()</a>
+<dt>_up_device_reserved7, <a class="indexterm" href="UPower-up-device.html#up-device-reserved7">_up_device_reserved7 ()</a>
 </dt>
-<dt>_up_device_reserved8, <a class="indexterm" href="UPower-up-device.html#up-device-reserved8">_up_device_reserved8 ()</a>
+<dt>_up_device_reserved8, <a class="indexterm" href="UPower-up-device.html#up-device-reserved8">_up_device_reserved8 ()</a>
 </dt>
 </dl>
 </div>
 <div class="indexdiv">
+<h3>A</h3>
+<dl>
+<dt>AboutToSleep</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.8.11">AboutToSleep ()</a>
+</dt></dl></dd>
+</dl>
+</div>
+<div class="indexdiv">
 <h3>B</h3>
 <dl>
 <dt>BrightnessChanged</dt>
@@ -71,6 +79,12 @@
 <div class="indexdiv">
 <h3>C</h3>
 <dl>
+<dt>CanHibernate</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.10.8">The "CanHibernate" property</a>
+</dt></dl></dd>
+<dt>CanSuspend</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.10.5">The "CanSuspend" property</a>
+</dt></dl></dd>
 <dt>Capacity</dt>
 <dd><dl><dt>Device, <a class="indexterm" href="Device.html#id-1.2.4.8.87">The "Capacity" property</a>
 </dt></dl></dd>
@@ -88,9 +102,9 @@
 <dt>DeviceRemoved</dt>
 <dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.9.5">The DeviceRemoved signal</a>
 </dt></dl></dd>
-<dt>device_added, <a class="indexterm" href="UPower-up-client.html#device-added">device_added ()</a>
+<dt>device_added, <a class="indexterm" href="UPower-up-client.html#device-added">device_added ()</a>
 </dt>
-<dt>device_removed, <a class="indexterm" href="UPower-up-client.html#device-removed">device_removed ()</a>
+<dt>device_removed, <a class="indexterm" href="UPower-up-client.html#device-removed">device_removed ()</a>
 </dt>
 </dl>
 </div>
@@ -149,6 +163,12 @@
 <dt>HasStatistics</dt>
 <dd><dl><dt>Device, <a class="indexterm" href="Device.html#id-1.2.4.8.27">The "HasStatistics" property</a>
 </dt></dl></dd>
+<dt>Hibernate</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.8.24">Hibernate ()</a>
+</dt></dl></dd>
+<dt>HibernateAllowed</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.8.29">HibernateAllowed ()</a>
+</dt></dl></dd>
 </dl>
 </div>
 <div class="indexdiv">
@@ -158,7 +178,7 @@
 <dd><dl><dt>Device, <a class="indexterm" href="Device.html#id-1.2.4.8.100">The "IconName" property</a>
 </dt></dl></dd>
 <dt>IsDocked</dt>
-<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.10.14">The "IsDocked" property</a>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.10.24">The "IsDocked" property</a>
 </dt></dl></dd>
 <dt>IsPresent</dt>
 <dd><dl><dt>Device, <a class="indexterm" href="Device.html#id-1.2.4.8.74">The "IsPresent" property</a>
@@ -171,11 +191,14 @@
 <div class="indexdiv">
 <h3>L</h3>
 <dl>
+<dt>LidForceSleep</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.10.20">The "LidForceSleep" property</a>
+</dt></dl></dd>
 <dt>LidIsClosed</dt>
-<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.10.8">The "LidIsClosed" property</a>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.10.14">The "LidIsClosed" property</a>
 </dt></dl></dd>
 <dt>LidIsPresent</dt>
-<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.10.11">The "LidIsPresent" property</a>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.10.17">The "LidIsPresent" property</a>
 </dt></dl></dd>
 <dt>Luminosity</dt>
 <dd><dl><dt>Device, <a class="indexterm" href="Device.html#id-1.2.4.8.56">The "Luminosity" property</a>
@@ -196,13 +219,23 @@
 <dt>NativePath</dt>
 <dd><dl><dt>Device, <a class="indexterm" href="Device.html#id-1.2.4.8.2">The "NativePath" property</a>
 </dt></dl></dd>
+<dt>NotifyResume</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.9.19">The NotifyResume signal</a>
+</dt></dl></dd>
+<dt>NotifySleep</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.9.12">The NotifySleep signal</a>
+</dt></dl></dd>
+<dt>notify_resume, <a class="indexterm" href="UPower-up-client.html#notify-resume">notify_resume ()</a>
+</dt>
+<dt>notify_sleep, <a class="indexterm" href="UPower-up-client.html#notify-sleep">notify_sleep ()</a>
+</dt>
 </dl>
 </div>
 <div class="indexdiv">
 <h3>O</h3>
 <dl>
 <dt>OnBattery</dt>
-<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.10.5">The "OnBattery" property</a>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.10.11">The "OnBattery" property</a>
 </dt></dl></dd>
 <dt>Online</dt>
 <dd><dl><dt>Device, <a class="indexterm" href="Device.html#id-1.2.4.8.30">The "Online" property</a>
@@ -226,6 +259,9 @@
 <dt>Refresh</dt>
 <dd><dl><dt>Device, <a class="indexterm" href="Device.html#id-1.2.4.7.2">Refresh ()</a>
 </dt></dl></dd>
+<dt>Resuming</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.9.15">The Resuming signal</a>
+</dt></dl></dd>
 </dl>
 </div>
 <div class="indexdiv">
@@ -237,9 +273,18 @@
 <dt>SetBrightness</dt>
 <dd><dl><dt>KbdBacklight, <a class="indexterm" href="KbdBacklight.html#id-1.2.5.7.10">SetBrightness ()</a>
 </dt></dl></dd>
+<dt>Sleeping</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.9.8">The Sleeping signal</a>
+</dt></dl></dd>
 <dt>State</dt>
 <dd><dl><dt>Device, <a class="indexterm" href="Device.html#id-1.2.4.8.78">The "State" property</a>
 </dt></dl></dd>
+<dt>Suspend</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.8.16">Suspend ()</a>
+</dt></dl></dd>
+<dt>SuspendAllowed</dt>
+<dd><dl><dt>UPower, <a class="indexterm" href="UPower.html#id-1.2.3.8.21">SuspendAllowed ()</a>
+</dt></dl></dd>
 </dl>
 </div>
 <div class="indexdiv">
@@ -276,117 +321,137 @@
 </dt>
 <dt>UpDeviceTechnology, <a class="indexterm" href="UPower-up-types.html#UpDeviceTechnology">enum UpDeviceTechnology</a>
 </dt>
+<dt>UpSleepKind, <a class="indexterm" href="UPower-up-types.html#UpSleepKind">enum UpSleepKind</a>
+</dt>
+<dt>up_client_about_to_sleep_sync, <a class="indexterm" href="UPower-up-client.html#up-client-about-to-sleep-sync">up_client_about_to_sleep_sync ()</a>
+</dt>
 <dt>UP_CLIENT_ERROR, <a class="indexterm" href="UPower-up-client.html#UP-CLIENT-ERROR:CAPS">UP_CLIENT_ERROR</a>
 </dt>
-<dt>up_client_get_critical_action, <a class="indexterm" href="UPower-up-client.html#up-client-get-critical-action">up_client_get_critical_action ()</a>
+<dt>up_client_get_can_hibernate, <a class="indexterm" href="UPower-up-client.html#up-client-get-can-hibernate">up_client_get_can_hibernate ()</a>, <a class="indexterm" href="UPower-up-client.html#up-client-get-can-hibernate">up_client_get_can_hibernate ()</a>
+</dt>
+<dt>up_client_get_can_suspend, <a class="indexterm" href="UPower-up-client.html#up-client-get-can-suspend">up_client_get_can_suspend ()</a>, <a class="indexterm" href="UPower-up-client.html#up-client-get-can-suspend">up_client_get_can_suspend ()</a>
 </dt>
-<dt>up_client_get_daemon_version, <a class="indexterm" href="UPower-up-client.html#up-client-get-daemon-version">up_client_get_daemon_version ()</a>
+<dt>up_client_get_critical_action, <a class="indexterm" href="UPower-up-client.html#up-client-get-critical-action">up_client_get_critical_action ()</a>
 </dt>
-<dt>up_client_get_devices, <a class="indexterm" href="UPower-up-client.html#up-client-get-devices">up_client_get_devices ()</a>
+<dt>up_client_get_daemon_version, <a class="indexterm" href="UPower-up-client.html#up-client-get-daemon-version">up_client_get_daemon_version ()</a>
 </dt>
-<dt>up_client_get_display_device, <a class="indexterm" href="UPower-up-client.html#up-client-get-display-device">up_client_get_display_device ()</a>
+<dt>up_client_get_devices, <a class="indexterm" href="UPower-up-client.html#up-client-get-devices">up_client_get_devices ()</a>, <a class="indexterm" href="UPower-up-client.html#up-client-get-devices">up_client_get_devices ()</a>
 </dt>
-<dt>up_client_get_is_docked, <a class="indexterm" href="UPower-up-client.html#up-client-get-is-docked">up_client_get_is_docked ()</a>
+<dt>up_client_get_display_device, <a class="indexterm" href="UPower-up-client.html#up-client-get-display-device">up_client_get_display_device ()</a>
 </dt>
-<dt>up_client_get_lid_is_closed, <a class="indexterm" href="UPower-up-client.html#up-client-get-lid-is-closed">up_client_get_lid_is_closed ()</a>
+<dt>up_client_get_is_docked, <a class="indexterm" href="UPower-up-client.html#up-client-get-is-docked">up_client_get_is_docked ()</a>
 </dt>
-<dt>up_client_get_lid_is_present, <a class="indexterm" href="UPower-up-client.html#up-client-get-lid-is-present">up_client_get_lid_is_present ()</a>
+<dt>up_client_get_lid_force_sleep, <a class="indexterm" href="UPower-up-client.html#up-client-get-lid-force-sleep">up_client_get_lid_force_sleep ()</a>
 </dt>
-<dt>up_client_get_on_battery, <a class="indexterm" href="UPower-up-client.html#up-client-get-on-battery">up_client_get_on_battery ()</a>
+<dt>up_client_get_lid_is_closed, <a class="indexterm" href="UPower-up-client.html#up-client-get-lid-is-closed">up_client_get_lid_is_closed ()</a>, <a class="indexterm" href="UPower-up-client.html#up-client-get-lid-is-closed">up_client_get_lid_is_closed ()</a>
 </dt>
-<dt>up_client_new, <a class="indexterm" href="UPower-up-client.html#up-client-new">up_client_new ()</a>
+<dt>up_client_get_lid_is_present, <a class="indexterm" href="UPower-up-client.html#up-client-get-lid-is-present">up_client_get_lid_is_present ()</a>
+</dt>
+<dt>up_client_get_on_battery, <a class="indexterm" href="UPower-up-client.html#up-client-get-on-battery">up_client_get_on_battery ()</a>, <a class="indexterm" href="UPower-up-client.html#up-client-get-on-battery">up_client_get_on_battery ()</a>
+</dt>
+<dt>up_client_get_properties_sync, <a class="indexterm" href="UPower-up-client.html#up-client-get-properties-sync">up_client_get_properties_sync ()</a>
+</dt>
+<dt>up_client_hibernate_sync, <a class="indexterm" href="UPower-up-client.html#up-client-hibernate-sync">up_client_hibernate_sync ()</a>
+</dt>
+<dt>up_client_new, <a class="indexterm" href="UPower-up-client.html#up-client-new">up_client_new ()</a>
+</dt>
+<dt>up_client_suspend_sync, <a class="indexterm" href="UPower-up-client.html#up-client-suspend-sync">up_client_suspend_sync ()</a>, <a class="indexterm" href="UPower-up-client.html#up-client-suspend-sync">up_client_suspend_sync ()</a>
 </dt>
 <dt>UP_CLIENT_TYPE_ERROR, <a class="indexterm" href="UPower-up-client.html#UP-CLIENT-TYPE-ERROR:CAPS">UP_CLIENT_TYPE_ERROR</a>
 </dt>
 <dt>UP_DEVICE_ERROR, <a class="indexterm" href="UPower-up-device.html#UP-DEVICE-ERROR:CAPS">UP_DEVICE_ERROR</a>
 </dt>
-<dt>up_device_get_history_sync, <a class="indexterm" href="UPower-up-device.html#up-device-get-history-sync">up_device_get_history_sync ()</a>
+<dt>up_device_get_history_sync, <a class="indexterm" href="UPower-up-device.html#up-device-get-history-sync">up_device_get_history_sync ()</a>
 </dt>
-<dt>up_device_get_object_path, <a class="indexterm" href="UPower-up-device.html#up-device-get-object-path">up_device_get_object_path ()</a>
+<dt>up_device_get_object_path, <a class="indexterm" href="UPower-up-device.html#up-device-get-object-path">up_device_get_object_path ()</a>
 </dt>
-<dt>up_device_get_statistics_sync, <a class="indexterm" href="UPower-up-device.html#up-device-get-statistics-sync">up_device_get_statistics_sync ()</a>
+<dt>up_device_get_statistics_sync, <a class="indexterm" href="UPower-up-device.html#up-device-get-statistics-sync">up_device_get_statistics_sync ()</a>
 </dt>
-<dt>up_device_kind_from_string, <a class="indexterm" href="UPower-up-types.html#up-device-kind-from-string">up_device_kind_from_string ()</a>
+<dt>up_device_kind_from_string, <a class="indexterm" href="UPower-up-types.html#up-device-kind-from-string">up_device_kind_from_string ()</a>
 </dt>
-<dt>up_device_kind_to_string, <a class="indexterm" href="UPower-up-types.html#up-device-kind-to-string">up_device_kind_to_string ()</a>
+<dt>up_device_kind_to_string, <a class="indexterm" href="UPower-up-types.html#up-device-kind-to-string">up_device_kind_to_string ()</a>
 </dt>
-<dt>up_device_level_from_string, <a class="indexterm" href="UPower-up-types.html#up-device-level-from-string">up_device_level_from_string ()</a>
+<dt>up_device_level_from_string, <a class="indexterm" href="UPower-up-types.html#up-device-level-from-string">up_device_level_from_string ()</a>
 </dt>
-<dt>up_device_level_to_string, <a class="indexterm" href="UPower-up-types.html#up-device-level-to-string">up_device_level_to_string ()</a>
+<dt>up_device_level_to_string, <a class="indexterm" href="UPower-up-types.html#up-device-level-to-string">up_device_level_to_string ()</a>
 </dt>
-<dt>up_device_new, <a class="indexterm" href="UPower-up-device.html#up-device-new">up_device_new ()</a>
+<dt>up_device_new, <a class="indexterm" href="UPower-up-device.html#up-device-new">up_device_new ()</a>
 </dt>
-<dt>up_device_refresh_sync, <a class="indexterm" href="UPower-up-device.html#up-device-refresh-sync">up_device_refresh_sync ()</a>
+<dt>up_device_refresh_sync, <a class="indexterm" href="UPower-up-device.html#up-device-refresh-sync">up_device_refresh_sync ()</a>
 </dt>
-<dt>up_device_set_object_path_sync, <a class="indexterm" href="UPower-up-device.html#up-device-set-object-path-sync">up_device_set_object_path_sync ()</a>
+<dt>up_device_set_object_path_sync, <a class="indexterm" href="UPower-up-device.html#up-device-set-object-path-sync">up_device_set_object_path_sync ()</a>
 </dt>
-<dt>up_device_state_from_string, <a class="indexterm" href="UPower-up-types.html#up-device-state-from-string">up_device_state_from_string ()</a>
+<dt>up_device_state_from_string, <a class="indexterm" href="UPower-up-types.html#up-device-state-from-string">up_device_state_from_string ()</a>
 </dt>
-<dt>up_device_state_to_string, <a class="indexterm" href="UPower-up-types.html#up-device-state-to-string">up_device_state_to_string ()</a>
+<dt>up_device_state_to_string, <a class="indexterm" href="UPower-up-types.html#up-device-state-to-string">up_device_state_to_string ()</a>
 </dt>
-<dt>up_device_technology_from_string, <a class="indexterm" href="UPower-up-types.html#up-device-technology-from-string">up_device_technology_from_string ()</a>
+<dt>up_device_technology_from_string, <a class="indexterm" href="UPower-up-types.html#up-device-technology-from-string">up_device_technology_from_string ()</a>
 </dt>
-<dt>up_device_technology_to_string, <a class="indexterm" href="UPower-up-types.html#up-device-technology-to-string">up_device_technology_to_string ()</a>
+<dt>up_device_technology_to_string, <a class="indexterm" href="UPower-up-types.html#up-device-technology-to-string">up_device_technology_to_string ()</a>
 </dt>
-<dt>up_device_to_text, <a class="indexterm" href="UPower-up-device.html#up-device-to-text">up_device_to_text ()</a>
+<dt>up_device_to_text, <a class="indexterm" href="UPower-up-device.html#up-device-to-text">up_device_to_text ()</a>
 </dt>
 <dt>UP_DEVICE_TYPE_ERROR, <a class="indexterm" href="UPower-up-device.html#UP-DEVICE-TYPE-ERROR:CAPS">UP_DEVICE_TYPE_ERROR</a>
 </dt>
-<dt>up_history_item_get_state, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-get-state">up_history_item_get_state ()</a>
+<dt>up_history_item_get_state, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-get-state">up_history_item_get_state ()</a>
+</dt>
+<dt>up_history_item_get_time, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-get-time">up_history_item_get_time ()</a>
+</dt>
+<dt>up_history_item_get_value, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-get-value">up_history_item_get_value ()</a>
 </dt>
-<dt>up_history_item_get_time, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-get-time">up_history_item_get_time ()</a>
+<dt>up_history_item_new, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-new">up_history_item_new ()</a>
 </dt>
-<dt>up_history_item_get_value, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-get-value">up_history_item_get_value ()</a>
+<dt>up_history_item_set_from_string, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-set-from-string">up_history_item_set_from_string ()</a>
 </dt>
-<dt>up_history_item_new, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-new">up_history_item_new ()</a>
+<dt>up_history_item_set_state, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-set-state">up_history_item_set_state ()</a>
 </dt>
-<dt>up_history_item_set_from_string, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-set-from-string">up_history_item_set_from_string ()</a>
+<dt>up_history_item_set_time, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-set-time">up_history_item_set_time ()</a>
 </dt>
-<dt>up_history_item_set_state, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-set-state">up_history_item_set_state ()</a>
+<dt>up_history_item_set_time_to_present, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-set-time-to-present">up_history_item_set_time_to_present ()</a>
 </dt>
-<dt>up_history_item_set_time, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-set-time">up_history_item_set_time ()</a>
+<dt>up_history_item_set_value, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-set-value">up_history_item_set_value ()</a>
 </dt>
-<dt>up_history_item_set_time_to_present, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-set-time-to-present">up_history_item_set_time_to_present ()</a>
+<dt>up_history_item_to_string, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-to-string">up_history_item_to_string ()</a>
 </dt>
-<dt>up_history_item_set_value, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-set-value">up_history_item_set_value ()</a>
+<dt>up_sleep_kind_from_string, <a class="indexterm" href="UPower-up-types.html#up-sleep-kind-from-string">up_sleep_kind_from_string ()</a>
 </dt>
-<dt>up_history_item_to_string, <a class="indexterm" href="UPower-up-history-item.html#up-history-item-to-string">up_history_item_to_string ()</a>
+<dt>up_sleep_kind_to_string, <a class="indexterm" href="UPower-up-types.html#up-sleep-kind-to-string">up_sleep_kind_to_string ()</a>
 </dt>
-<dt>up_stats_item_get_accuracy, <a class="indexterm" href="UPower-up-stats-item.html#up-stats-item-get-accuracy">up_stats_item_get_accuracy ()</a>
+<dt>up_stats_item_get_accuracy, <a class="indexterm" href="UPower-up-stats-item.html#up-stats-item-get-accuracy">up_stats_item_get_accuracy ()</a>
 </dt>
-<dt>up_stats_item_get_value, <a class="indexterm" href="UPower-up-stats-item.html#up-stats-item-get-value">up_stats_item_get_value ()</a>
+<dt>up_stats_item_get_value, <a class="indexterm" href="UPower-up-stats-item.html#up-stats-item-get-value">up_stats_item_get_value ()</a>
 </dt>
-<dt>up_stats_item_new, <a class="indexterm" href="UPower-up-stats-item.html#up-stats-item-new">up_stats_item_new ()</a>
+<dt>up_stats_item_new, <a class="indexterm" href="UPower-up-stats-item.html#up-stats-item-new">up_stats_item_new ()</a>
 </dt>
-<dt>up_stats_item_set_accuracy, <a class="indexterm" href="UPower-up-stats-item.html#up-stats-item-set-accuracy">up_stats_item_set_accuracy ()</a>
+<dt>up_stats_item_set_accuracy, <a class="indexterm" href="UPower-up-stats-item.html#up-stats-item-set-accuracy">up_stats_item_set_accuracy ()</a>
 </dt>
-<dt>up_stats_item_set_value, <a class="indexterm" href="UPower-up-stats-item.html#up-stats-item-set-value">up_stats_item_set_value ()</a>
+<dt>up_stats_item_set_value, <a class="indexterm" href="UPower-up-stats-item.html#up-stats-item-set-value">up_stats_item_set_value ()</a>
 </dt>
-<dt>up_wakeup_item_get_cmdline, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-cmdline">up_wakeup_item_get_cmdline ()</a>
+<dt>up_wakeup_item_get_cmdline, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-cmdline">up_wakeup_item_get_cmdline ()</a>
 </dt>
-<dt>up_wakeup_item_get_details, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-details">up_wakeup_item_get_details ()</a>
+<dt>up_wakeup_item_get_details, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-details">up_wakeup_item_get_details ()</a>
 </dt>
-<dt>up_wakeup_item_get_id, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-id">up_wakeup_item_get_id ()</a>
+<dt>up_wakeup_item_get_id, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-id">up_wakeup_item_get_id ()</a>
 </dt>
-<dt>up_wakeup_item_get_is_userspace, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-is-userspace">up_wakeup_item_get_is_userspace ()</a>
+<dt>up_wakeup_item_get_is_userspace, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-is-userspace">up_wakeup_item_get_is_userspace ()</a>
 </dt>
-<dt>up_wakeup_item_get_old, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-old">up_wakeup_item_get_old ()</a>
+<dt>up_wakeup_item_get_old, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-old">up_wakeup_item_get_old ()</a>
 </dt>
-<dt>up_wakeup_item_get_value, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-value">up_wakeup_item_get_value ()</a>
+<dt>up_wakeup_item_get_value, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-get-value">up_wakeup_item_get_value ()</a>
 </dt>
-<dt>up_wakeup_item_new, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-new">up_wakeup_item_new ()</a>
+<dt>up_wakeup_item_new, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-new">up_wakeup_item_new ()</a>
 </dt>
-<dt>up_wakeup_item_set_cmdline, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-cmdline">up_wakeup_item_set_cmdline ()</a>
+<dt>up_wakeup_item_set_cmdline, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-cmdline">up_wakeup_item_set_cmdline ()</a>
 </dt>
-<dt>up_wakeup_item_set_details, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-details">up_wakeup_item_set_details ()</a>
+<dt>up_wakeup_item_set_details, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-details">up_wakeup_item_set_details ()</a>
 </dt>
-<dt>up_wakeup_item_set_id, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-id">up_wakeup_item_set_id ()</a>
+<dt>up_wakeup_item_set_id, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-id">up_wakeup_item_set_id ()</a>
 </dt>
-<dt>up_wakeup_item_set_is_userspace, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-is-userspace">up_wakeup_item_set_is_userspace ()</a>
+<dt>up_wakeup_item_set_is_userspace, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-is-userspace">up_wakeup_item_set_is_userspace ()</a>
 </dt>
-<dt>up_wakeup_item_set_old, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-old">up_wakeup_item_set_old ()</a>
+<dt>up_wakeup_item_set_old, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-old">up_wakeup_item_set_old ()</a>
 </dt>
-<dt>up_wakeup_item_set_value, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-value">up_wakeup_item_set_value ()</a>
+<dt>up_wakeup_item_set_value, <a class="indexterm" href="UPower-up-wakeup-item.html#up-wakeup-item-set-value">up_wakeup_item_set_value ()</a>
 </dt>
 </dl>
 </div>
@@ -413,6 +478,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/libupower-glib-helpers.html upower-0.99.0-patched-pretty/doc/html/libupower-glib-helpers.html
--- upower-0.99.0/doc/html/libupower-glib-helpers.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/libupower-glib-helpers.html	2014-07-13 21:34:35.185231624 -0400
@@ -3,17 +3,17 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: libupower-glib helpers</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="index.html" title="UPower Reference Manual">
 <link rel="prev" href="UPower-up-wakeup-item.html" title="up-wakeup-item">
 <link rel="next" href="UPower-up-types.html" title="up-types">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left"></td>
+<td width="100%" align="left" class="shortcuts"></td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><img src="up-insensitive.png" width="16" height="16" border="0"></td>
 <td><a accesskey="p" href="UPower-up-wakeup-item.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
@@ -40,6 +40,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/libupower-glib.html upower-0.99.0-patched-pretty/doc/html/libupower-glib.html
--- upower-0.99.0/doc/html/libupower-glib.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/libupower-glib.html	2014-07-13 21:34:35.185231624 -0400
@@ -3,17 +3,17 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: libupower-glib GObjects</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="index.html" title="UPower Reference Manual">
 <link rel="prev" href="KbdBacklight.html" title="org.freedesktop.UPower.KbdBacklight">
 <link rel="next" href="UPower-up-client.html" title="up-client">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left"></td>
+<td width="100%" align="left" class="shortcuts"></td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><img src="up-insensitive.png" width="16" height="16" border="0"></td>
 <td><a accesskey="p" href="KbdBacklight.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
@@ -54,6 +54,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/license.html upower-0.99.0-patched-pretty/doc/html/license.html
--- upower-0.99.0/doc/html/license.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/license.html	2014-07-13 21:34:35.186231624 -0400
@@ -3,16 +3,16 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: Appendix A. License</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="index.html" title="UPower Reference Manual">
 <link rel="prev" href="annotation-glossary.html" title="Annotation Glossary">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left"></td>
+<td width="100%" align="left" class="shortcuts"></td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><img src="up-insensitive.png" width="16" height="16" border="0"></td>
 <td><a accesskey="p" href="annotation-glossary.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
@@ -384,6 +384,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/ref-dbus.html upower-0.99.0-patched-pretty/doc/html/ref-dbus.html
--- upower-0.99.0/doc/html/ref-dbus.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/ref-dbus.html	2014-07-13 21:34:35.186231624 -0400
@@ -3,17 +3,17 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: D-Bus API Reference</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="index.html" title="UPower Reference Manual">
 <link rel="prev" href="index.html" title="UPower Reference Manual">
 <link rel="next" href="UPower.html" title="org.freedesktop.UPower">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left"></td>
+<td width="100%" align="left" class="shortcuts"></td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><img src="up-insensitive.png" width="16" height="16" border="0"></td>
 <td><a accesskey="p" href="index.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
@@ -49,6 +49,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/style.css upower-0.99.0-patched-pretty/doc/html/style.css
--- upower-0.99.0/doc/html/style.css	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/style.css	2014-07-13 21:34:35.187231624 -0400
@@ -6,14 +6,18 @@
 {
   /* tango:aluminium 1/2 */
   background: #eeeeec;
-  border: solid 1px #d3d7cf;
+  background: rgba(238, 238, 236, 0.5);
+  border: solid 1px rgb(238, 238, 236);
   padding: 0.5em;
 }
 .programlisting
 {
   /* tango:sky blue 0/1 */
+  /* fallback for no rgba support */
   background: #e6f3ff;
   border: solid 1px #729fcf;
+  background: rgba(114, 159, 207, 0.1);
+  border: solid 1px rgba(114, 159, 207, 0.2);
   padding: 0.5em;
 }
 .variablelist
@@ -31,7 +35,6 @@
   {
     position: relative;
     top: 0em ! important;
-    
   }
   /* this is needed so that the local anchors are displayed below the naviagtion */
   div.footnote a[name], div.refnamediv a[name], div.refsect1 a[name], div.refsect2 a[name], div.index a[name], div.glossary a[name], div.sect1 a[name]
@@ -50,16 +53,20 @@
    */
   body
   {
-    padding-top: 3.2em;
-    padding-bottom: 20em;
+    padding-top: 5em;
+    padding-bottom: 500px;
+    max-width: 60em;
+  }
+  p
+  {
+    max-width: 60em;
   }
   /* style and size the navigation bar */
   table.navigation#top
   {
     position: fixed;
-    /* tango:aluminum 2 */
-    background: #d3d7cf;
-    border: solid 1px #babdb6;
+    background: #e2e2e2;
+    border-bottom: solid 1px #babdb6;
     margin-top: 0;
     margin-bottom: 0;
     top: 0;
@@ -84,6 +91,42 @@
     font-size: 80%;
     white-space: nowrap;
   }
+  td.shortcuts .dim
+  {
+    color: #babdb6;
+  }
+}
+@media screen and (min-width: 60em) {
+  /* screen larger than 60em */
+  body { margin: auto; }
+}
+@media screen and (max-width: 60em) {
+  /* screen less than 60em */
+  #nav_hierarchy { display: none; }
+  #nav_interfaces { display: none; }
+  #nav_prerequisites { display: none; }
+  #nav_derived_interfaces { display: none; }
+  #nav_implementations { display: none; }
+  #nav_child_properties { display: none; }
+  #nav_style_properties { display: none; }
+  #nav_index { display: none; }
+  #nav_glossary { display: none; }
+  .gallery_image { display: none; }
+  .property_flags { display: none; }
+  .signal_flags { display: none; }
+  .parameter_annotations { display: none; }
+  .enum_member_annotations { display: none; }
+  .struct_member_annotations { display: none; }
+  .union_member_annotations { display: none; }
+  /* now that a column is hidden, optimize space */
+  col.parameters_name { width: auto; }
+  col.parameters_description { width: auto; }
+  col.struct_members_name { width: auto; }
+  col.struct_members_description { width: auto; }
+  col.enum_members_name { width: auto; }
+  col.enum_members_description { width: auto; }
+  col.union_members_name { width: auto; }
+  col.union_members_description { width: auto; }
 }
 @media print {
   table.navigation {
@@ -93,8 +136,7 @@
   div.titlepage table.navigation {
     visibility: visible;
     display: table;
-    /* tango:aluminum 2 */
-    background: #d3d7cf;
+    background: #e2e2e2;
     border: solid 1px #babdb6;
     margin-top: 0;
     margin-bottom: 0;
@@ -136,6 +178,67 @@
   color: #729fcf;
 }
 
+div.informaltable table
+{
+  border-collapse: separate;
+  border-spacing: 20px 3px;
+  border: none;
+}
+
+div.informaltable table td, div.informaltable table th
+{
+  vertical-align: top;
+}
+
+.function_type,
+.variable_type,
+.property_type,
+.signal_type,
+.parameter_name,
+.struct_member_name,
+.union_member_name,
+.define_keyword,
+.datatype_keyword,
+.typedef_keyword
+{
+  text-align: right;
+}
+
+/* dim non-primary columns */
+.c_punctuation,
+.function_type,
+.variable_type,
+.property_type,
+.signal_type,
+.define_keyword,
+.datatype_keyword,
+.typedef_keyword,
+.property_flags,
+.signal_flags,
+.parameter_annotations,
+.enum_member_annotations,
+.struct_member_annotations,
+.union_member_annotations
+{
+  color: #888a85;
+}
+
+.function_type a,
+.function_type a:visited,
+.function_type a:hover,
+.property_type a,
+.property_type a:visited,
+.property_type a:hover,
+.signal_type a,
+.signal_type a:visited,
+.signal_type a:hover,
+.signal_flags a,
+.signal_flags a:visited,
+.signal_flags a:hover
+{
+ color: #729fcf;
+}
+
 div.table table
 {
   border-collapse: collapse;
@@ -158,6 +261,11 @@
   background-color: #d3d7cf;
 }
 
+h4
+{
+  color: #555753;
+}
+
 hr
 {
   /* tango:aluminium 1 */
@@ -166,6 +274,7 @@
   border: none 0px;
   height: 1px;
   clear: both;
+  margin: 2.0em 0em 2.0em 0em;
 }
 
 dl.toc dt
@@ -203,46 +312,57 @@
 .informalfigure,
 .figure
 {
-  margin: 2em;
+  margin: 1em;
 }
 
 .informalexample,
 .example
 {
-  margin: 2em;
+  margin-top: 1em;
+  margin-bottom: 1em;
 }
 
 .warning
 {
   /* tango:orange 0/1 */
   background: #ffeed9;
+  background: rgba(252, 175, 62, 0.1);
   border-color: #ffb04f;
+  border-color: rgba(252, 175, 62, 0.2);
 }
 .note
 {
   /* tango:chameleon 0/0.5 */
   background: #d8ffb2;
+  background: rgba(138, 226, 52, 0.1);
   border-color: #abf562;
+  border-color: rgba(138, 226, 52, 0.2);
 }
-.note, .warning
+div.blockquote
+{
+  border-color: #eeeeec;
+}
+.note, .warning, div.blockquote
 {
   padding: 0.5em;
   border-width: 1px;
   border-style: solid;
   margin: 2em;
 }
-.note h3, .warning h3
+.note p, .warning p
 {
-  margin-top: 0.0em
+  margin: 0;
 }
-.note p, .warning p
+
+div.warning h3.title,
+div.note h3.title
 {
-  margin-bottom: 0.0em
+  display: none;
 }
 
 p + div.section
 {
-  margin-top: 2.5em;
+  margin-top: 1em;
 }
 
 div.refnamediv,
@@ -252,7 +372,7 @@
 div.toc,
 div.section
 {
-  margin-bottom: 2.5em;
+  margin-bottom: 1em;
 }
 
 /* blob links */
@@ -265,11 +385,22 @@
   font-weight: normal;
 }
 
+.lineart
+{
+  color: #d3d7cf;
+  font-weight: normal;
+}
+
 .annotation
 {
   /* tango:aluminium 5 */
   color: #555753;
-  font-size: 80%;
+  font-weight: normal;
+}
+
+.structfield
+{
+  font-style: normal;
   font-weight: normal;
 }
 
@@ -292,6 +423,7 @@
 .listing_frame {
   /* tango:sky blue 1 */
   border: solid 1px #729fcf;
+  border: solid 1px rgba(114, 159, 207, 0.2);
   padding: 0px;
 }
 
@@ -301,19 +433,27 @@
   padding: 0.5em;
 }
 .listing_lines {
+  /* this just adds visual clutter and
+     takes precious room from small screens */
+  display: none;
+}
+.listing_lines {
   /* tango:sky blue 0.5 */
   background: #a6c5e3;
+  background: rgba(114, 159, 207, 0.2);
   /* tango:aluminium 6 */
   color: #2e3436;
 }
 .listing_code {
   /* tango:sky blue 0 */
   background: #e6f3ff;
+  background: rgba(114, 159, 207, 0.1);
 }
 .listing_code .programlisting {
   /* override from previous */
   border: none 0px;
   padding: 0px;
+  background: none;
 }
 .listing_lines pre, .listing_code pre {
   margin: 0px;
diff -urN upower-0.99.0/doc/html/tools-fileformats.html upower-0.99.0-patched-pretty/doc/html/tools-fileformats.html
--- upower-0.99.0/doc/html/tools-fileformats.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/tools-fileformats.html	2014-07-13 21:34:35.187231624 -0400
@@ -3,17 +3,17 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: Manual Pages</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="index.html" title="UPower Reference Manual">
 <link rel="prev" href="UPower-up-types.html" title="up-types">
 <link rel="next" href="UPower.7.html" title="UPower">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left"></td>
+<td width="100%" align="left" class="shortcuts"></td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><img src="up-insensitive.png" width="16" height="16" border="0"></td>
 <td><a accesskey="p" href="UPower-up-types.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
@@ -48,6 +48,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/upower.1.html upower-0.99.0-patched-pretty/doc/html/upower.1.html
--- upower-0.99.0/doc/html/upower.1.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/upower.1.html	2014-07-13 21:34:35.187231624 -0400
@@ -3,17 +3,17 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: upower</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="tools-fileformats.html" title="Manual Pages">
 <link rel="prev" href="upowerd.8.html" title="upowerd">
 <link rel="next" href="ix01.html" title="Index">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left"></td>
+<td width="100%" align="left" class="shortcuts"></td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="tools-fileformats.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
 <td><a accesskey="p" href="upowerd.8.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
@@ -26,7 +26,7 @@
 <h2><span class="refentrytitle">upower</span></h2>
 <p>upower — UPower command line tool</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
 <div class="refsynopsisdiv">
 <h2>Synopsis</h2>
@@ -98,6 +98,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/html/upowerd.8.html upower-0.99.0-patched-pretty/doc/html/upowerd.8.html
--- upower-0.99.0/doc/html/upowerd.8.html	2013-10-29 08:51:56.000000000 -0400
+++ upower-0.99.0-patched-pretty/doc/html/upowerd.8.html	2014-07-13 21:34:35.187231624 -0400
@@ -3,17 +3,17 @@
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <title>UPower Reference Manual: upowerd</title>
-<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
+<meta name="generator" content="DocBook XSL Stylesheets V1.78.0">
 <link rel="home" href="index.html" title="UPower Reference Manual">
 <link rel="up" href="tools-fileformats.html" title="Manual Pages">
 <link rel="prev" href="UPower.7.html" title="UPower">
 <link rel="next" href="upower.1.html" title="upower">
-<meta name="generator" content="GTK-Doc V1.19.1 (XML mode)">
+<meta name="generator" content="GTK-Doc V1.20 (XML mode)">
 <link rel="stylesheet" href="style.css" type="text/css">
 </head>
 <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
 <table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="10"><tr valign="middle">
-<td width="100%" align="left"></td>
+<td width="100%" align="left" class="shortcuts"></td>
 <td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
 <td><a accesskey="u" href="tools-fileformats.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
 <td><a accesskey="p" href="UPower.7.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
@@ -26,7 +26,7 @@
 <h2><span class="refentrytitle">upowerd</span></h2>
 <p>upowerd — UPower Daemon</p>
 </td>
-<td valign="top" align="right"></td>
+<td class="gallery_image" valign="top" align="right"></td>
 </tr></table></div>
 <div class="refsynopsisdiv">
 <h2>Synopsis</h2>
@@ -86,6 +86,6 @@
 </div>
 <div class="footer">
 <hr>
-          Generated by GTK-Doc V1.19.1</div>
+          Generated by GTK-Doc V1.20</div>
 </body>
 </html>
\ No newline at end of file
diff -urN upower-0.99.0/doc/man/UPower.7 upower-0.99.0-patched-pretty/doc/man/UPower.7
--- upower-0.99.0/doc/man/UPower.7	1969-12-31 19:00:00.000000000 -0500
+++ upower-0.99.0-patched-pretty/doc/man/UPower.7	2014-07-13 21:34:35.188231624 -0400
@@ -0,0 +1,53 @@
+'\" t
+.\"     Title: UPower
+.\"    Author: [see the "AUTHOR" section]
+.\" Generator: DocBook XSL Stylesheets v1.78.0 <http://docbook.sf.net/>
+.\"      Date: March 2008
+.\"    Manual: UPower
+.\"    Source: UPower
+.\"  Language: English
+.\"
+.TH "UPOWER" "7" "March 2008" "UPower" "UPower"
+.\" -----------------------------------------------------------------
+.\" * Define some portability stuff
+.\" -----------------------------------------------------------------
+.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+.\" http://bugs.debian.org/507673
+.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
+.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+.ie \n(.g .ds Aq \(aq
+.el       .ds Aq '
+.\" -----------------------------------------------------------------
+.\" * set default formatting
+.\" -----------------------------------------------------------------
+.\" disable hyphenation
+.nh
+.\" disable justification (adjust text to left margin only)
+.ad l
+.\" -----------------------------------------------------------------
+.\" * MAIN CONTENT STARTS HERE *
+.\" -----------------------------------------------------------------
+.SH "NAME"
+UPower \- System\-wide Power Management
+.SH "DESCRIPTION"
+.PP
+UPower provides an interface to enumerate power sources on the system and control system\-wide power management\&. Any application can access the
+\fIorg\&.freedesktop\&.UPower\fR
+service on the system message bus\&. Some operations (such as suspending the system) is restricted using PolicyKit\&.
+.SH "AUTHOR"
+.PP
+Written by David Zeuthen
+<davidz@redhat\&.com>, Richard Hughes
+<richard@hughsie\&.com>
+and with a lot of help from many others\&.
+.SH "BUGS"
+.PP
+Please send bug reports to either the distribution or the DeviceKit mailing list, see
+\m[blue]\fB\%http://lists.freedesktop.org/mailman/listinfo/devkit-devel\fR\m[]
+on how to subscribe\&.
+.SH "SEE ALSO"
+.PP
+
+\fBPolicyKit\fR(8),
+\fBupowerd\fR(8),
+\fBupower\fR(1)
diff -urN upower-0.99.0/doc/man/upower.1 upower-0.99.0-patched-pretty/doc/man/upower.1
--- upower-0.99.0/doc/man/upower.1	1969-12-31 19:00:00.000000000 -0500
+++ upower-0.99.0-patched-pretty/doc/man/upower.1	2014-07-13 21:34:35.198231623 -0400
@@ -0,0 +1,74 @@
+'\" t
+.\"     Title: upower
+.\"    Author: [see the "AUTHOR" section]
+.\" Generator: DocBook XSL Stylesheets v1.78.0 <http://docbook.sf.net/>
+.\"      Date: April 2008
+.\"    Manual: upower
+.\"    Source: upower
+.\"  Language: English
+.\"
+.TH "UPOWER" "1" "April 2008" "upower" "upower"
+.\" -----------------------------------------------------------------
+.\" * Define some portability stuff
+.\" -----------------------------------------------------------------
+.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+.\" http://bugs.debian.org/507673
+.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
+.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+.ie \n(.g .ds Aq \(aq
+.el       .ds Aq '
+.\" -----------------------------------------------------------------
+.\" * set default formatting
+.\" -----------------------------------------------------------------
+.\" disable hyphenation
+.nh
+.\" disable justification (adjust text to left margin only)
+.ad l
+.\" -----------------------------------------------------------------
+.\" * MAIN CONTENT STARTS HERE *
+.\" -----------------------------------------------------------------
+.SH "NAME"
+upower \- UPower command line tool
+.SH "SYNOPSIS"
+.HP \w'\fBupower\fR\ 'u
+\fBupower\fR [\fB\-\-dump\fR] [\fB\-\-enumerate\fR] [\fB\-\-monitor\-detail\fR] [\fB\-\-monitor\fR] [\fB\-\-show\-info\fR] [\fB\-\-version\fR] [\fB\-\-wakeups\fR] [\fB\-\-help\fR]
+.SH "DESCRIPTION"
+.PP
+
+\fIupower\fR
+is a simple command line client for the
+\fBUPower\fR(7)
+daemon\&. TODO: not fully documented\&.
+.SH "OPTIONS"
+.PP
+\fB\-\-monitor\fR
+.RS 4
+Connect to the UPower daemon and print a line every time a power source is added, removed or changed\&.
+.RE
+.PP
+\fB\-\-monitor\-detail\fR
+.RS 4
+Like
+\fB\-\-monitor\fR
+but prints the full details of the power source whenever an event happens\&.
+.RE
+.PP
+\fB\-\-help\fR
+.RS 4
+Show help options\&.
+.RE
+.SH "AUTHOR"
+.PP
+Written by David Zeuthen
+<davidz@redhat\&.com>
+with a lot of help from many others\&.
+.SH "BUGS"
+.PP
+Please send bug reports to either the distribution or the DeviceKit mailing list, see
+\m[blue]\fB\%http://lists.freedesktop.org/mailman/listinfo/devkit-devel\fR\m[]
+on how to subscribe\&.
+.SH "SEE ALSO"
+.PP
+
+\fBupowerd\fR(8),
+\fBUPower\fR(7),
diff -urN upower-0.99.0/doc/man/upowerd.8 upower-0.99.0-patched-pretty/doc/man/upowerd.8
--- upower-0.99.0/doc/man/upowerd.8	1969-12-31 19:00:00.000000000 -0500
+++ upower-0.99.0-patched-pretty/doc/man/upowerd.8	2014-07-13 21:34:35.207231622 -0400
@@ -0,0 +1,67 @@
+'\" t
+.\"     Title: upowerd
+.\"    Author: [see the "AUTHOR" section]
+.\" Generator: DocBook XSL Stylesheets v1.78.0 <http://docbook.sf.net/>
+.\"      Date: April 2008
+.\"    Manual: upowerd
+.\"    Source: upowerd
+.\"  Language: English
+.\"
+.TH "UPOWERD" "8" "April 2008" "upowerd" "upowerd"
+.\" -----------------------------------------------------------------
+.\" * Define some portability stuff
+.\" -----------------------------------------------------------------
+.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+.\" http://bugs.debian.org/507673
+.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
+.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+.ie \n(.g .ds Aq \(aq
+.el       .ds Aq '
+.\" -----------------------------------------------------------------
+.\" * set default formatting
+.\" -----------------------------------------------------------------
+.\" disable hyphenation
+.nh
+.\" disable justification (adjust text to left margin only)
+.ad l
+.\" -----------------------------------------------------------------
+.\" * MAIN CONTENT STARTS HERE *
+.\" -----------------------------------------------------------------
+.SH "NAME"
+upowerd \- UPower Daemon
+.SH "SYNOPSIS"
+.HP \w'\fBupowerd\fR\ 'u
+\fBupowerd\fR [\fB\-\-help\fR]
+.SH "DESCRIPTION"
+.PP
+
+\fIupowerd\fR
+provides the
+\fIorg\&.freedesktop\&.UPower\fR
+service on the system message bus\&. Users or administrators should never need to start this daemon as it will be automatically started by
+\fBdbus-daemon\fR(1)
+whenever an application calls into the
+\fIorg\&.freedesktop\&.UPower\fR
+service\&.
+.SH "OPTIONS"
+.PP
+\fB\-\-help\fR
+.RS 4
+Show help options\&.
+.RE
+.SH "AUTHOR"
+.PP
+Written by David Zeuthen
+<davidz@redhat\&.com>
+with a lot of help from many others\&.
+.SH "BUGS"
+.PP
+Please send bug reports to either the distribution or the DeviceKit mailing list, see
+\m[blue]\fB\%http://lists.freedesktop.org/mailman/listinfo/devkit-devel\fR\m[]
+on how to subscribe\&.
+.SH "SEE ALSO"
+.PP
+
+\fBUPower\fR(7),
+\fBupower\fR(1),
+\fBdbus-daemon\fR(1),
diff -urN upower-0.99.0/etc/UPower.conf upower-0.99.0-patched-pretty/etc/UPower.conf
--- upower-0.99.0/etc/UPower.conf	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/etc/UPower.conf	2014-07-13 21:34:35.207231622 -0400
@@ -3,6 +3,29 @@
 
 [UPower]
 
+# This is the smallest amount of time that UPower gives to session and system
+# processes after the suspend or hibernate request is given.
+# If the session power management component uses AboutToSuspend() then the
+# session process can only make this time larger than the value below, never
+# smaller.
+#
+# Reducing this time means the suspend happens quicker, but might also not give
+# some processes enough time to save state.
+#
+# default=1000
+SleepTimeout=1000
+
+# This controls whether hibernate is allowed when using encrypted swap.
+#
+# default=true
+AllowHibernateEncryptedSwap=true
+
+# This controls whether we want the powersave commands to be run when running
+# on battery or plugging AC.
+#
+# default=true
+RunPowersaveCommand=true
+
 # Enable the Watts Up Pro device.
 #
 # The Watts Up Pro contains a generic FTDI USB device without a specific
diff -urN upower-0.99.0/libupower-glib/Makefile.am upower-0.99.0-patched-pretty/libupower-glib/Makefile.am
--- upower-0.99.0/libupower-glib/Makefile.am	2013-10-29 06:37:01.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/Makefile.am	2014-07-13 21:34:35.207231622 -0400
@@ -1,5 +1,6 @@
 AM_CPPFLAGS = \
 	$(GLIB_CFLAGS)						\
+	$(DBUS_GLIB_CFLAGS)					\
 	$(GIO_UNIX_CFLAGS)					\
 	-I$(top_builddir)					\
 	-I$(top_srcdir)						\
@@ -82,6 +83,7 @@
 libupower_glib_la_LIBADD =					\
 	$(INTLLIBS)						\
 	$(GLIB_LIBS)						\
+	$(DBUS_GLIB_LIBS)					\
 	$(GIO_UNIX_LIBS)
 
 libupower_glib_la_LDFLAGS =					\
diff -urN upower-0.99.0/libupower-glib/Makefile.in upower-0.99.0-patched-pretty/libupower-glib/Makefile.in
--- upower-0.99.0/libupower-glib/Makefile.in	2013-10-29 06:39:07.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/Makefile.in	2014-07-13 21:34:35.207231622 -0400
@@ -418,6 +418,7 @@
 udevrulesdir = @udevrulesdir@
 AM_CPPFLAGS = \
 	$(GLIB_CFLAGS)						\
+	$(DBUS_GLIB_CFLAGS)					\
 	$(GIO_UNIX_CFLAGS)					\
 	-I$(top_builddir)					\
 	-I$(top_srcdir)						\
@@ -466,6 +467,7 @@
 libupower_glib_la_LIBADD = \
 	$(INTLLIBS)						\
 	$(GLIB_LIBS)						\
+	$(DBUS_GLIB_LIBS)					\
 	$(GIO_UNIX_LIBS)
 
 libupower_glib_la_LDFLAGS = \
diff -urN upower-0.99.0/libupower-glib/up-client-glue.c upower-0.99.0-patched-pretty/libupower-glib/up-client-glue.c
--- upower-0.99.0/libupower-glib/up-client-glue.c	2013-10-29 06:39:14.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/up-client-glue.c	2014-07-13 21:34:35.209231622 -0400
@@ -295,11 +295,202 @@
   FALSE
 };
 
+static const _ExtendedGDBusArgInfo _up_client_glue_method_info_about_to_sleep_IN_ARG_action =
+{
+  {
+    -1,
+    (gchar *) "action",
+    (gchar *) "s",
+    NULL
+  },
+  FALSE
+};
+
+static const _ExtendedGDBusArgInfo * const _up_client_glue_method_info_about_to_sleep_IN_ARG_pointers[] =
+{
+  &_up_client_glue_method_info_about_to_sleep_IN_ARG_action,
+  NULL
+};
+
+static const GDBusAnnotationInfo _up_client_glue_method_about_to_sleep_annotation_info_0 =
+{
+  -1,
+  (gchar *) "org.freedesktop.DBus.GLib.Async",
+  (gchar *) "",
+  NULL
+};
+
+static const GDBusAnnotationInfo * const _up_client_glue_method_about_to_sleep_annotation_info_pointers[] =
+{
+  &_up_client_glue_method_about_to_sleep_annotation_info_0,
+  NULL
+};
+
+static const _ExtendedGDBusMethodInfo _up_client_glue_method_info_about_to_sleep =
+{
+  {
+    -1,
+    (gchar *) "AboutToSleep",
+    (GDBusArgInfo **) &_up_client_glue_method_info_about_to_sleep_IN_ARG_pointers,
+    NULL,
+    (GDBusAnnotationInfo **) &_up_client_glue_method_about_to_sleep_annotation_info_pointers
+  },
+  "handle-about-to-sleep",
+  FALSE
+};
+
+static const GDBusAnnotationInfo _up_client_glue_method_suspend_annotation_info_0 =
+{
+  -1,
+  (gchar *) "org.freedesktop.DBus.GLib.Async",
+  (gchar *) "",
+  NULL
+};
+
+static const GDBusAnnotationInfo * const _up_client_glue_method_suspend_annotation_info_pointers[] =
+{
+  &_up_client_glue_method_suspend_annotation_info_0,
+  NULL
+};
+
+static const _ExtendedGDBusMethodInfo _up_client_glue_method_info_suspend =
+{
+  {
+    -1,
+    (gchar *) "Suspend",
+    NULL,
+    NULL,
+    (GDBusAnnotationInfo **) &_up_client_glue_method_suspend_annotation_info_pointers
+  },
+  "handle-suspend",
+  FALSE
+};
+
+static const _ExtendedGDBusArgInfo _up_client_glue_method_info_suspend_allowed_OUT_ARG_allowed =
+{
+  {
+    -1,
+    (gchar *) "allowed",
+    (gchar *) "b",
+    NULL
+  },
+  FALSE
+};
+
+static const _ExtendedGDBusArgInfo * const _up_client_glue_method_info_suspend_allowed_OUT_ARG_pointers[] =
+{
+  &_up_client_glue_method_info_suspend_allowed_OUT_ARG_allowed,
+  NULL
+};
+
+static const GDBusAnnotationInfo _up_client_glue_method_suspend_allowed_annotation_info_0 =
+{
+  -1,
+  (gchar *) "org.freedesktop.DBus.GLib.Async",
+  (gchar *) "",
+  NULL
+};
+
+static const GDBusAnnotationInfo * const _up_client_glue_method_suspend_allowed_annotation_info_pointers[] =
+{
+  &_up_client_glue_method_suspend_allowed_annotation_info_0,
+  NULL
+};
+
+static const _ExtendedGDBusMethodInfo _up_client_glue_method_info_suspend_allowed =
+{
+  {
+    -1,
+    (gchar *) "SuspendAllowed",
+    NULL,
+    (GDBusArgInfo **) &_up_client_glue_method_info_suspend_allowed_OUT_ARG_pointers,
+    (GDBusAnnotationInfo **) &_up_client_glue_method_suspend_allowed_annotation_info_pointers
+  },
+  "handle-suspend-allowed",
+  FALSE
+};
+
+static const GDBusAnnotationInfo _up_client_glue_method_hibernate_annotation_info_0 =
+{
+  -1,
+  (gchar *) "org.freedesktop.DBus.GLib.Async",
+  (gchar *) "",
+  NULL
+};
+
+static const GDBusAnnotationInfo * const _up_client_glue_method_hibernate_annotation_info_pointers[] =
+{
+  &_up_client_glue_method_hibernate_annotation_info_0,
+  NULL
+};
+
+static const _ExtendedGDBusMethodInfo _up_client_glue_method_info_hibernate =
+{
+  {
+    -1,
+    (gchar *) "Hibernate",
+    NULL,
+    NULL,
+    (GDBusAnnotationInfo **) &_up_client_glue_method_hibernate_annotation_info_pointers
+  },
+  "handle-hibernate",
+  FALSE
+};
+
+static const _ExtendedGDBusArgInfo _up_client_glue_method_info_hibernate_allowed_OUT_ARG_allowed =
+{
+  {
+    -1,
+    (gchar *) "allowed",
+    (gchar *) "b",
+    NULL
+  },
+  FALSE
+};
+
+static const _ExtendedGDBusArgInfo * const _up_client_glue_method_info_hibernate_allowed_OUT_ARG_pointers[] =
+{
+  &_up_client_glue_method_info_hibernate_allowed_OUT_ARG_allowed,
+  NULL
+};
+
+static const GDBusAnnotationInfo _up_client_glue_method_hibernate_allowed_annotation_info_0 =
+{
+  -1,
+  (gchar *) "org.freedesktop.DBus.GLib.Async",
+  (gchar *) "",
+  NULL
+};
+
+static const GDBusAnnotationInfo * const _up_client_glue_method_hibernate_allowed_annotation_info_pointers[] =
+{
+  &_up_client_glue_method_hibernate_allowed_annotation_info_0,
+  NULL
+};
+
+static const _ExtendedGDBusMethodInfo _up_client_glue_method_info_hibernate_allowed =
+{
+  {
+    -1,
+    (gchar *) "HibernateAllowed",
+    NULL,
+    (GDBusArgInfo **) &_up_client_glue_method_info_hibernate_allowed_OUT_ARG_pointers,
+    (GDBusAnnotationInfo **) &_up_client_glue_method_hibernate_allowed_annotation_info_pointers
+  },
+  "handle-hibernate-allowed",
+  FALSE
+};
+
 static const _ExtendedGDBusMethodInfo * const _up_client_glue_method_info_pointers[] =
 {
   &_up_client_glue_method_info_enumerate_devices,
   &_up_client_glue_method_info_get_display_device,
   &_up_client_glue_method_info_get_critical_action,
+  &_up_client_glue_method_info_about_to_sleep,
+  &_up_client_glue_method_info_suspend,
+  &_up_client_glue_method_info_suspend_allowed,
+  &_up_client_glue_method_info_hibernate,
+  &_up_client_glue_method_info_hibernate_allowed,
   NULL
 };
 
@@ -359,10 +550,92 @@
   "device-removed"
 };
 
+static const _ExtendedGDBusSignalInfo _up_client_glue_signal_info_sleeping =
+{
+  {
+    -1,
+    (gchar *) "Sleeping",
+    NULL,
+    NULL
+  },
+  "sleeping"
+};
+
+static const _ExtendedGDBusArgInfo _up_client_glue_signal_info_notify_sleep_ARG_action =
+{
+  {
+    -1,
+    (gchar *) "action",
+    (gchar *) "s",
+    NULL
+  },
+  FALSE
+};
+
+static const _ExtendedGDBusArgInfo * const _up_client_glue_signal_info_notify_sleep_ARG_pointers[] =
+{
+  &_up_client_glue_signal_info_notify_sleep_ARG_action,
+  NULL
+};
+
+static const _ExtendedGDBusSignalInfo _up_client_glue_signal_info_notify_sleep =
+{
+  {
+    -1,
+    (gchar *) "NotifySleep",
+    (GDBusArgInfo **) &_up_client_glue_signal_info_notify_sleep_ARG_pointers,
+    NULL
+  },
+  "notify-sleep"
+};
+
+static const _ExtendedGDBusSignalInfo _up_client_glue_signal_info_resuming =
+{
+  {
+    -1,
+    (gchar *) "Resuming",
+    NULL,
+    NULL
+  },
+  "resuming"
+};
+
+static const _ExtendedGDBusArgInfo _up_client_glue_signal_info_notify_resume_ARG_action =
+{
+  {
+    -1,
+    (gchar *) "action",
+    (gchar *) "s",
+    NULL
+  },
+  FALSE
+};
+
+static const _ExtendedGDBusArgInfo * const _up_client_glue_signal_info_notify_resume_ARG_pointers[] =
+{
+  &_up_client_glue_signal_info_notify_resume_ARG_action,
+  NULL
+};
+
+static const _ExtendedGDBusSignalInfo _up_client_glue_signal_info_notify_resume =
+{
+  {
+    -1,
+    (gchar *) "NotifyResume",
+    (GDBusArgInfo **) &_up_client_glue_signal_info_notify_resume_ARG_pointers,
+    NULL
+  },
+  "notify-resume"
+};
+
 static const _ExtendedGDBusSignalInfo * const _up_client_glue_signal_info_pointers[] =
 {
   &_up_client_glue_signal_info_device_added,
   &_up_client_glue_signal_info_device_removed,
+  &_up_client_glue_signal_info_sleeping,
+  &_up_client_glue_signal_info_notify_sleep,
+  &_up_client_glue_signal_info_resuming,
+  &_up_client_glue_signal_info_notify_resume,
   NULL
 };
 
@@ -379,6 +652,32 @@
   FALSE
 };
 
+static const _ExtendedGDBusPropertyInfo _up_client_glue_property_info_can_suspend =
+{
+  {
+    -1,
+    (gchar *) "CanSuspend",
+    (gchar *) "b",
+    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
+    NULL
+  },
+  "can-suspend",
+  FALSE
+};
+
+static const _ExtendedGDBusPropertyInfo _up_client_glue_property_info_can_hibernate =
+{
+  {
+    -1,
+    (gchar *) "CanHibernate",
+    (gchar *) "b",
+    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
+    NULL
+  },
+  "can-hibernate",
+  FALSE
+};
+
 static const _ExtendedGDBusPropertyInfo _up_client_glue_property_info_on_battery =
 {
   {
@@ -418,6 +717,19 @@
   FALSE
 };
 
+static const _ExtendedGDBusPropertyInfo _up_client_glue_property_info_lid_force_sleep =
+{
+  {
+    -1,
+    (gchar *) "LidForceSleep",
+    (gchar *) "b",
+    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
+    NULL
+  },
+  "lid-force-sleep",
+  FALSE
+};
+
 static const _ExtendedGDBusPropertyInfo _up_client_glue_property_info_is_docked =
 {
   {
@@ -434,9 +746,12 @@
 static const _ExtendedGDBusPropertyInfo * const _up_client_glue_property_info_pointers[] =
 {
   &_up_client_glue_property_info_daemon_version,
+  &_up_client_glue_property_info_can_suspend,
+  &_up_client_glue_property_info_can_hibernate,
   &_up_client_glue_property_info_on_battery,
   &_up_client_glue_property_info_lid_is_closed,
   &_up_client_glue_property_info_lid_is_present,
+  &_up_client_glue_property_info_lid_force_sleep,
   &_up_client_glue_property_info_is_docked,
   NULL
 };
@@ -482,9 +797,12 @@
 up_client_glue_override_properties (GObjectClass *klass, guint property_id_begin)
 {
   g_object_class_override_property (klass, property_id_begin++, "daemon-version");
+  g_object_class_override_property (klass, property_id_begin++, "can-suspend");
+  g_object_class_override_property (klass, property_id_begin++, "can-hibernate");
   g_object_class_override_property (klass, property_id_begin++, "on-battery");
   g_object_class_override_property (klass, property_id_begin++, "lid-is-closed");
   g_object_class_override_property (klass, property_id_begin++, "lid-is-present");
+  g_object_class_override_property (klass, property_id_begin++, "lid-force-sleep");
   g_object_class_override_property (klass, property_id_begin++, "is-docked");
   return property_id_begin - 1;
 }
@@ -500,16 +818,28 @@
 /**
  * UpClientGlueIface:
  * @parent_iface: The parent interface.
+ * @handle_about_to_sleep: Handler for the #UpClientGlue::handle-about-to-sleep signal.
  * @handle_enumerate_devices: Handler for the #UpClientGlue::handle-enumerate-devices signal.
  * @handle_get_critical_action: Handler for the #UpClientGlue::handle-get-critical-action signal.
  * @handle_get_display_device: Handler for the #UpClientGlue::handle-get-display-device signal.
+ * @handle_hibernate: Handler for the #UpClientGlue::handle-hibernate signal.
+ * @handle_hibernate_allowed: Handler for the #UpClientGlue::handle-hibernate-allowed signal.
+ * @handle_suspend: Handler for the #UpClientGlue::handle-suspend signal.
+ * @handle_suspend_allowed: Handler for the #UpClientGlue::handle-suspend-allowed signal.
+ * @get_can_hibernate: Getter for the #UpClientGlue:can-hibernate property.
+ * @get_can_suspend: Getter for the #UpClientGlue:can-suspend property.
  * @get_daemon_version: Getter for the #UpClientGlue:daemon-version property.
  * @get_is_docked: Getter for the #UpClientGlue:is-docked property.
+ * @get_lid_force_sleep: Getter for the #UpClientGlue:lid-force-sleep property.
  * @get_lid_is_closed: Getter for the #UpClientGlue:lid-is-closed property.
  * @get_lid_is_present: Getter for the #UpClientGlue:lid-is-present property.
  * @get_on_battery: Getter for the #UpClientGlue:on-battery property.
  * @device_added: Handler for the #UpClientGlue::device-added signal.
  * @device_removed: Handler for the #UpClientGlue::device-removed signal.
+ * @notify_resume: Handler for the #UpClientGlue::notify-resume signal.
+ * @notify_sleep: Handler for the #UpClientGlue::notify-sleep signal.
+ * @resuming: Handler for the #UpClientGlue::resuming signal.
+ * @sleeping: Handler for the #UpClientGlue::sleeping signal.
  *
  * Virtual table for the D-Bus interface <link linkend="gdbus-interface-org-freedesktop-UPower.top_of_page">org.freedesktop.UPower</link>.
  */
@@ -587,65 +917,268 @@
     1,
     G_TYPE_DBUS_METHOD_INVOCATION);
 
-  /* GObject signals for received D-Bus signals: */
   /**
-   * UpClientGlue::device-added:
+   * UpClientGlue::handle-about-to-sleep:
    * @object: A #UpClientGlue.
-   * @arg_device: Argument.
+   * @invocation: A #GDBusMethodInvocation.
+   * @arg_action: Argument passed by remote caller.
    *
-   * On the client-side, this signal is emitted whenever the D-Bus signal <link linkend="gdbus-signal-org-freedesktop-UPower.DeviceAdded">"DeviceAdded"</link> is received.
+   * Signal emitted when a remote caller is invoking the <link linkend="gdbus-method-org-freedesktop-UPower.AboutToSleep">AboutToSleep()</link> D-Bus method.
    *
-   * On the service-side, this signal can be used with e.g. g_signal_emit_by_name() to make the object emit the D-Bus signal.
+   * If a signal handler returns %TRUE, it means the signal handler will handle the invocation (e.g. take a reference to @invocation and eventually call up_client_glue_complete_about_to_sleep() or e.g. g_dbus_method_invocation_return_error() on it) and no order signal handlers will run. If no signal handler handles the invocation, the %G_DBUS_ERROR_UNKNOWN_METHOD error is returned.
+   *
+   * Returns: %TRUE if the invocation was handled, %FALSE to let other signal handlers run.
    */
-  g_signal_new ("device-added",
+  g_signal_new ("handle-about-to-sleep",
     G_TYPE_FROM_INTERFACE (iface),
     G_SIGNAL_RUN_LAST,
-    G_STRUCT_OFFSET (UpClientGlueIface, device_added),
-    NULL,
+    G_STRUCT_OFFSET (UpClientGlueIface, handle_about_to_sleep),
+    g_signal_accumulator_true_handled,
     NULL,
     g_cclosure_marshal_generic,
-    G_TYPE_NONE,
-    1, G_TYPE_STRING);
+    G_TYPE_BOOLEAN,
+    2,
+    G_TYPE_DBUS_METHOD_INVOCATION, G_TYPE_STRING);
 
   /**
-   * UpClientGlue::device-removed:
+   * UpClientGlue::handle-suspend:
    * @object: A #UpClientGlue.
-   * @arg_device: Argument.
+   * @invocation: A #GDBusMethodInvocation.
    *
-   * On the client-side, this signal is emitted whenever the D-Bus signal <link linkend="gdbus-signal-org-freedesktop-UPower.DeviceRemoved">"DeviceRemoved"</link> is received.
+   * Signal emitted when a remote caller is invoking the <link linkend="gdbus-method-org-freedesktop-UPower.Suspend">Suspend()</link> D-Bus method.
    *
-   * On the service-side, this signal can be used with e.g. g_signal_emit_by_name() to make the object emit the D-Bus signal.
+   * If a signal handler returns %TRUE, it means the signal handler will handle the invocation (e.g. take a reference to @invocation and eventually call up_client_glue_complete_suspend() or e.g. g_dbus_method_invocation_return_error() on it) and no order signal handlers will run. If no signal handler handles the invocation, the %G_DBUS_ERROR_UNKNOWN_METHOD error is returned.
+   *
+   * Returns: %TRUE if the invocation was handled, %FALSE to let other signal handlers run.
    */
-  g_signal_new ("device-removed",
+  g_signal_new ("handle-suspend",
     G_TYPE_FROM_INTERFACE (iface),
     G_SIGNAL_RUN_LAST,
-    G_STRUCT_OFFSET (UpClientGlueIface, device_removed),
-    NULL,
+    G_STRUCT_OFFSET (UpClientGlueIface, handle_suspend),
+    g_signal_accumulator_true_handled,
     NULL,
     g_cclosure_marshal_generic,
-    G_TYPE_NONE,
-    1, G_TYPE_STRING);
+    G_TYPE_BOOLEAN,
+    1,
+    G_TYPE_DBUS_METHOD_INVOCATION);
 
-  /* GObject properties for D-Bus properties: */
   /**
-   * UpClientGlue:daemon-version:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower.DaemonVersion">"DaemonVersion"</link>.
+   * UpClientGlue::handle-suspend-allowed:
+   * @object: A #UpClientGlue.
+   * @invocation: A #GDBusMethodInvocation.
    *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_string ("daemon-version", "DaemonVersion", "DaemonVersion", NULL, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpClientGlue:on-battery:
+   * Signal emitted when a remote caller is invoking the <link linkend="gdbus-method-org-freedesktop-UPower.SuspendAllowed">SuspendAllowed()</link> D-Bus method.
    *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower.OnBattery">"OnBattery"</link>.
+   * If a signal handler returns %TRUE, it means the signal handler will handle the invocation (e.g. take a reference to @invocation and eventually call up_client_glue_complete_suspend_allowed() or e.g. g_dbus_method_invocation_return_error() on it) and no order signal handlers will run. If no signal handler handles the invocation, the %G_DBUS_ERROR_UNKNOWN_METHOD error is returned.
    *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
+   * Returns: %TRUE if the invocation was handled, %FALSE to let other signal handlers run.
    */
-  g_object_interface_install_property (iface,
-    g_param_spec_boolean ("on-battery", "OnBattery", "OnBattery", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
+  g_signal_new ("handle-suspend-allowed",
+    G_TYPE_FROM_INTERFACE (iface),
+    G_SIGNAL_RUN_LAST,
+    G_STRUCT_OFFSET (UpClientGlueIface, handle_suspend_allowed),
+    g_signal_accumulator_true_handled,
+    NULL,
+    g_cclosure_marshal_generic,
+    G_TYPE_BOOLEAN,
+    1,
+    G_TYPE_DBUS_METHOD_INVOCATION);
+
+  /**
+   * UpClientGlue::handle-hibernate:
+   * @object: A #UpClientGlue.
+   * @invocation: A #GDBusMethodInvocation.
+   *
+   * Signal emitted when a remote caller is invoking the <link linkend="gdbus-method-org-freedesktop-UPower.Hibernate">Hibernate()</link> D-Bus method.
+   *
+   * If a signal handler returns %TRUE, it means the signal handler will handle the invocation (e.g. take a reference to @invocation and eventually call up_client_glue_complete_hibernate() or e.g. g_dbus_method_invocation_return_error() on it) and no order signal handlers will run. If no signal handler handles the invocation, the %G_DBUS_ERROR_UNKNOWN_METHOD error is returned.
+   *
+   * Returns: %TRUE if the invocation was handled, %FALSE to let other signal handlers run.
+   */
+  g_signal_new ("handle-hibernate",
+    G_TYPE_FROM_INTERFACE (iface),
+    G_SIGNAL_RUN_LAST,
+    G_STRUCT_OFFSET (UpClientGlueIface, handle_hibernate),
+    g_signal_accumulator_true_handled,
+    NULL,
+    g_cclosure_marshal_generic,
+    G_TYPE_BOOLEAN,
+    1,
+    G_TYPE_DBUS_METHOD_INVOCATION);
+
+  /**
+   * UpClientGlue::handle-hibernate-allowed:
+   * @object: A #UpClientGlue.
+   * @invocation: A #GDBusMethodInvocation.
+   *
+   * Signal emitted when a remote caller is invoking the <link linkend="gdbus-method-org-freedesktop-UPower.HibernateAllowed">HibernateAllowed()</link> D-Bus method.
+   *
+   * If a signal handler returns %TRUE, it means the signal handler will handle the invocation (e.g. take a reference to @invocation and eventually call up_client_glue_complete_hibernate_allowed() or e.g. g_dbus_method_invocation_return_error() on it) and no order signal handlers will run. If no signal handler handles the invocation, the %G_DBUS_ERROR_UNKNOWN_METHOD error is returned.
+   *
+   * Returns: %TRUE if the invocation was handled, %FALSE to let other signal handlers run.
+   */
+  g_signal_new ("handle-hibernate-allowed",
+    G_TYPE_FROM_INTERFACE (iface),
+    G_SIGNAL_RUN_LAST,
+    G_STRUCT_OFFSET (UpClientGlueIface, handle_hibernate_allowed),
+    g_signal_accumulator_true_handled,
+    NULL,
+    g_cclosure_marshal_generic,
+    G_TYPE_BOOLEAN,
+    1,
+    G_TYPE_DBUS_METHOD_INVOCATION);
+
+  /* GObject signals for received D-Bus signals: */
+  /**
+   * UpClientGlue::device-added:
+   * @object: A #UpClientGlue.
+   * @arg_device: Argument.
+   *
+   * On the client-side, this signal is emitted whenever the D-Bus signal <link linkend="gdbus-signal-org-freedesktop-UPower.DeviceAdded">"DeviceAdded"</link> is received.
+   *
+   * On the service-side, this signal can be used with e.g. g_signal_emit_by_name() to make the object emit the D-Bus signal.
+   */
+  g_signal_new ("device-added",
+    G_TYPE_FROM_INTERFACE (iface),
+    G_SIGNAL_RUN_LAST,
+    G_STRUCT_OFFSET (UpClientGlueIface, device_added),
+    NULL,
+    NULL,
+    g_cclosure_marshal_generic,
+    G_TYPE_NONE,
+    1, G_TYPE_STRING);
+
+  /**
+   * UpClientGlue::device-removed:
+   * @object: A #UpClientGlue.
+   * @arg_device: Argument.
+   *
+   * On the client-side, this signal is emitted whenever the D-Bus signal <link linkend="gdbus-signal-org-freedesktop-UPower.DeviceRemoved">"DeviceRemoved"</link> is received.
+   *
+   * On the service-side, this signal can be used with e.g. g_signal_emit_by_name() to make the object emit the D-Bus signal.
+   */
+  g_signal_new ("device-removed",
+    G_TYPE_FROM_INTERFACE (iface),
+    G_SIGNAL_RUN_LAST,
+    G_STRUCT_OFFSET (UpClientGlueIface, device_removed),
+    NULL,
+    NULL,
+    g_cclosure_marshal_generic,
+    G_TYPE_NONE,
+    1, G_TYPE_STRING);
+
+  /**
+   * UpClientGlue::sleeping:
+   * @object: A #UpClientGlue.
+   *
+   * On the client-side, this signal is emitted whenever the D-Bus signal <link linkend="gdbus-signal-org-freedesktop-UPower.Sleeping">"Sleeping"</link> is received.
+   *
+   * On the service-side, this signal can be used with e.g. g_signal_emit_by_name() to make the object emit the D-Bus signal.
+   */
+  g_signal_new ("sleeping",
+    G_TYPE_FROM_INTERFACE (iface),
+    G_SIGNAL_RUN_LAST,
+    G_STRUCT_OFFSET (UpClientGlueIface, sleeping),
+    NULL,
+    NULL,
+    g_cclosure_marshal_generic,
+    G_TYPE_NONE,
+    0);
+
+  /**
+   * UpClientGlue::notify-sleep:
+   * @object: A #UpClientGlue.
+   * @arg_action: Argument.
+   *
+   * On the client-side, this signal is emitted whenever the D-Bus signal <link linkend="gdbus-signal-org-freedesktop-UPower.NotifySleep">"NotifySleep"</link> is received.
+   *
+   * On the service-side, this signal can be used with e.g. g_signal_emit_by_name() to make the object emit the D-Bus signal.
+   */
+  g_signal_new ("notify-sleep",
+    G_TYPE_FROM_INTERFACE (iface),
+    G_SIGNAL_RUN_LAST,
+    G_STRUCT_OFFSET (UpClientGlueIface, notify_sleep),
+    NULL,
+    NULL,
+    g_cclosure_marshal_generic,
+    G_TYPE_NONE,
+    1, G_TYPE_STRING);
+
+  /**
+   * UpClientGlue::resuming:
+   * @object: A #UpClientGlue.
+   *
+   * On the client-side, this signal is emitted whenever the D-Bus signal <link linkend="gdbus-signal-org-freedesktop-UPower.Resuming">"Resuming"</link> is received.
+   *
+   * On the service-side, this signal can be used with e.g. g_signal_emit_by_name() to make the object emit the D-Bus signal.
+   */
+  g_signal_new ("resuming",
+    G_TYPE_FROM_INTERFACE (iface),
+    G_SIGNAL_RUN_LAST,
+    G_STRUCT_OFFSET (UpClientGlueIface, resuming),
+    NULL,
+    NULL,
+    g_cclosure_marshal_generic,
+    G_TYPE_NONE,
+    0);
+
+  /**
+   * UpClientGlue::notify-resume:
+   * @object: A #UpClientGlue.
+   * @arg_action: Argument.
+   *
+   * On the client-side, this signal is emitted whenever the D-Bus signal <link linkend="gdbus-signal-org-freedesktop-UPower.NotifyResume">"NotifyResume"</link> is received.
+   *
+   * On the service-side, this signal can be used with e.g. g_signal_emit_by_name() to make the object emit the D-Bus signal.
+   */
+  g_signal_new ("notify-resume",
+    G_TYPE_FROM_INTERFACE (iface),
+    G_SIGNAL_RUN_LAST,
+    G_STRUCT_OFFSET (UpClientGlueIface, notify_resume),
+    NULL,
+    NULL,
+    g_cclosure_marshal_generic,
+    G_TYPE_NONE,
+    1, G_TYPE_STRING);
+
+  /* GObject properties for D-Bus properties: */
+  /**
+   * UpClientGlue:daemon-version:
+   *
+   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower.DaemonVersion">"DaemonVersion"</link>.
+   *
+   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
+   */
+  g_object_interface_install_property (iface,
+    g_param_spec_string ("daemon-version", "DaemonVersion", "DaemonVersion", NULL, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
+  /**
+   * UpClientGlue:can-suspend:
+   *
+   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower.CanSuspend">"CanSuspend"</link>.
+   *
+   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
+   */
+  g_object_interface_install_property (iface,
+    g_param_spec_boolean ("can-suspend", "CanSuspend", "CanSuspend", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
+  /**
+   * UpClientGlue:can-hibernate:
+   *
+   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower.CanHibernate">"CanHibernate"</link>.
+   *
+   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
+   */
+  g_object_interface_install_property (iface,
+    g_param_spec_boolean ("can-hibernate", "CanHibernate", "CanHibernate", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
+  /**
+   * UpClientGlue:on-battery:
+   *
+   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower.OnBattery">"OnBattery"</link>.
+   *
+   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
+   */
+  g_object_interface_install_property (iface,
+    g_param_spec_boolean ("on-battery", "OnBattery", "OnBattery", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
+  /**
    * UpClientGlue:lid-is-closed:
    *
    * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower.LidIsClosed">"LidIsClosed"</link>.
@@ -664,6 +1197,15 @@
   g_object_interface_install_property (iface,
     g_param_spec_boolean ("lid-is-present", "LidIsPresent", "LidIsPresent", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
   /**
+   * UpClientGlue:lid-force-sleep:
+   *
+   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower.LidForceSleep">"LidForceSleep"</link>.
+   *
+   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
+   */
+  g_object_interface_install_property (iface,
+    g_param_spec_boolean ("lid-force-sleep", "LidForceSleep", "LidForceSleep", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
+  /**
    * UpClientGlue:is-docked:
    *
    * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower.IsDocked">"IsDocked"</link>.
@@ -726,6 +1268,68 @@
 }
 
 /**
+ * up_client_glue_get_can_suspend: (skip)
+ * @object: A #UpClientGlue.
+ *
+ * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower.CanSuspend">"CanSuspend"</link> D-Bus property.
+ *
+ * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
+ *
+ * Returns: The property value.
+ */
+gboolean 
+up_client_glue_get_can_suspend (UpClientGlue *object)
+{
+  return UP_CLIENT_GLUE_GET_IFACE (object)->get_can_suspend (object);
+}
+
+/**
+ * up_client_glue_set_can_suspend: (skip)
+ * @object: A #UpClientGlue.
+ * @value: The value to set.
+ *
+ * Sets the <link linkend="gdbus-property-org-freedesktop-UPower.CanSuspend">"CanSuspend"</link> D-Bus property to @value.
+ *
+ * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
+ */
+void
+up_client_glue_set_can_suspend (UpClientGlue *object, gboolean value)
+{
+  g_object_set (G_OBJECT (object), "can-suspend", value, NULL);
+}
+
+/**
+ * up_client_glue_get_can_hibernate: (skip)
+ * @object: A #UpClientGlue.
+ *
+ * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower.CanHibernate">"CanHibernate"</link> D-Bus property.
+ *
+ * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
+ *
+ * Returns: The property value.
+ */
+gboolean 
+up_client_glue_get_can_hibernate (UpClientGlue *object)
+{
+  return UP_CLIENT_GLUE_GET_IFACE (object)->get_can_hibernate (object);
+}
+
+/**
+ * up_client_glue_set_can_hibernate: (skip)
+ * @object: A #UpClientGlue.
+ * @value: The value to set.
+ *
+ * Sets the <link linkend="gdbus-property-org-freedesktop-UPower.CanHibernate">"CanHibernate"</link> D-Bus property to @value.
+ *
+ * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
+ */
+void
+up_client_glue_set_can_hibernate (UpClientGlue *object, gboolean value)
+{
+  g_object_set (G_OBJECT (object), "can-hibernate", value, NULL);
+}
+
+/**
  * up_client_glue_get_on_battery: (skip)
  * @object: A #UpClientGlue.
  *
@@ -819,6 +1423,37 @@
 }
 
 /**
+ * up_client_glue_get_lid_force_sleep: (skip)
+ * @object: A #UpClientGlue.
+ *
+ * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower.LidForceSleep">"LidForceSleep"</link> D-Bus property.
+ *
+ * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
+ *
+ * Returns: The property value.
+ */
+gboolean 
+up_client_glue_get_lid_force_sleep (UpClientGlue *object)
+{
+  return UP_CLIENT_GLUE_GET_IFACE (object)->get_lid_force_sleep (object);
+}
+
+/**
+ * up_client_glue_set_lid_force_sleep: (skip)
+ * @object: A #UpClientGlue.
+ * @value: The value to set.
+ *
+ * Sets the <link linkend="gdbus-property-org-freedesktop-UPower.LidForceSleep">"LidForceSleep"</link> D-Bus property to @value.
+ *
+ * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
+ */
+void
+up_client_glue_set_lid_force_sleep (UpClientGlue *object, gboolean value)
+{
+  g_object_set (G_OBJECT (object), "lid-force-sleep", value, NULL);
+}
+
+/**
  * up_client_glue_get_is_docked: (skip)
  * @object: A #UpClientGlue.
  *
@@ -880,21 +1515,77 @@
 }
 
 /**
- * up_client_glue_call_enumerate_devices:
- * @proxy: A #UpClientGlueProxy.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
- * @user_data: User data to pass to @callback.
- *
- * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.EnumerateDevices">EnumerateDevices()</link> D-Bus method on @proxy.
- * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
- * You can then call up_client_glue_call_enumerate_devices_finish() to get the result of the operation.
+ * up_client_glue_emit_sleeping:
+ * @object: A #UpClientGlue.
  *
- * See up_client_glue_call_enumerate_devices_sync() for the synchronous, blocking version of this method.
+ * Emits the <link linkend="gdbus-signal-org-freedesktop-UPower.Sleeping">"Sleeping"</link> D-Bus signal.
  */
 void
-up_client_glue_call_enumerate_devices (
-    UpClientGlue *proxy,
+up_client_glue_emit_sleeping (
+    UpClientGlue *object)
+{
+  g_signal_emit_by_name (object, "sleeping");
+}
+
+/**
+ * up_client_glue_emit_notify_sleep:
+ * @object: A #UpClientGlue.
+ * @arg_action: Argument to pass with the signal.
+ *
+ * Emits the <link linkend="gdbus-signal-org-freedesktop-UPower.NotifySleep">"NotifySleep"</link> D-Bus signal.
+ */
+void
+up_client_glue_emit_notify_sleep (
+    UpClientGlue *object,
+    const gchar *arg_action)
+{
+  g_signal_emit_by_name (object, "notify-sleep", arg_action);
+}
+
+/**
+ * up_client_glue_emit_resuming:
+ * @object: A #UpClientGlue.
+ *
+ * Emits the <link linkend="gdbus-signal-org-freedesktop-UPower.Resuming">"Resuming"</link> D-Bus signal.
+ */
+void
+up_client_glue_emit_resuming (
+    UpClientGlue *object)
+{
+  g_signal_emit_by_name (object, "resuming");
+}
+
+/**
+ * up_client_glue_emit_notify_resume:
+ * @object: A #UpClientGlue.
+ * @arg_action: Argument to pass with the signal.
+ *
+ * Emits the <link linkend="gdbus-signal-org-freedesktop-UPower.NotifyResume">"NotifyResume"</link> D-Bus signal.
+ */
+void
+up_client_glue_emit_notify_resume (
+    UpClientGlue *object,
+    const gchar *arg_action)
+{
+  g_signal_emit_by_name (object, "notify-resume", arg_action);
+}
+
+/**
+ * up_client_glue_call_enumerate_devices:
+ * @proxy: A #UpClientGlueProxy.
+ * @cancellable: (allow-none): A #GCancellable or %NULL.
+ * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
+ * @user_data: User data to pass to @callback.
+ *
+ * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.EnumerateDevices">EnumerateDevices()</link> D-Bus method on @proxy.
+ * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
+ * You can then call up_client_glue_call_enumerate_devices_finish() to get the result of the operation.
+ *
+ * See up_client_glue_call_enumerate_devices_sync() for the synchronous, blocking version of this method.
+ */
+void
+up_client_glue_call_enumerate_devices (
+    UpClientGlue *proxy,
     GCancellable *cancellable,
     GAsyncReadyCallback callback,
     gpointer user_data)
@@ -998,7 +1689,491 @@
     gpointer user_data)
 {
   g_dbus_proxy_call (G_DBUS_PROXY (proxy),
-    "GetDisplayDevice",
+    "GetDisplayDevice",
+    g_variant_new ("()"),
+    G_DBUS_CALL_FLAGS_NONE,
+    -1,
+    cancellable,
+    callback,
+    user_data);
+}
+
+/**
+ * up_client_glue_call_get_display_device_finish:
+ * @proxy: A #UpClientGlueProxy.
+ * @out_device: (out): Return location for return parameter or %NULL to ignore.
+ * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_client_glue_call_get_display_device().
+ * @error: Return location for error or %NULL.
+ *
+ * Finishes an operation started with up_client_glue_call_get_display_device().
+ *
+ * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
+ */
+gboolean
+up_client_glue_call_get_display_device_finish (
+    UpClientGlue *proxy,
+    gchar **out_device,
+    GAsyncResult *res,
+    GError **error)
+{
+  GVariant *_ret;
+  _ret = g_dbus_proxy_call_finish (G_DBUS_PROXY (proxy), res, error);
+  if (_ret == NULL)
+    goto _out;
+  g_variant_get (_ret,
+                 "(o)",
+                 out_device);
+  g_variant_unref (_ret);
+_out:
+  return _ret != NULL;
+}
+
+/**
+ * up_client_glue_call_get_display_device_sync:
+ * @proxy: A #UpClientGlueProxy.
+ * @out_device: (out): Return location for return parameter or %NULL to ignore.
+ * @cancellable: (allow-none): A #GCancellable or %NULL.
+ * @error: Return location for error or %NULL.
+ *
+ * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.GetDisplayDevice">GetDisplayDevice()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
+ *
+ * See up_client_glue_call_get_display_device() for the asynchronous version of this method.
+ *
+ * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
+ */
+gboolean
+up_client_glue_call_get_display_device_sync (
+    UpClientGlue *proxy,
+    gchar **out_device,
+    GCancellable *cancellable,
+    GError **error)
+{
+  GVariant *_ret;
+  _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
+    "GetDisplayDevice",
+    g_variant_new ("()"),
+    G_DBUS_CALL_FLAGS_NONE,
+    -1,
+    cancellable,
+    error);
+  if (_ret == NULL)
+    goto _out;
+  g_variant_get (_ret,
+                 "(o)",
+                 out_device);
+  g_variant_unref (_ret);
+_out:
+  return _ret != NULL;
+}
+
+/**
+ * up_client_glue_call_get_critical_action:
+ * @proxy: A #UpClientGlueProxy.
+ * @cancellable: (allow-none): A #GCancellable or %NULL.
+ * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
+ * @user_data: User data to pass to @callback.
+ *
+ * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.GetCriticalAction">GetCriticalAction()</link> D-Bus method on @proxy.
+ * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
+ * You can then call up_client_glue_call_get_critical_action_finish() to get the result of the operation.
+ *
+ * See up_client_glue_call_get_critical_action_sync() for the synchronous, blocking version of this method.
+ */
+void
+up_client_glue_call_get_critical_action (
+    UpClientGlue *proxy,
+    GCancellable *cancellable,
+    GAsyncReadyCallback callback,
+    gpointer user_data)
+{
+  g_dbus_proxy_call (G_DBUS_PROXY (proxy),
+    "GetCriticalAction",
+    g_variant_new ("()"),
+    G_DBUS_CALL_FLAGS_NONE,
+    -1,
+    cancellable,
+    callback,
+    user_data);
+}
+
+/**
+ * up_client_glue_call_get_critical_action_finish:
+ * @proxy: A #UpClientGlueProxy.
+ * @out_action: (out): Return location for return parameter or %NULL to ignore.
+ * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_client_glue_call_get_critical_action().
+ * @error: Return location for error or %NULL.
+ *
+ * Finishes an operation started with up_client_glue_call_get_critical_action().
+ *
+ * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
+ */
+gboolean
+up_client_glue_call_get_critical_action_finish (
+    UpClientGlue *proxy,
+    gchar **out_action,
+    GAsyncResult *res,
+    GError **error)
+{
+  GVariant *_ret;
+  _ret = g_dbus_proxy_call_finish (G_DBUS_PROXY (proxy), res, error);
+  if (_ret == NULL)
+    goto _out;
+  g_variant_get (_ret,
+                 "(s)",
+                 out_action);
+  g_variant_unref (_ret);
+_out:
+  return _ret != NULL;
+}
+
+/**
+ * up_client_glue_call_get_critical_action_sync:
+ * @proxy: A #UpClientGlueProxy.
+ * @out_action: (out): Return location for return parameter or %NULL to ignore.
+ * @cancellable: (allow-none): A #GCancellable or %NULL.
+ * @error: Return location for error or %NULL.
+ *
+ * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.GetCriticalAction">GetCriticalAction()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
+ *
+ * See up_client_glue_call_get_critical_action() for the asynchronous version of this method.
+ *
+ * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
+ */
+gboolean
+up_client_glue_call_get_critical_action_sync (
+    UpClientGlue *proxy,
+    gchar **out_action,
+    GCancellable *cancellable,
+    GError **error)
+{
+  GVariant *_ret;
+  _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
+    "GetCriticalAction",
+    g_variant_new ("()"),
+    G_DBUS_CALL_FLAGS_NONE,
+    -1,
+    cancellable,
+    error);
+  if (_ret == NULL)
+    goto _out;
+  g_variant_get (_ret,
+                 "(s)",
+                 out_action);
+  g_variant_unref (_ret);
+_out:
+  return _ret != NULL;
+}
+
+/**
+ * up_client_glue_call_about_to_sleep:
+ * @proxy: A #UpClientGlueProxy.
+ * @arg_action: Argument to pass with the method invocation.
+ * @cancellable: (allow-none): A #GCancellable or %NULL.
+ * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
+ * @user_data: User data to pass to @callback.
+ *
+ * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.AboutToSleep">AboutToSleep()</link> D-Bus method on @proxy.
+ * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
+ * You can then call up_client_glue_call_about_to_sleep_finish() to get the result of the operation.
+ *
+ * See up_client_glue_call_about_to_sleep_sync() for the synchronous, blocking version of this method.
+ */
+void
+up_client_glue_call_about_to_sleep (
+    UpClientGlue *proxy,
+    const gchar *arg_action,
+    GCancellable *cancellable,
+    GAsyncReadyCallback callback,
+    gpointer user_data)
+{
+  g_dbus_proxy_call (G_DBUS_PROXY (proxy),
+    "AboutToSleep",
+    g_variant_new ("(s)",
+                   arg_action),
+    G_DBUS_CALL_FLAGS_NONE,
+    -1,
+    cancellable,
+    callback,
+    user_data);
+}
+
+/**
+ * up_client_glue_call_about_to_sleep_finish:
+ * @proxy: A #UpClientGlueProxy.
+ * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_client_glue_call_about_to_sleep().
+ * @error: Return location for error or %NULL.
+ *
+ * Finishes an operation started with up_client_glue_call_about_to_sleep().
+ *
+ * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
+ */
+gboolean
+up_client_glue_call_about_to_sleep_finish (
+    UpClientGlue *proxy,
+    GAsyncResult *res,
+    GError **error)
+{
+  GVariant *_ret;
+  _ret = g_dbus_proxy_call_finish (G_DBUS_PROXY (proxy), res, error);
+  if (_ret == NULL)
+    goto _out;
+  g_variant_get (_ret,
+                 "()");
+  g_variant_unref (_ret);
+_out:
+  return _ret != NULL;
+}
+
+/**
+ * up_client_glue_call_about_to_sleep_sync:
+ * @proxy: A #UpClientGlueProxy.
+ * @arg_action: Argument to pass with the method invocation.
+ * @cancellable: (allow-none): A #GCancellable or %NULL.
+ * @error: Return location for error or %NULL.
+ *
+ * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.AboutToSleep">AboutToSleep()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
+ *
+ * See up_client_glue_call_about_to_sleep() for the asynchronous version of this method.
+ *
+ * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
+ */
+gboolean
+up_client_glue_call_about_to_sleep_sync (
+    UpClientGlue *proxy,
+    const gchar *arg_action,
+    GCancellable *cancellable,
+    GError **error)
+{
+  GVariant *_ret;
+  _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
+    "AboutToSleep",
+    g_variant_new ("(s)",
+                   arg_action),
+    G_DBUS_CALL_FLAGS_NONE,
+    -1,
+    cancellable,
+    error);
+  if (_ret == NULL)
+    goto _out;
+  g_variant_get (_ret,
+                 "()");
+  g_variant_unref (_ret);
+_out:
+  return _ret != NULL;
+}
+
+/**
+ * up_client_glue_call_suspend:
+ * @proxy: A #UpClientGlueProxy.
+ * @cancellable: (allow-none): A #GCancellable or %NULL.
+ * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
+ * @user_data: User data to pass to @callback.
+ *
+ * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.Suspend">Suspend()</link> D-Bus method on @proxy.
+ * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
+ * You can then call up_client_glue_call_suspend_finish() to get the result of the operation.
+ *
+ * See up_client_glue_call_suspend_sync() for the synchronous, blocking version of this method.
+ */
+void
+up_client_glue_call_suspend (
+    UpClientGlue *proxy,
+    GCancellable *cancellable,
+    GAsyncReadyCallback callback,
+    gpointer user_data)
+{
+  g_dbus_proxy_call (G_DBUS_PROXY (proxy),
+    "Suspend",
+    g_variant_new ("()"),
+    G_DBUS_CALL_FLAGS_NONE,
+    -1,
+    cancellable,
+    callback,
+    user_data);
+}
+
+/**
+ * up_client_glue_call_suspend_finish:
+ * @proxy: A #UpClientGlueProxy.
+ * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_client_glue_call_suspend().
+ * @error: Return location for error or %NULL.
+ *
+ * Finishes an operation started with up_client_glue_call_suspend().
+ *
+ * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
+ */
+gboolean
+up_client_glue_call_suspend_finish (
+    UpClientGlue *proxy,
+    GAsyncResult *res,
+    GError **error)
+{
+  GVariant *_ret;
+  _ret = g_dbus_proxy_call_finish (G_DBUS_PROXY (proxy), res, error);
+  if (_ret == NULL)
+    goto _out;
+  g_variant_get (_ret,
+                 "()");
+  g_variant_unref (_ret);
+_out:
+  return _ret != NULL;
+}
+
+/**
+ * up_client_glue_call_suspend_sync:
+ * @proxy: A #UpClientGlueProxy.
+ * @cancellable: (allow-none): A #GCancellable or %NULL.
+ * @error: Return location for error or %NULL.
+ *
+ * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.Suspend">Suspend()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
+ *
+ * See up_client_glue_call_suspend() for the asynchronous version of this method.
+ *
+ * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
+ */
+gboolean
+up_client_glue_call_suspend_sync (
+    UpClientGlue *proxy,
+    GCancellable *cancellable,
+    GError **error)
+{
+  GVariant *_ret;
+  _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
+    "Suspend",
+    g_variant_new ("()"),
+    G_DBUS_CALL_FLAGS_NONE,
+    -1,
+    cancellable,
+    error);
+  if (_ret == NULL)
+    goto _out;
+  g_variant_get (_ret,
+                 "()");
+  g_variant_unref (_ret);
+_out:
+  return _ret != NULL;
+}
+
+/**
+ * up_client_glue_call_suspend_allowed:
+ * @proxy: A #UpClientGlueProxy.
+ * @cancellable: (allow-none): A #GCancellable or %NULL.
+ * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
+ * @user_data: User data to pass to @callback.
+ *
+ * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.SuspendAllowed">SuspendAllowed()</link> D-Bus method on @proxy.
+ * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
+ * You can then call up_client_glue_call_suspend_allowed_finish() to get the result of the operation.
+ *
+ * See up_client_glue_call_suspend_allowed_sync() for the synchronous, blocking version of this method.
+ */
+void
+up_client_glue_call_suspend_allowed (
+    UpClientGlue *proxy,
+    GCancellable *cancellable,
+    GAsyncReadyCallback callback,
+    gpointer user_data)
+{
+  g_dbus_proxy_call (G_DBUS_PROXY (proxy),
+    "SuspendAllowed",
+    g_variant_new ("()"),
+    G_DBUS_CALL_FLAGS_NONE,
+    -1,
+    cancellable,
+    callback,
+    user_data);
+}
+
+/**
+ * up_client_glue_call_suspend_allowed_finish:
+ * @proxy: A #UpClientGlueProxy.
+ * @out_allowed: (out): Return location for return parameter or %NULL to ignore.
+ * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_client_glue_call_suspend_allowed().
+ * @error: Return location for error or %NULL.
+ *
+ * Finishes an operation started with up_client_glue_call_suspend_allowed().
+ *
+ * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
+ */
+gboolean
+up_client_glue_call_suspend_allowed_finish (
+    UpClientGlue *proxy,
+    gboolean *out_allowed,
+    GAsyncResult *res,
+    GError **error)
+{
+  GVariant *_ret;
+  _ret = g_dbus_proxy_call_finish (G_DBUS_PROXY (proxy), res, error);
+  if (_ret == NULL)
+    goto _out;
+  g_variant_get (_ret,
+                 "(b)",
+                 out_allowed);
+  g_variant_unref (_ret);
+_out:
+  return _ret != NULL;
+}
+
+/**
+ * up_client_glue_call_suspend_allowed_sync:
+ * @proxy: A #UpClientGlueProxy.
+ * @out_allowed: (out): Return location for return parameter or %NULL to ignore.
+ * @cancellable: (allow-none): A #GCancellable or %NULL.
+ * @error: Return location for error or %NULL.
+ *
+ * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.SuspendAllowed">SuspendAllowed()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
+ *
+ * See up_client_glue_call_suspend_allowed() for the asynchronous version of this method.
+ *
+ * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
+ */
+gboolean
+up_client_glue_call_suspend_allowed_sync (
+    UpClientGlue *proxy,
+    gboolean *out_allowed,
+    GCancellable *cancellable,
+    GError **error)
+{
+  GVariant *_ret;
+  _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
+    "SuspendAllowed",
+    g_variant_new ("()"),
+    G_DBUS_CALL_FLAGS_NONE,
+    -1,
+    cancellable,
+    error);
+  if (_ret == NULL)
+    goto _out;
+  g_variant_get (_ret,
+                 "(b)",
+                 out_allowed);
+  g_variant_unref (_ret);
+_out:
+  return _ret != NULL;
+}
+
+/**
+ * up_client_glue_call_hibernate:
+ * @proxy: A #UpClientGlueProxy.
+ * @cancellable: (allow-none): A #GCancellable or %NULL.
+ * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
+ * @user_data: User data to pass to @callback.
+ *
+ * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.Hibernate">Hibernate()</link> D-Bus method on @proxy.
+ * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
+ * You can then call up_client_glue_call_hibernate_finish() to get the result of the operation.
+ *
+ * See up_client_glue_call_hibernate_sync() for the synchronous, blocking version of this method.
+ */
+void
+up_client_glue_call_hibernate (
+    UpClientGlue *proxy,
+    GCancellable *cancellable,
+    GAsyncReadyCallback callback,
+    gpointer user_data)
+{
+  g_dbus_proxy_call (G_DBUS_PROXY (proxy),
+    "Hibernate",
     g_variant_new ("()"),
     G_DBUS_CALL_FLAGS_NONE,
     -1,
@@ -1008,20 +2183,18 @@
 }
 
 /**
- * up_client_glue_call_get_display_device_finish:
+ * up_client_glue_call_hibernate_finish:
  * @proxy: A #UpClientGlueProxy.
- * @out_device: (out): Return location for return parameter or %NULL to ignore.
- * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_client_glue_call_get_display_device().
+ * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_client_glue_call_hibernate().
  * @error: Return location for error or %NULL.
  *
- * Finishes an operation started with up_client_glue_call_get_display_device().
+ * Finishes an operation started with up_client_glue_call_hibernate().
  *
  * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
  */
 gboolean
-up_client_glue_call_get_display_device_finish (
+up_client_glue_call_hibernate_finish (
     UpClientGlue *proxy,
-    gchar **out_device,
     GAsyncResult *res,
     GError **error)
 {
@@ -1030,36 +2203,33 @@
   if (_ret == NULL)
     goto _out;
   g_variant_get (_ret,
-                 "(o)",
-                 out_device);
+                 "()");
   g_variant_unref (_ret);
 _out:
   return _ret != NULL;
 }
 
 /**
- * up_client_glue_call_get_display_device_sync:
+ * up_client_glue_call_hibernate_sync:
  * @proxy: A #UpClientGlueProxy.
- * @out_device: (out): Return location for return parameter or %NULL to ignore.
  * @cancellable: (allow-none): A #GCancellable or %NULL.
  * @error: Return location for error or %NULL.
  *
- * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.GetDisplayDevice">GetDisplayDevice()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
+ * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.Hibernate">Hibernate()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
  *
- * See up_client_glue_call_get_display_device() for the asynchronous version of this method.
+ * See up_client_glue_call_hibernate() for the asynchronous version of this method.
  *
  * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
  */
 gboolean
-up_client_glue_call_get_display_device_sync (
+up_client_glue_call_hibernate_sync (
     UpClientGlue *proxy,
-    gchar **out_device,
     GCancellable *cancellable,
     GError **error)
 {
   GVariant *_ret;
   _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
-    "GetDisplayDevice",
+    "Hibernate",
     g_variant_new ("()"),
     G_DBUS_CALL_FLAGS_NONE,
     -1,
@@ -1068,35 +2238,34 @@
   if (_ret == NULL)
     goto _out;
   g_variant_get (_ret,
-                 "(o)",
-                 out_device);
+                 "()");
   g_variant_unref (_ret);
 _out:
   return _ret != NULL;
 }
 
 /**
- * up_client_glue_call_get_critical_action:
+ * up_client_glue_call_hibernate_allowed:
  * @proxy: A #UpClientGlueProxy.
  * @cancellable: (allow-none): A #GCancellable or %NULL.
  * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
  * @user_data: User data to pass to @callback.
  *
- * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.GetCriticalAction">GetCriticalAction()</link> D-Bus method on @proxy.
+ * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.HibernateAllowed">HibernateAllowed()</link> D-Bus method on @proxy.
  * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
- * You can then call up_client_glue_call_get_critical_action_finish() to get the result of the operation.
+ * You can then call up_client_glue_call_hibernate_allowed_finish() to get the result of the operation.
  *
- * See up_client_glue_call_get_critical_action_sync() for the synchronous, blocking version of this method.
+ * See up_client_glue_call_hibernate_allowed_sync() for the synchronous, blocking version of this method.
  */
 void
-up_client_glue_call_get_critical_action (
+up_client_glue_call_hibernate_allowed (
     UpClientGlue *proxy,
     GCancellable *cancellable,
     GAsyncReadyCallback callback,
     gpointer user_data)
 {
   g_dbus_proxy_call (G_DBUS_PROXY (proxy),
-    "GetCriticalAction",
+    "HibernateAllowed",
     g_variant_new ("()"),
     G_DBUS_CALL_FLAGS_NONE,
     -1,
@@ -1106,20 +2275,20 @@
 }
 
 /**
- * up_client_glue_call_get_critical_action_finish:
+ * up_client_glue_call_hibernate_allowed_finish:
  * @proxy: A #UpClientGlueProxy.
- * @out_action: (out): Return location for return parameter or %NULL to ignore.
- * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_client_glue_call_get_critical_action().
+ * @out_allowed: (out): Return location for return parameter or %NULL to ignore.
+ * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_client_glue_call_hibernate_allowed().
  * @error: Return location for error or %NULL.
  *
- * Finishes an operation started with up_client_glue_call_get_critical_action().
+ * Finishes an operation started with up_client_glue_call_hibernate_allowed().
  *
  * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
  */
 gboolean
-up_client_glue_call_get_critical_action_finish (
+up_client_glue_call_hibernate_allowed_finish (
     UpClientGlue *proxy,
-    gchar **out_action,
+    gboolean *out_allowed,
     GAsyncResult *res,
     GError **error)
 {
@@ -1128,36 +2297,36 @@
   if (_ret == NULL)
     goto _out;
   g_variant_get (_ret,
-                 "(s)",
-                 out_action);
+                 "(b)",
+                 out_allowed);
   g_variant_unref (_ret);
 _out:
   return _ret != NULL;
 }
 
 /**
- * up_client_glue_call_get_critical_action_sync:
+ * up_client_glue_call_hibernate_allowed_sync:
  * @proxy: A #UpClientGlueProxy.
- * @out_action: (out): Return location for return parameter or %NULL to ignore.
+ * @out_allowed: (out): Return location for return parameter or %NULL to ignore.
  * @cancellable: (allow-none): A #GCancellable or %NULL.
  * @error: Return location for error or %NULL.
  *
- * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.GetCriticalAction">GetCriticalAction()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
+ * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower.HibernateAllowed">HibernateAllowed()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
  *
- * See up_client_glue_call_get_critical_action() for the asynchronous version of this method.
+ * See up_client_glue_call_hibernate_allowed() for the asynchronous version of this method.
  *
  * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
  */
 gboolean
-up_client_glue_call_get_critical_action_sync (
+up_client_glue_call_hibernate_allowed_sync (
     UpClientGlue *proxy,
-    gchar **out_action,
+    gboolean *out_allowed,
     GCancellable *cancellable,
     GError **error)
 {
   GVariant *_ret;
   _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
-    "GetCriticalAction",
+    "HibernateAllowed",
     g_variant_new ("()"),
     G_DBUS_CALL_FLAGS_NONE,
     -1,
@@ -1166,8 +2335,8 @@
   if (_ret == NULL)
     goto _out;
   g_variant_get (_ret,
-                 "(s)",
-                 out_action);
+                 "(b)",
+                 out_allowed);
   g_variant_unref (_ret);
 _out:
   return _ret != NULL;
@@ -1236,6 +2405,102 @@
                    action));
 }
 
+/**
+ * up_client_glue_complete_about_to_sleep:
+ * @object: A #UpClientGlue.
+ * @invocation: (transfer full): A #GDBusMethodInvocation.
+ *
+ * Helper function used in service implementations to finish handling invocations of the <link linkend="gdbus-method-org-freedesktop-UPower.AboutToSleep">AboutToSleep()</link> D-Bus method. If you instead want to finish handling an invocation by returning an error, use g_dbus_method_invocation_return_error() or similar.
+ *
+ * This method will free @invocation, you cannot use it afterwards.
+ */
+void
+up_client_glue_complete_about_to_sleep (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation)
+{
+  g_dbus_method_invocation_return_value (invocation,
+    g_variant_new ("()"));
+}
+
+/**
+ * up_client_glue_complete_suspend:
+ * @object: A #UpClientGlue.
+ * @invocation: (transfer full): A #GDBusMethodInvocation.
+ *
+ * Helper function used in service implementations to finish handling invocations of the <link linkend="gdbus-method-org-freedesktop-UPower.Suspend">Suspend()</link> D-Bus method. If you instead want to finish handling an invocation by returning an error, use g_dbus_method_invocation_return_error() or similar.
+ *
+ * This method will free @invocation, you cannot use it afterwards.
+ */
+void
+up_client_glue_complete_suspend (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation)
+{
+  g_dbus_method_invocation_return_value (invocation,
+    g_variant_new ("()"));
+}
+
+/**
+ * up_client_glue_complete_suspend_allowed:
+ * @object: A #UpClientGlue.
+ * @invocation: (transfer full): A #GDBusMethodInvocation.
+ * @allowed: Parameter to return.
+ *
+ * Helper function used in service implementations to finish handling invocations of the <link linkend="gdbus-method-org-freedesktop-UPower.SuspendAllowed">SuspendAllowed()</link> D-Bus method. If you instead want to finish handling an invocation by returning an error, use g_dbus_method_invocation_return_error() or similar.
+ *
+ * This method will free @invocation, you cannot use it afterwards.
+ */
+void
+up_client_glue_complete_suspend_allowed (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation,
+    gboolean allowed)
+{
+  g_dbus_method_invocation_return_value (invocation,
+    g_variant_new ("(b)",
+                   allowed));
+}
+
+/**
+ * up_client_glue_complete_hibernate:
+ * @object: A #UpClientGlue.
+ * @invocation: (transfer full): A #GDBusMethodInvocation.
+ *
+ * Helper function used in service implementations to finish handling invocations of the <link linkend="gdbus-method-org-freedesktop-UPower.Hibernate">Hibernate()</link> D-Bus method. If you instead want to finish handling an invocation by returning an error, use g_dbus_method_invocation_return_error() or similar.
+ *
+ * This method will free @invocation, you cannot use it afterwards.
+ */
+void
+up_client_glue_complete_hibernate (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation)
+{
+  g_dbus_method_invocation_return_value (invocation,
+    g_variant_new ("()"));
+}
+
+/**
+ * up_client_glue_complete_hibernate_allowed:
+ * @object: A #UpClientGlue.
+ * @invocation: (transfer full): A #GDBusMethodInvocation.
+ * @allowed: Parameter to return.
+ *
+ * Helper function used in service implementations to finish handling invocations of the <link linkend="gdbus-method-org-freedesktop-UPower.HibernateAllowed">HibernateAllowed()</link> D-Bus method. If you instead want to finish handling an invocation by returning an error, use g_dbus_method_invocation_return_error() or similar.
+ *
+ * This method will free @invocation, you cannot use it afterwards.
+ */
+void
+up_client_glue_complete_hibernate_allowed (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation,
+    gboolean allowed)
+{
+  g_dbus_method_invocation_return_value (invocation,
+    g_variant_new ("(b)",
+                   allowed));
+}
+
 /* ------------------------------------------------------------------------ */
 
 /**
@@ -1278,7 +2543,7 @@
 {
   const _ExtendedGDBusPropertyInfo *info;
   GVariant *variant;
-  g_assert (prop_id != 0 && prop_id - 1 < 5);
+  g_assert (prop_id != 0 && prop_id - 1 < 8);
   info = _up_client_glue_property_info_pointers[prop_id - 1];
   variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (object), info->parent_struct.name);
   if (info->use_gvariant)
@@ -1319,7 +2584,7 @@
 {
   const _ExtendedGDBusPropertyInfo *info;
   GVariant *variant;
-  g_assert (prop_id != 0 && prop_id - 1 < 5);
+  g_assert (prop_id != 0 && prop_id - 1 < 8);
   info = _up_client_glue_property_info_pointers[prop_id - 1];
   variant = g_dbus_gvalue_to_gvariant (value, G_VARIANT_TYPE (info->parent_struct.signature));
   g_dbus_proxy_call (G_DBUS_PROXY (object),
@@ -1417,6 +2682,36 @@
 }
 
 static gboolean 
+up_client_glue_proxy_get_can_suspend (UpClientGlue *object)
+{
+  UpClientGlueProxy *proxy = UP_CLIENT_GLUE_PROXY (object);
+  GVariant *variant;
+  gboolean value = 0;
+  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "CanSuspend");
+  if (variant != NULL)
+    {
+      value = g_variant_get_boolean (variant);
+      g_variant_unref (variant);
+    }
+  return value;
+}
+
+static gboolean 
+up_client_glue_proxy_get_can_hibernate (UpClientGlue *object)
+{
+  UpClientGlueProxy *proxy = UP_CLIENT_GLUE_PROXY (object);
+  GVariant *variant;
+  gboolean value = 0;
+  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "CanHibernate");
+  if (variant != NULL)
+    {
+      value = g_variant_get_boolean (variant);
+      g_variant_unref (variant);
+    }
+  return value;
+}
+
+static gboolean 
 up_client_glue_proxy_get_on_battery (UpClientGlue *object)
 {
   UpClientGlueProxy *proxy = UP_CLIENT_GLUE_PROXY (object);
@@ -1462,6 +2757,21 @@
 }
 
 static gboolean 
+up_client_glue_proxy_get_lid_force_sleep (UpClientGlue *object)
+{
+  UpClientGlueProxy *proxy = UP_CLIENT_GLUE_PROXY (object);
+  GVariant *variant;
+  gboolean value = 0;
+  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "LidForceSleep");
+  if (variant != NULL)
+    {
+      value = g_variant_get_boolean (variant);
+      g_variant_unref (variant);
+    }
+  return value;
+}
+
+static gboolean 
 up_client_glue_proxy_get_is_docked (UpClientGlue *object)
 {
   UpClientGlueProxy *proxy = UP_CLIENT_GLUE_PROXY (object);
@@ -1506,9 +2816,12 @@
 up_client_glue_proxy_iface_init (UpClientGlueIface *iface)
 {
   iface->get_daemon_version = up_client_glue_proxy_get_daemon_version;
+  iface->get_can_suspend = up_client_glue_proxy_get_can_suspend;
+  iface->get_can_hibernate = up_client_glue_proxy_get_can_hibernate;
   iface->get_on_battery = up_client_glue_proxy_get_on_battery;
   iface->get_lid_is_closed = up_client_glue_proxy_get_lid_is_closed;
   iface->get_lid_is_present = up_client_glue_proxy_get_lid_is_present;
+  iface->get_lid_force_sleep = up_client_glue_proxy_get_lid_force_sleep;
   iface->get_is_docked = up_client_glue_proxy_get_is_docked;
 }
 
@@ -1968,6 +3281,98 @@
   g_list_free_full (connections, g_object_unref);
 }
 
+static void
+_up_client_glue_on_signal_sleeping (
+    UpClientGlue *object)
+{
+  UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
+
+  GList      *connections, *l;
+  GVariant   *signal_variant;
+  connections = g_dbus_interface_skeleton_get_connections (G_DBUS_INTERFACE_SKELETON (skeleton));
+
+  signal_variant = g_variant_ref_sink (g_variant_new ("()"));
+  for (l = connections; l != NULL; l = l->next)
+    {
+      GDBusConnection *connection = l->data;
+      g_dbus_connection_emit_signal (connection,
+        NULL, g_dbus_interface_skeleton_get_object_path (G_DBUS_INTERFACE_SKELETON (skeleton)), "org.freedesktop.UPower", "Sleeping",
+        signal_variant, NULL);
+    }
+  g_variant_unref (signal_variant);
+  g_list_free_full (connections, g_object_unref);
+}
+
+static void
+_up_client_glue_on_signal_notify_sleep (
+    UpClientGlue *object,
+    const gchar *arg_action)
+{
+  UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
+
+  GList      *connections, *l;
+  GVariant   *signal_variant;
+  connections = g_dbus_interface_skeleton_get_connections (G_DBUS_INTERFACE_SKELETON (skeleton));
+
+  signal_variant = g_variant_ref_sink (g_variant_new ("(s)",
+                   arg_action));
+  for (l = connections; l != NULL; l = l->next)
+    {
+      GDBusConnection *connection = l->data;
+      g_dbus_connection_emit_signal (connection,
+        NULL, g_dbus_interface_skeleton_get_object_path (G_DBUS_INTERFACE_SKELETON (skeleton)), "org.freedesktop.UPower", "NotifySleep",
+        signal_variant, NULL);
+    }
+  g_variant_unref (signal_variant);
+  g_list_free_full (connections, g_object_unref);
+}
+
+static void
+_up_client_glue_on_signal_resuming (
+    UpClientGlue *object)
+{
+  UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
+
+  GList      *connections, *l;
+  GVariant   *signal_variant;
+  connections = g_dbus_interface_skeleton_get_connections (G_DBUS_INTERFACE_SKELETON (skeleton));
+
+  signal_variant = g_variant_ref_sink (g_variant_new ("()"));
+  for (l = connections; l != NULL; l = l->next)
+    {
+      GDBusConnection *connection = l->data;
+      g_dbus_connection_emit_signal (connection,
+        NULL, g_dbus_interface_skeleton_get_object_path (G_DBUS_INTERFACE_SKELETON (skeleton)), "org.freedesktop.UPower", "Resuming",
+        signal_variant, NULL);
+    }
+  g_variant_unref (signal_variant);
+  g_list_free_full (connections, g_object_unref);
+}
+
+static void
+_up_client_glue_on_signal_notify_resume (
+    UpClientGlue *object,
+    const gchar *arg_action)
+{
+  UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
+
+  GList      *connections, *l;
+  GVariant   *signal_variant;
+  connections = g_dbus_interface_skeleton_get_connections (G_DBUS_INTERFACE_SKELETON (skeleton));
+
+  signal_variant = g_variant_ref_sink (g_variant_new ("(s)",
+                   arg_action));
+  for (l = connections; l != NULL; l = l->next)
+    {
+      GDBusConnection *connection = l->data;
+      g_dbus_connection_emit_signal (connection,
+        NULL, g_dbus_interface_skeleton_get_object_path (G_DBUS_INTERFACE_SKELETON (skeleton)), "org.freedesktop.UPower", "NotifyResume",
+        signal_variant, NULL);
+    }
+  g_variant_unref (signal_variant);
+  g_list_free_full (connections, g_object_unref);
+}
+
 static void up_client_glue_skeleton_iface_init (UpClientGlueIface *iface);
 G_DEFINE_TYPE_WITH_CODE (UpClientGlueSkeleton, up_client_glue_skeleton, G_TYPE_DBUS_INTERFACE_SKELETON,
                          G_ADD_PRIVATE (UpClientGlueSkeleton)
@@ -1978,7 +3383,7 @@
 {
   UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
   guint n;
-  for (n = 0; n < 5; n++)
+  for (n = 0; n < 8; n++)
     g_value_unset (&skeleton->priv->properties[n]);
   g_free (skeleton->priv->properties);
   g_list_free_full (skeleton->priv->changed_properties, (GDestroyNotify) _changed_property_free);
@@ -1996,7 +3401,7 @@
   GParamSpec   *pspec G_GNUC_UNUSED)
 {
   UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
-  g_assert (prop_id != 0 && prop_id - 1 < 5);
+  g_assert (prop_id != 0 && prop_id - 1 < 8);
   g_mutex_lock (&skeleton->priv->lock);
   g_value_copy (&skeleton->priv->properties[prop_id - 1], value);
   g_mutex_unlock (&skeleton->priv->lock);
@@ -2113,7 +3518,7 @@
   GParamSpec   *pspec)
 {
   UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
-  g_assert (prop_id != 0 && prop_id - 1 < 5);
+  g_assert (prop_id != 0 && prop_id - 1 < 8);
   g_mutex_lock (&skeleton->priv->lock);
   g_object_freeze_notify (object);
   if (!_g_value_equal (value, &skeleton->priv->properties[prop_id - 1]))
@@ -2133,12 +3538,15 @@
   skeleton->priv = up_client_glue_skeleton_get_instance_private (skeleton);
   g_mutex_init (&skeleton->priv->lock);
   skeleton->priv->context = g_main_context_ref_thread_default ();
-  skeleton->priv->properties = g_new0 (GValue, 5);
+  skeleton->priv->properties = g_new0 (GValue, 8);
   g_value_init (&skeleton->priv->properties[0], G_TYPE_STRING);
   g_value_init (&skeleton->priv->properties[1], G_TYPE_BOOLEAN);
   g_value_init (&skeleton->priv->properties[2], G_TYPE_BOOLEAN);
   g_value_init (&skeleton->priv->properties[3], G_TYPE_BOOLEAN);
   g_value_init (&skeleton->priv->properties[4], G_TYPE_BOOLEAN);
+  g_value_init (&skeleton->priv->properties[5], G_TYPE_BOOLEAN);
+  g_value_init (&skeleton->priv->properties[6], G_TYPE_BOOLEAN);
+  g_value_init (&skeleton->priv->properties[7], G_TYPE_BOOLEAN);
 }
 
 static const gchar *
@@ -2153,7 +3561,7 @@
 }
 
 static gboolean 
-up_client_glue_skeleton_get_on_battery (UpClientGlue *object)
+up_client_glue_skeleton_get_can_suspend (UpClientGlue *object)
 {
   UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
   gboolean value;
@@ -2164,7 +3572,7 @@
 }
 
 static gboolean 
-up_client_glue_skeleton_get_lid_is_closed (UpClientGlue *object)
+up_client_glue_skeleton_get_can_hibernate (UpClientGlue *object)
 {
   UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
   gboolean value;
@@ -2175,7 +3583,7 @@
 }
 
 static gboolean 
-up_client_glue_skeleton_get_lid_is_present (UpClientGlue *object)
+up_client_glue_skeleton_get_on_battery (UpClientGlue *object)
 {
   UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
   gboolean value;
@@ -2186,7 +3594,7 @@
 }
 
 static gboolean 
-up_client_glue_skeleton_get_is_docked (UpClientGlue *object)
+up_client_glue_skeleton_get_lid_is_closed (UpClientGlue *object)
 {
   UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
   gboolean value;
@@ -2196,6 +3604,39 @@
   return value;
 }
 
+static gboolean 
+up_client_glue_skeleton_get_lid_is_present (UpClientGlue *object)
+{
+  UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
+  gboolean value;
+  g_mutex_lock (&skeleton->priv->lock);
+  value = g_value_get_boolean (&(skeleton->priv->properties[5]));
+  g_mutex_unlock (&skeleton->priv->lock);
+  return value;
+}
+
+static gboolean 
+up_client_glue_skeleton_get_lid_force_sleep (UpClientGlue *object)
+{
+  UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
+  gboolean value;
+  g_mutex_lock (&skeleton->priv->lock);
+  value = g_value_get_boolean (&(skeleton->priv->properties[6]));
+  g_mutex_unlock (&skeleton->priv->lock);
+  return value;
+}
+
+static gboolean 
+up_client_glue_skeleton_get_is_docked (UpClientGlue *object)
+{
+  UpClientGlueSkeleton *skeleton = UP_CLIENT_GLUE_SKELETON (object);
+  gboolean value;
+  g_mutex_lock (&skeleton->priv->lock);
+  value = g_value_get_boolean (&(skeleton->priv->properties[7]));
+  g_mutex_unlock (&skeleton->priv->lock);
+  return value;
+}
+
 static void
 up_client_glue_skeleton_class_init (UpClientGlueSkeletonClass *klass)
 {
@@ -2223,10 +3664,17 @@
 {
   iface->device_added = _up_client_glue_on_signal_device_added;
   iface->device_removed = _up_client_glue_on_signal_device_removed;
+  iface->sleeping = _up_client_glue_on_signal_sleeping;
+  iface->notify_sleep = _up_client_glue_on_signal_notify_sleep;
+  iface->resuming = _up_client_glue_on_signal_resuming;
+  iface->notify_resume = _up_client_glue_on_signal_notify_resume;
   iface->get_daemon_version = up_client_glue_skeleton_get_daemon_version;
+  iface->get_can_suspend = up_client_glue_skeleton_get_can_suspend;
+  iface->get_can_hibernate = up_client_glue_skeleton_get_can_hibernate;
   iface->get_on_battery = up_client_glue_skeleton_get_on_battery;
   iface->get_lid_is_closed = up_client_glue_skeleton_get_lid_is_closed;
   iface->get_lid_is_present = up_client_glue_skeleton_get_lid_is_present;
+  iface->get_lid_force_sleep = up_client_glue_skeleton_get_lid_force_sleep;
   iface->get_is_docked = up_client_glue_skeleton_get_is_docked;
 }
 
diff -urN upower-0.99.0/libupower-glib/up-client-glue.h upower-0.99.0-patched-pretty/libupower-glib/up-client-glue.h
--- upower-0.99.0/libupower-glib/up-client-glue.h	2013-10-29 06:39:14.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/up-client-glue.h	2014-07-13 21:34:35.209231622 -0400
@@ -30,6 +30,11 @@
 
 
 
+  gboolean (*handle_about_to_sleep) (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation,
+    const gchar *arg_action);
+
   gboolean (*handle_enumerate_devices) (
     UpClientGlue *object,
     GDBusMethodInvocation *invocation);
@@ -42,10 +47,32 @@
     UpClientGlue *object,
     GDBusMethodInvocation *invocation);
 
+  gboolean (*handle_hibernate) (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation);
+
+  gboolean (*handle_hibernate_allowed) (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation);
+
+  gboolean (*handle_suspend) (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation);
+
+  gboolean (*handle_suspend_allowed) (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation);
+
+  gboolean  (*get_can_hibernate) (UpClientGlue *object);
+
+  gboolean  (*get_can_suspend) (UpClientGlue *object);
+
   const gchar * (*get_daemon_version) (UpClientGlue *object);
 
   gboolean  (*get_is_docked) (UpClientGlue *object);
 
+  gboolean  (*get_lid_force_sleep) (UpClientGlue *object);
+
   gboolean  (*get_lid_is_closed) (UpClientGlue *object);
 
   gboolean  (*get_lid_is_present) (UpClientGlue *object);
@@ -60,6 +87,20 @@
     UpClientGlue *object,
     const gchar *arg_device);
 
+  void (*notify_resume) (
+    UpClientGlue *object,
+    const gchar *arg_action);
+
+  void (*notify_sleep) (
+    UpClientGlue *object,
+    const gchar *arg_action);
+
+  void (*resuming) (
+    UpClientGlue *object);
+
+  void (*sleeping) (
+    UpClientGlue *object);
+
 };
 
 GType up_client_glue_get_type (void) G_GNUC_CONST;
@@ -84,6 +125,28 @@
     GDBusMethodInvocation *invocation,
     const gchar *action);
 
+void up_client_glue_complete_about_to_sleep (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation);
+
+void up_client_glue_complete_suspend (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation);
+
+void up_client_glue_complete_suspend_allowed (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation,
+    gboolean allowed);
+
+void up_client_glue_complete_hibernate (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation);
+
+void up_client_glue_complete_hibernate_allowed (
+    UpClientGlue *object,
+    GDBusMethodInvocation *invocation,
+    gboolean allowed);
+
 
 
 /* D-Bus signal emissions functions: */
@@ -95,6 +158,20 @@
     UpClientGlue *object,
     const gchar *arg_device);
 
+void up_client_glue_emit_sleeping (
+    UpClientGlue *object);
+
+void up_client_glue_emit_notify_sleep (
+    UpClientGlue *object,
+    const gchar *arg_action);
+
+void up_client_glue_emit_resuming (
+    UpClientGlue *object);
+
+void up_client_glue_emit_notify_resume (
+    UpClientGlue *object,
+    const gchar *arg_action);
+
 
 
 /* D-Bus method calls: */
@@ -152,6 +229,92 @@
     GCancellable *cancellable,
     GError **error);
 
+void up_client_glue_call_about_to_sleep (
+    UpClientGlue *proxy,
+    const gchar *arg_action,
+    GCancellable *cancellable,
+    GAsyncReadyCallback callback,
+    gpointer user_data);
+
+gboolean up_client_glue_call_about_to_sleep_finish (
+    UpClientGlue *proxy,
+    GAsyncResult *res,
+    GError **error);
+
+gboolean up_client_glue_call_about_to_sleep_sync (
+    UpClientGlue *proxy,
+    const gchar *arg_action,
+    GCancellable *cancellable,
+    GError **error);
+
+void up_client_glue_call_suspend (
+    UpClientGlue *proxy,
+    GCancellable *cancellable,
+    GAsyncReadyCallback callback,
+    gpointer user_data);
+
+gboolean up_client_glue_call_suspend_finish (
+    UpClientGlue *proxy,
+    GAsyncResult *res,
+    GError **error);
+
+gboolean up_client_glue_call_suspend_sync (
+    UpClientGlue *proxy,
+    GCancellable *cancellable,
+    GError **error);
+
+void up_client_glue_call_suspend_allowed (
+    UpClientGlue *proxy,
+    GCancellable *cancellable,
+    GAsyncReadyCallback callback,
+    gpointer user_data);
+
+gboolean up_client_glue_call_suspend_allowed_finish (
+    UpClientGlue *proxy,
+    gboolean *out_allowed,
+    GAsyncResult *res,
+    GError **error);
+
+gboolean up_client_glue_call_suspend_allowed_sync (
+    UpClientGlue *proxy,
+    gboolean *out_allowed,
+    GCancellable *cancellable,
+    GError **error);
+
+void up_client_glue_call_hibernate (
+    UpClientGlue *proxy,
+    GCancellable *cancellable,
+    GAsyncReadyCallback callback,
+    gpointer user_data);
+
+gboolean up_client_glue_call_hibernate_finish (
+    UpClientGlue *proxy,
+    GAsyncResult *res,
+    GError **error);
+
+gboolean up_client_glue_call_hibernate_sync (
+    UpClientGlue *proxy,
+    GCancellable *cancellable,
+    GError **error);
+
+void up_client_glue_call_hibernate_allowed (
+    UpClientGlue *proxy,
+    GCancellable *cancellable,
+    GAsyncReadyCallback callback,
+    gpointer user_data);
+
+gboolean up_client_glue_call_hibernate_allowed_finish (
+    UpClientGlue *proxy,
+    gboolean *out_allowed,
+    GAsyncResult *res,
+    GError **error);
+
+gboolean up_client_glue_call_hibernate_allowed_sync (
+    UpClientGlue *proxy,
+    gboolean *out_allowed,
+    GCancellable *cancellable,
+    GError **error);
+
 
 
 /* D-Bus property accessors: */
@@ -159,6 +322,12 @@
 gchar *up_client_glue_dup_daemon_version (UpClientGlue *object);
 void up_client_glue_set_daemon_version (UpClientGlue *object, const gchar *value);
 
+gboolean up_client_glue_get_can_suspend (UpClientGlue *object);
+void up_client_glue_set_can_suspend (UpClientGlue *object, gboolean value);
+
+gboolean up_client_glue_get_can_hibernate (UpClientGlue *object);
+void up_client_glue_set_can_hibernate (UpClientGlue *object, gboolean value);
+
 gboolean up_client_glue_get_on_battery (UpClientGlue *object);
 void up_client_glue_set_on_battery (UpClientGlue *object, gboolean value);
 
@@ -168,6 +337,9 @@
 gboolean up_client_glue_get_lid_is_present (UpClientGlue *object);
 void up_client_glue_set_lid_is_present (UpClientGlue *object, gboolean value);
 
+gboolean up_client_glue_get_lid_force_sleep (UpClientGlue *object);
+void up_client_glue_set_lid_force_sleep (UpClientGlue *object, gboolean value);
+
 gboolean up_client_glue_get_is_docked (UpClientGlue *object);
 void up_client_glue_set_is_docked (UpClientGlue *object, gboolean value);
 
diff -urN upower-0.99.0/libupower-glib/up-client.c upower-0.99.0-patched-pretty/libupower-glib/up-client.c
--- upower-0.99.0/libupower-glib/up-client.c	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/up-client.c	2014-07-13 21:34:35.210231622 -0400
@@ -35,6 +35,11 @@
 #include <stdio.h>
 #include <glib-object.h>
 
+#ifdef ENABLE_DEPRECATED
+#include <glib.h>
+#include <dbus/dbus-glib.h>
+#endif /* ENABLE_DEPRECATED */
+
 #include "up-client.h"
 #include "up-client-glue.h"
 #include "up-device.h"
@@ -53,20 +58,40 @@
 struct _UpClientPrivate
 {
 	UpClientGlue		*proxy;
+#ifdef ENABLE_DEPRECATED
+	DBusGConnection		*bus;
+	DBusGProxy		*old_proxy;
+	DBusGProxy		*prop_proxy;
+	gboolean		 have_properties;
+	gboolean		 can_suspend;
+	gboolean		 can_hibernate;
+	gboolean		 lid_force_sleep;
+#endif /* ENABLE_DEPRECATED */
 };
 
 enum {
 	UP_CLIENT_DEVICE_ADDED,
 	UP_CLIENT_DEVICE_REMOVED,
+#ifdef ENABLE_DEPRECATED
+	UP_CLIENT_NOTIFY_SLEEP,
+	UP_CLIENT_NOTIFY_RESUME,
+#endif /* ENABLE_DEPRECATED */
 	UP_CLIENT_LAST_SIGNAL
 };
 
 enum {
 	PROP_0,
 	PROP_DAEMON_VERSION,
+#ifdef ENABLE_DEPRECATED
+	PROP_CAN_SUSPEND,
+	PROP_CAN_HIBERNATE,
+#endif /* ENABLE_DEPRECATED */
 	PROP_ON_BATTERY,
 	PROP_LID_IS_CLOSED,
 	PROP_LID_IS_PRESENT,
+#ifdef ENABLE_DEPRECATED
+	PROP_LID_FORCE_SLEEP,
+#endif /* ENABLE_DEPRECATED */
 	PROP_IS_DOCKED,
 	PROP_LAST
 };
@@ -175,6 +200,233 @@
 	return action;
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_client_suspend_sync:
+ * @client: a #UpClient instance.
+ * @cancellable: a #GCancellable or %NULL
+ * @error: a #GError, or %NULL.
+ *
+ * Puts the computer into a low power state, but state is not preserved if the
+ * power is lost.
+ *
+ * NOTE: The system is still consuming a small amount of power
+ *
+ * Return value: TRUE if system suspended okay, FALSE other wise.
+ *
+ * Since: 0.9.0
+ **/
+gboolean
+up_client_suspend_sync (UpClient *client, GCancellable *cancellable, GError **error)
+{
+	gboolean ret;
+	GError *error_local = NULL;
+
+	g_return_val_if_fail (UP_IS_CLIENT (client), FALSE);
+	g_return_val_if_fail (client->priv->old_proxy != NULL, FALSE);
+
+	ret = dbus_g_proxy_call (client->priv->old_proxy, "Suspend", &error_local,
+				 G_TYPE_INVALID, G_TYPE_INVALID);
+	if (!ret) {
+		/* DBus might time out, which is okay */
+		if (g_error_matches (error_local, DBUS_GERROR, DBUS_GERROR_NO_REPLY)) {
+			g_debug ("DBUS timed out, but recovering");
+			ret = TRUE;
+			goto out;
+		}
+
+		/* an actual error */
+		g_warning ("Couldn't suspend: %s", error_local->message);
+		g_set_error (error, 1, 0, "%s", error_local->message);
+	}
+out:
+	if (error_local != NULL)
+		g_error_free (error_local);
+	return ret;
+}
+
+/**
+ * up_client_hibernate_sync:
+ * @client: a #UpClient instance.
+ * @cancellable: a #GCancellable or %NULL
+ * @error: a #GError.
+ *
+ * Puts the computer into a low power state, where state is preserved if the
+ * power is lost.
+ *
+ * Return value: TRUE if system suspended okay, FALSE other wise.
+ *
+ * Since: 0.9.0
+ **/
+gboolean
+up_client_hibernate_sync (UpClient *client, GCancellable *cancellable, GError **error)
+{
+	gboolean ret;
+	GError *error_local = NULL;
+
+	g_return_val_if_fail (UP_IS_CLIENT (client), FALSE);
+	g_return_val_if_fail (client->priv->old_proxy != NULL, FALSE);
+
+	ret = dbus_g_proxy_call (client->priv->old_proxy, "Hibernate", &error_local,
+				 G_TYPE_INVALID, G_TYPE_INVALID);
+	if (!ret) {
+		/* DBus might time out, which is okay */
+		if (g_error_matches (error_local, DBUS_GERROR, DBUS_GERROR_NO_REPLY)) {
+			g_debug ("DBUS timed out, but recovering");
+			ret = TRUE;
+			goto out;
+		}
+
+		/* an actual error */
+		g_warning ("Couldn't hibernate: %s", error_local->message);
+		g_set_error (error, 1, 0, "%s", error_local->message);
+	}
+out:
+	if (error_local != NULL)
+		g_error_free (error_local);
+	return ret;
+}
+
+/**
+ * up_client_about_to_sleep_sync:
+ * @client: a #UpClient instance.
+ * @sleep_kind: a sleep type, e.g. %UP_SLEEP_KIND_SUSPEND
+ * @cancellable: a #GCancellable or %NULL
+ * @error: a #GError, or %NULL.
+ *
+ * Tells UPower that we are soon to reqest either Suspend() or Hibernate()
+ * and that session and system components should be notified of this.
+ *
+ * Return value: TRUE if system suspended okay, FALSE other wise.
+ *
+ * Since: 0.9.11
+ **/
+gboolean
+up_client_about_to_sleep_sync (UpClient *client,
+			       UpSleepKind sleep_kind,
+			       GCancellable *cancellable,
+			       GError **error)
+{
+	gboolean ret;
+	GError *error_local = NULL;
+
+	g_return_val_if_fail (UP_IS_CLIENT (client), FALSE);
+	g_return_val_if_fail (client->priv->old_proxy != NULL, FALSE);
+
+	ret = dbus_g_proxy_call (client->priv->old_proxy, "AboutToSleep", &error_local,
+				 G_TYPE_STRING, up_sleep_kind_to_string (sleep_kind),
+				 G_TYPE_INVALID,
+				 G_TYPE_INVALID);
+	if (!ret) {
+		/* DBus might time out, which is okay */
+		if (g_error_matches (error_local, DBUS_GERROR, DBUS_GERROR_NO_REPLY)) {
+			g_debug ("DBUS timed out, but recovering");
+			ret = TRUE;
+			goto out;
+		}
+
+		/* an actual error */
+		g_warning ("Couldn't sent that we were about to sleep: %s", error_local->message);
+		g_set_error (error, 1, 0, "%s", error_local->message);
+	}
+out:
+	if (error_local != NULL)
+		g_error_free (error_local);
+	return ret;
+}
+
+/**
+ * up_client_get_properties_sync:
+ * @client: a #UpClient instance.
+ * @cancellable: a #GCancellable or %NULL
+ * @error: a #GError, or %NULL.
+ *
+ * Get all the properties from UPower daemon.
+ *
+ * Return value: %TRUE for success, else %FALSE.
+ *
+ * Since: 0.9.0
+ **/
+gboolean
+up_client_get_properties_sync (UpClient *client, GCancellable *cancellable, GError **error)
+{
+	gboolean ret = TRUE;
+	gboolean prop_val;
+	GHashTable *props;
+	GValue *value;
+	gboolean allowed = FALSE;
+
+	props = NULL;
+
+	if (client->priv->have_properties)
+		goto out;
+	if (!client->priv->prop_proxy)
+		goto out;
+
+	if (error != NULL)
+		*error = NULL;
+	ret = dbus_g_proxy_call (client->priv->prop_proxy, "GetAll", error,
+				 G_TYPE_STRING, "org.freedesktop.UPower",
+				 G_TYPE_INVALID,
+				 dbus_g_type_get_map ("GHashTable", G_TYPE_STRING, G_TYPE_VALUE), &props,
+				 G_TYPE_INVALID);
+	if (!ret)
+		goto out;
+
+	value = g_hash_table_lookup (props, "CanSuspend");
+	if (value == NULL) {
+		g_warning ("No 'CanSuspend' property");
+		goto out;
+	}
+
+	ret = dbus_g_proxy_call (client->priv->old_proxy, "SuspendAllowed", error,
+		G_TYPE_INVALID, G_TYPE_BOOLEAN, &allowed, G_TYPE_INVALID);
+	if (!ret)
+		goto out;
+
+	prop_val = g_value_get_boolean (value) && allowed;
+	if (prop_val != client->priv->can_suspend) {
+		client->priv->can_suspend = prop_val;
+		g_object_notify (G_OBJECT(client), "can-suspend");
+	}
+
+	value = g_hash_table_lookup (props, "CanHibernate");
+	if (value == NULL) {
+		g_warning ("No 'CanHibernate' property");
+		goto out;
+	}
+	ret = dbus_g_proxy_call (client->priv->old_proxy, "HibernateAllowed", error,
+		G_TYPE_INVALID, G_TYPE_BOOLEAN, &allowed, G_TYPE_INVALID);
+	if (!ret)
+		goto out;
+
+	prop_val = g_value_get_boolean (value) && allowed;
+	if (prop_val != client->priv->can_hibernate) {
+		client->priv->can_hibernate = prop_val;
+		g_object_notify (G_OBJECT(client), "can-hibernate");
+	}
+
+	value = g_hash_table_lookup (props, "LidForceSleep");
+	if (value == NULL) {
+		g_warning ("No 'LidForceSleep' property");
+		goto out;
+	}
+	prop_val = g_value_get_boolean (value);
+	if (prop_val != client->priv->lid_force_sleep) {
+		client->priv->lid_force_sleep = prop_val;
+		g_object_notify (G_OBJECT(client), "lid-force-sleep");
+	}
+
+	/* cached */
+	client->priv->have_properties = TRUE;
+
+out:
+	if (props != NULL)
+		g_hash_table_unref (props);
+	return ret;
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_client_get_daemon_version:
  * @client: a #UpClient instance.
@@ -192,6 +444,26 @@
 	return up_client_glue_get_daemon_version (client->priv->proxy);
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_client_get_can_hibernate:
+ * @client: a #UpClient instance.
+ *
+ * Get whether the system is able to hibernate.
+ *
+ * Return value: TRUE if system can hibernate, FALSE other wise.
+ *
+ * Since: 0.9.0
+ **/
+gboolean
+up_client_get_can_hibernate (UpClient *client)
+{
+	g_return_val_if_fail (UP_IS_CLIENT (client), FALSE);
+	up_client_get_properties_sync (client, NULL, NULL);
+	return client->priv->can_hibernate;
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_client_get_lid_is_closed:
  * @client: a #UpClient instance.
@@ -226,6 +498,26 @@
 	return up_client_glue_get_lid_is_present (client->priv->proxy);
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_client_get_lid_force_sleep:
+ * @client: a #UpClient instance.
+ *
+ * Get whether the laptop has to sleep when the lid is closed.
+ *
+ * Return value: %TRUE if the session has to suspend
+ *
+ * Since: 0.9.9
+ */
+gboolean
+up_client_get_lid_force_sleep (UpClient *client)
+{
+	g_return_val_if_fail (UP_IS_CLIENT (client), FALSE);
+	up_client_get_properties_sync (client, NULL, NULL);
+	return client->priv->lid_force_sleep;
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_client_get_is_docked:
  * @client: a #UpClient instance.
@@ -243,6 +535,26 @@
 	return up_client_glue_get_is_docked (client->priv->proxy);
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_client_get_can_suspend:
+ * @client: a #UpClient instance.
+ *
+ * Get whether the system is able to suspend.
+ *
+ * Return value: TRUE if system can suspend, FALSE other wise.
+ *
+ * Since: 0.9.0
+ **/
+gboolean
+up_client_get_can_suspend (UpClient *client)
+{
+	g_return_val_if_fail (UP_IS_CLIENT (client), FALSE);
+	up_client_get_properties_sync (client, NULL, NULL);
+	return client->priv->can_suspend;
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_client_get_on_battery:
  * @client: a #UpClient instance.
@@ -304,6 +616,28 @@
 	up_client_add (client, object_path);
 }
 
+#ifdef ENABLE_DEPRECATED
+/*
+ * up_client_notify_sleep_cb:
+ */
+static void
+up_client_notify_sleep_cb (DBusGProxy *old_proxy, const gchar *sleep_kind, UpClient *client)
+{
+	g_signal_emit (client, signals [UP_CLIENT_NOTIFY_SLEEP], 0,
+		       up_sleep_kind_from_string (sleep_kind));
+}
+
+/*
+ * up_client_notify_resume_cb:
+ */
+static void
+up_client_notify_resume_cb (DBusGProxy *old_proxy, const gchar *sleep_kind, UpClient *client)
+{
+	g_signal_emit (client, signals [UP_CLIENT_NOTIFY_RESUME], 0,
+		       up_sleep_kind_from_string (sleep_kind));
+}
+#endif /* ENABLE_DEPRECATED */
+
 /*
  * up_client_removed_cb:
  */
@@ -322,10 +656,22 @@
 	UpClient *client;
 	client = UP_CLIENT (object);
 
+#ifdef ENABLE_DEPRECATED
+	up_client_get_properties_sync (client, NULL, NULL);
+#endif /* ENABLE_DEPRECATED */
+
 	switch (prop_id) {
 	case PROP_DAEMON_VERSION:
 		g_value_set_string (value, up_client_glue_get_daemon_version (client->priv->proxy));
 		break;
+#ifdef ENABLE_DEPRECATED
+	case PROP_CAN_SUSPEND:
+		g_value_set_boolean (value, client->priv->can_suspend);
+		break;
+	case PROP_CAN_HIBERNATE:
+		g_value_set_boolean (value, client->priv->can_hibernate);
+		break;
+#endif /* ENABLE_DEPRECATED */
 	case PROP_ON_BATTERY:
 		g_value_set_boolean (value, up_client_glue_get_on_battery (client->priv->proxy));
 		break;
@@ -335,6 +681,11 @@
 	case PROP_LID_IS_PRESENT:
 		g_value_set_boolean (value, up_client_glue_get_lid_is_present (client->priv->proxy));
 		break;
+#ifdef ENABLE_DEPRECATED
+	case PROP_LID_FORCE_SLEEP:
+		g_value_set_boolean (value, client->priv->lid_force_sleep);
+		break;
+#endif /* ENABLE_DEPRECATED */
 	case PROP_IS_DOCKED:
 		g_value_set_boolean (value, up_client_glue_get_is_docked (client->priv->proxy));
 		break;
@@ -370,6 +721,38 @@
 							      NULL,
 							      NULL,
 							      G_PARAM_READABLE));
+
+#ifdef ENABLE_DEPRECATED
+	/**
+	 * UpClient:can-suspend:
+	 *
+	 * If the computer can suspend.
+	 *
+	 * Since: 0.9.0
+	 */
+	g_object_class_install_property (object_class,
+					 PROP_CAN_SUSPEND,
+					 g_param_spec_boolean ("can-suspend",
+							       "If the computer can suspend",
+							       NULL,
+							       FALSE,
+							       G_PARAM_READABLE));
+	/**
+	 * UpClient:can-hibernate:
+	 *
+	 * If the computer can hibernate.
+	 *
+	 * Since: 0.9.0
+	 */
+	g_object_class_install_property (object_class,
+					 PROP_CAN_HIBERNATE,
+					 g_param_spec_boolean ("can-hibernate",
+							       "If the computer can hibernate",
+							       NULL,
+							       FALSE,
+							       G_PARAM_READABLE));
+#endif /* ENABLE_DEPRECATED */
+
 	/**
 	 * UpClient:on-battery:
 	 *
@@ -413,6 +796,23 @@
 							       FALSE,
 							       G_PARAM_READABLE));
 
+#ifdef ENABLE_DEPRECATED
+	/**
+	 * UpClient:lid-force-sleep:
+	 *
+	 * If a laptop has to sleep if the lid is closed.
+	 *
+	 * Since: 0.9.9
+	 */
+	g_object_class_install_property (object_class,
+					 PROP_LID_FORCE_SLEEP,
+					 g_param_spec_boolean ("lid-force-sleep",
+							       "If a laptop has to sleep on lid close",
+							       NULL,
+							       FALSE,
+							       G_PARAM_READABLE));
+#endif /* ENABLE_DEPRECATED */
+
 	/**
 	 * UpClient:is-docked:
 	 *
@@ -460,6 +860,44 @@
 			      NULL, NULL, g_cclosure_marshal_VOID__STRING,
 			      G_TYPE_NONE, 1, G_TYPE_STRING);
 
+#ifdef ENABLE_DEPRECATED
+	/**
+	 * UpClient::notify-sleep:
+	 * @client: the #UpClient instance that emitted the signal
+	 * @sleep_kind: the #UpSleepKind
+	 *
+	 * The ::notify-sleep signal is emitted when system sleep is
+	 * about to occur. Applications have about 1 second to do
+	 * anything they need to do. There is no way to stop the sleep
+	 * process.
+	 *
+	 * Since: 0.9.11
+	 **/
+	signals [UP_CLIENT_NOTIFY_SLEEP] =
+		g_signal_new ("notify-sleep",
+			      G_TYPE_FROM_CLASS (object_class), G_SIGNAL_RUN_LAST,
+			      G_STRUCT_OFFSET (UpClientClass, notify_sleep),
+			      NULL, NULL, g_cclosure_marshal_VOID__UINT,
+			      G_TYPE_NONE, 1, G_TYPE_UINT);
+
+	/**
+	 * UpClient::notify-resume:
+	 * @client: the #UpClient instance that emitted the signal
+	 * @sleep_kind: the #UpSleepKind
+	 *
+	 * The ::notify-resume signal is emitted when the system has
+	 * resumed.
+	 *
+	 * Since: 0.9.11
+	 **/
+	signals [UP_CLIENT_NOTIFY_RESUME] =
+		g_signal_new ("notify-resume",
+			      G_TYPE_FROM_CLASS (object_class), G_SIGNAL_RUN_LAST,
+			      G_STRUCT_OFFSET (UpClientClass, notify_resume),
+			      NULL, NULL, g_cclosure_marshal_VOID__UINT,
+			      G_TYPE_NONE, 1, G_TYPE_UINT);
+#endif /* ENABLE_DEPRECATED */
+
 	g_type_class_add_private (klass, sizeof (UpClientPrivate));
 }
 
@@ -487,6 +925,41 @@
 		return;
 	}
 
+#ifdef ENABLE_DEPRECATED
+	/* get on the bus */
+	client->priv->bus = dbus_g_bus_get (DBUS_BUS_SYSTEM, &error);
+	if (client->priv->bus == NULL) {
+		g_warning ("Couldn't connect to system bus: %s", error->message);
+		g_error_free (error);
+		return;
+	}
+
+	/* connect to old main interface */
+	client->priv->old_proxy = dbus_g_proxy_new_for_name (client->priv->bus,
+							 "org.freedesktop.UPower",
+							 "/org/freedesktop/UPower",
+							 "org.freedesktop.UPower");
+	if (client->priv->old_proxy == NULL) {
+		g_warning ("Couldn't connect to proxy: %s", error->message);
+		g_error_free (error);
+		return;
+	}
+
+	/* connect to properties interface */
+	client->priv->prop_proxy = dbus_g_proxy_new_for_name (client->priv->bus,
+							      "org.freedesktop.UPower",
+							      "/org/freedesktop/UPower",
+							      "org.freedesktop.DBus.Properties");
+	if (client->priv->prop_proxy == NULL) {
+		g_warning ("Couldn't connect to proxy: %s", error->message);
+		g_error_free (error);
+		return;
+	}
+
+	dbus_g_proxy_add_signal (client->priv->old_proxy, "NotifySleep", G_TYPE_STRING, G_TYPE_INVALID);
+	dbus_g_proxy_add_signal (client->priv->old_proxy, "NotifyResume", G_TYPE_STRING, G_TYPE_INVALID);
+#endif /* ENABLE_DEPRECATED */
+
 	/* all callbacks */
 	g_signal_connect (client->priv->proxy, "device-added",
 			  G_CALLBACK (up_device_added_cb), client);
@@ -494,6 +967,12 @@
 			  G_CALLBACK (up_device_removed_cb), client);
 	g_signal_connect (client->priv->proxy, "notify",
 			  G_CALLBACK (up_client_notify_cb), client);
+#ifdef ENABLE_DEPRECATED
+	dbus_g_proxy_connect_signal (client->priv->old_proxy, "NotifySleep",
+				     G_CALLBACK (up_client_notify_sleep_cb), client, NULL);
+	dbus_g_proxy_connect_signal (client->priv->old_proxy, "NotifyResume",
+				     G_CALLBACK (up_client_notify_resume_cb), client, NULL);
+#endif /* ENABLE_DEPRECATED */
 }
 
 /*
@@ -511,6 +990,17 @@
 	if (client->priv->proxy != NULL)
 		g_object_unref (client->priv->proxy);
 
+#ifdef ENABLE_DEPRECATED
+	if (client->priv->bus)
+		dbus_g_connection_unref (client->priv->bus);
+
+	if (client->priv->old_proxy != NULL)
+		g_object_unref (client->priv->old_proxy);
+
+	if (client->priv->prop_proxy != NULL)
+		g_object_unref (client->priv->prop_proxy);
+#endif /* ENABLE_DEPRECATED */
+
 	G_OBJECT_CLASS (up_client_parent_class)->finalize (object);
 }
 
diff -urN upower-0.99.0/libupower-glib/up-client.h upower-0.99.0-patched-pretty/libupower-glib/up-client.h
--- upower-0.99.0/libupower-glib/up-client.h	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/up-client.h	2014-07-13 21:34:35.210231622 -0400
@@ -57,6 +57,12 @@
 							 UpDevice		*device);
 	void			(*device_removed)	(UpClient		*client,
 							 const gchar		*object_path);
+	/* FIXME: remove when we next break API */
+	void			(*notify_sleep)		(UpClient		*client,
+							 UpSleepKind		 sleep_kind);
+	/* FIXME: remove when we next break API */
+	void			(*notify_resume)	(UpClient		*client,
+							 UpSleepKind		 sleep_kind);
 	/*< private >*/
 	/* Padding for future expansion */
 	void (*_up_client_reserved1) (void);
@@ -76,13 +82,29 @@
 /* sync versions */
 UpDevice *	 up_client_get_display_device		(UpClient *client);
 char *		 up_client_get_critical_action		(UpClient *client);
+gboolean	 up_client_get_properties_sync		(UpClient		*client,
+							 GCancellable		*cancellable,
+							 GError			**error);
+gboolean	 up_client_suspend_sync			(UpClient		*client,
+							 GCancellable		*cancellable,
+							 GError			**error);
+gboolean	 up_client_about_to_sleep_sync		(UpClient		*client,
+							 UpSleepKind		 sleep_kind,
+							 GCancellable		*cancellable,
+							 GError			**error);
+gboolean	 up_client_hibernate_sync		(UpClient		*client,
+							 GCancellable		*cancellable,
+							 GError			**error);
 
 /* accessors */
 GPtrArray	*up_client_get_devices			(UpClient		*client);
 const gchar	*up_client_get_daemon_version		(UpClient		*client);
+gboolean	 up_client_get_can_hibernate		(UpClient		*client);
 gboolean	 up_client_get_lid_is_closed		(UpClient		*client);
 gboolean	 up_client_get_lid_is_present		(UpClient		*client);
+gboolean	 up_client_get_lid_force_sleep		(UpClient		*client);
 gboolean	 up_client_get_is_docked		(UpClient		*client);
+gboolean	 up_client_get_can_suspend		(UpClient		*client);
 gboolean	 up_client_get_on_battery		(UpClient		*client);
 
 G_END_DECLS
diff -urN upower-0.99.0/libupower-glib/up-device-glue.c upower-0.99.0-patched-pretty/libupower-glib/up-device-glue.c
--- upower-0.99.0/libupower-glib/up-device-glue.c	2013-10-29 06:39:14.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/up-device-glue.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,4156 +0,0 @@
-/*
- * Generated by gdbus-codegen 2.39.0. DO NOT EDIT.
- *
- * The license of this code is the same as for the source it was derived from.
- */
-
-#ifdef HAVE_CONFIG_H
-#  include "config.h"
-#endif
-
-#include "up-device-glue.h"
-
-#include <string.h>
-#ifdef G_OS_UNIX
-#  include <gio/gunixfdlist.h>
-#endif
-
-typedef struct
-{
-  GDBusArgInfo parent_struct;
-  gboolean use_gvariant;
-} _ExtendedGDBusArgInfo;
-
-typedef struct
-{
-  GDBusMethodInfo parent_struct;
-  const gchar *signal_name;
-  gboolean pass_fdlist;
-} _ExtendedGDBusMethodInfo;
-
-typedef struct
-{
-  GDBusSignalInfo parent_struct;
-  const gchar *signal_name;
-} _ExtendedGDBusSignalInfo;
-
-typedef struct
-{
-  GDBusPropertyInfo parent_struct;
-  const gchar *hyphen_name;
-  gboolean use_gvariant;
-} _ExtendedGDBusPropertyInfo;
-
-typedef struct
-{
-  GDBusInterfaceInfo parent_struct;
-  const gchar *hyphen_name;
-} _ExtendedGDBusInterfaceInfo;
-
-typedef struct
-{
-  const _ExtendedGDBusPropertyInfo *info;
-  guint prop_id;
-  GValue orig_value; /* the value before the change */
-} ChangedProperty;
-
-static void
-_changed_property_free (ChangedProperty *data)
-{
-  g_value_unset (&data->orig_value);
-  g_free (data);
-}
-
-static gboolean
-_g_strv_equal0 (gchar **a, gchar **b)
-{
-  gboolean ret = FALSE;
-  guint n;
-  if (a == NULL && b == NULL)
-    {
-      ret = TRUE;
-      goto out;
-    }
-  if (a == NULL || b == NULL)
-    goto out;
-  if (g_strv_length (a) != g_strv_length (b))
-    goto out;
-  for (n = 0; a[n] != NULL; n++)
-    if (g_strcmp0 (a[n], b[n]) != 0)
-      goto out;
-  ret = TRUE;
-out:
-  return ret;
-}
-
-static gboolean
-_g_variant_equal0 (GVariant *a, GVariant *b)
-{
-  gboolean ret = FALSE;
-  if (a == NULL && b == NULL)
-    {
-      ret = TRUE;
-      goto out;
-    }
-  if (a == NULL || b == NULL)
-    goto out;
-  ret = g_variant_equal (a, b);
-out:
-  return ret;
-}
-
-G_GNUC_UNUSED static gboolean
-_g_value_equal (const GValue *a, const GValue *b)
-{
-  gboolean ret = FALSE;
-  g_assert (G_VALUE_TYPE (a) == G_VALUE_TYPE (b));
-  switch (G_VALUE_TYPE (a))
-    {
-      case G_TYPE_BOOLEAN:
-        ret = (g_value_get_boolean (a) == g_value_get_boolean (b));
-        break;
-      case G_TYPE_UCHAR:
-        ret = (g_value_get_uchar (a) == g_value_get_uchar (b));
-        break;
-      case G_TYPE_INT:
-        ret = (g_value_get_int (a) == g_value_get_int (b));
-        break;
-      case G_TYPE_UINT:
-        ret = (g_value_get_uint (a) == g_value_get_uint (b));
-        break;
-      case G_TYPE_INT64:
-        ret = (g_value_get_int64 (a) == g_value_get_int64 (b));
-        break;
-      case G_TYPE_UINT64:
-        ret = (g_value_get_uint64 (a) == g_value_get_uint64 (b));
-        break;
-      case G_TYPE_DOUBLE:
-        {
-          /* Avoid -Wfloat-equal warnings by doing a direct bit compare */
-          gdouble da = g_value_get_double (a);
-          gdouble db = g_value_get_double (b);
-          ret = memcmp (&da, &db, sizeof (gdouble)) == 0;
-        }
-        break;
-      case G_TYPE_STRING:
-        ret = (g_strcmp0 (g_value_get_string (a), g_value_get_string (b)) == 0);
-        break;
-      case G_TYPE_VARIANT:
-        ret = _g_variant_equal0 (g_value_get_variant (a), g_value_get_variant (b));
-        break;
-      default:
-        if (G_VALUE_TYPE (a) == G_TYPE_STRV)
-          ret = _g_strv_equal0 (g_value_get_boxed (a), g_value_get_boxed (b));
-        else
-          g_critical ("_g_value_equal() does not handle type %s", g_type_name (G_VALUE_TYPE (a)));
-        break;
-    }
-  return ret;
-}
-
-/* ------------------------------------------------------------------------
- * Code for interface org.freedesktop.UPower.Device
- * ------------------------------------------------------------------------
- */
-
-/**
- * SECTION:UpDeviceGlue
- * @title: UpDeviceGlue
- * @short_description: Generated C code for the org.freedesktop.UPower.Device D-Bus interface
- *
- * This section contains code for working with the <link linkend="gdbus-interface-org-freedesktop-UPower-Device.top_of_page">org.freedesktop.UPower.Device</link> D-Bus interface in C.
- */
-
-/* ---- Introspection data for org.freedesktop.UPower.Device ---- */
-
-static const GDBusAnnotationInfo _up_device_glue_method_refresh_annotation_info_0 =
-{
-  -1,
-  (gchar *) "org.freedesktop.DBus.GLib.Async",
-  (gchar *) "",
-  NULL
-};
-
-static const GDBusAnnotationInfo * const _up_device_glue_method_refresh_annotation_info_pointers[] =
-{
-  &_up_device_glue_method_refresh_annotation_info_0,
-  NULL
-};
-
-static const _ExtendedGDBusMethodInfo _up_device_glue_method_info_refresh =
-{
-  {
-    -1,
-    (gchar *) "Refresh",
-    NULL,
-    NULL,
-    (GDBusAnnotationInfo **) &_up_device_glue_method_refresh_annotation_info_pointers
-  },
-  "handle-refresh",
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo _up_device_glue_method_info_get_history_IN_ARG_type =
-{
-  {
-    -1,
-    (gchar *) "type",
-    (gchar *) "s",
-    NULL
-  },
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo _up_device_glue_method_info_get_history_IN_ARG_timespan =
-{
-  {
-    -1,
-    (gchar *) "timespan",
-    (gchar *) "u",
-    NULL
-  },
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo _up_device_glue_method_info_get_history_IN_ARG_resolution =
-{
-  {
-    -1,
-    (gchar *) "resolution",
-    (gchar *) "u",
-    NULL
-  },
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo * const _up_device_glue_method_info_get_history_IN_ARG_pointers[] =
-{
-  &_up_device_glue_method_info_get_history_IN_ARG_type,
-  &_up_device_glue_method_info_get_history_IN_ARG_timespan,
-  &_up_device_glue_method_info_get_history_IN_ARG_resolution,
-  NULL
-};
-
-static const _ExtendedGDBusArgInfo _up_device_glue_method_info_get_history_OUT_ARG_data =
-{
-  {
-    -1,
-    (gchar *) "data",
-    (gchar *) "a(udu)",
-    NULL
-  },
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo * const _up_device_glue_method_info_get_history_OUT_ARG_pointers[] =
-{
-  &_up_device_glue_method_info_get_history_OUT_ARG_data,
-  NULL
-};
-
-static const GDBusAnnotationInfo _up_device_glue_method_get_history_annotation_info_0 =
-{
-  -1,
-  (gchar *) "org.freedesktop.DBus.GLib.Async",
-  (gchar *) "",
-  NULL
-};
-
-static const GDBusAnnotationInfo * const _up_device_glue_method_get_history_annotation_info_pointers[] =
-{
-  &_up_device_glue_method_get_history_annotation_info_0,
-  NULL
-};
-
-static const _ExtendedGDBusMethodInfo _up_device_glue_method_info_get_history =
-{
-  {
-    -1,
-    (gchar *) "GetHistory",
-    (GDBusArgInfo **) &_up_device_glue_method_info_get_history_IN_ARG_pointers,
-    (GDBusArgInfo **) &_up_device_glue_method_info_get_history_OUT_ARG_pointers,
-    (GDBusAnnotationInfo **) &_up_device_glue_method_get_history_annotation_info_pointers
-  },
-  "handle-get-history",
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo _up_device_glue_method_info_get_statistics_IN_ARG_type =
-{
-  {
-    -1,
-    (gchar *) "type",
-    (gchar *) "s",
-    NULL
-  },
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo * const _up_device_glue_method_info_get_statistics_IN_ARG_pointers[] =
-{
-  &_up_device_glue_method_info_get_statistics_IN_ARG_type,
-  NULL
-};
-
-static const _ExtendedGDBusArgInfo _up_device_glue_method_info_get_statistics_OUT_ARG_data =
-{
-  {
-    -1,
-    (gchar *) "data",
-    (gchar *) "a(dd)",
-    NULL
-  },
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo * const _up_device_glue_method_info_get_statistics_OUT_ARG_pointers[] =
-{
-  &_up_device_glue_method_info_get_statistics_OUT_ARG_data,
-  NULL
-};
-
-static const GDBusAnnotationInfo _up_device_glue_method_get_statistics_annotation_info_0 =
-{
-  -1,
-  (gchar *) "org.freedesktop.DBus.GLib.Async",
-  (gchar *) "",
-  NULL
-};
-
-static const GDBusAnnotationInfo * const _up_device_glue_method_get_statistics_annotation_info_pointers[] =
-{
-  &_up_device_glue_method_get_statistics_annotation_info_0,
-  NULL
-};
-
-static const _ExtendedGDBusMethodInfo _up_device_glue_method_info_get_statistics =
-{
-  {
-    -1,
-    (gchar *) "GetStatistics",
-    (GDBusArgInfo **) &_up_device_glue_method_info_get_statistics_IN_ARG_pointers,
-    (GDBusArgInfo **) &_up_device_glue_method_info_get_statistics_OUT_ARG_pointers,
-    (GDBusAnnotationInfo **) &_up_device_glue_method_get_statistics_annotation_info_pointers
-  },
-  "handle-get-statistics",
-  FALSE
-};
-
-static const _ExtendedGDBusMethodInfo * const _up_device_glue_method_info_pointers[] =
-{
-  &_up_device_glue_method_info_refresh,
-  &_up_device_glue_method_info_get_history,
-  &_up_device_glue_method_info_get_statistics,
-  NULL
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_native_path =
-{
-  {
-    -1,
-    (gchar *) "NativePath",
-    (gchar *) "s",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "native-path",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_vendor =
-{
-  {
-    -1,
-    (gchar *) "Vendor",
-    (gchar *) "s",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "vendor",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_model =
-{
-  {
-    -1,
-    (gchar *) "Model",
-    (gchar *) "s",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "model",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_serial =
-{
-  {
-    -1,
-    (gchar *) "Serial",
-    (gchar *) "s",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "serial",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_update_time =
-{
-  {
-    -1,
-    (gchar *) "UpdateTime",
-    (gchar *) "t",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "update-time",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_type_ =
-{
-  {
-    -1,
-    (gchar *) "Type",
-    (gchar *) "u",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "type",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_power_supply =
-{
-  {
-    -1,
-    (gchar *) "PowerSupply",
-    (gchar *) "b",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "power-supply",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_has_history =
-{
-  {
-    -1,
-    (gchar *) "HasHistory",
-    (gchar *) "b",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "has-history",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_has_statistics =
-{
-  {
-    -1,
-    (gchar *) "HasStatistics",
-    (gchar *) "b",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "has-statistics",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_online =
-{
-  {
-    -1,
-    (gchar *) "Online",
-    (gchar *) "b",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "online",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_energy =
-{
-  {
-    -1,
-    (gchar *) "Energy",
-    (gchar *) "d",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "energy",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_energy_empty =
-{
-  {
-    -1,
-    (gchar *) "EnergyEmpty",
-    (gchar *) "d",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "energy-empty",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_energy_full =
-{
-  {
-    -1,
-    (gchar *) "EnergyFull",
-    (gchar *) "d",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "energy-full",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_energy_full_design =
-{
-  {
-    -1,
-    (gchar *) "EnergyFullDesign",
-    (gchar *) "d",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "energy-full-design",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_energy_rate =
-{
-  {
-    -1,
-    (gchar *) "EnergyRate",
-    (gchar *) "d",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "energy-rate",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_voltage =
-{
-  {
-    -1,
-    (gchar *) "Voltage",
-    (gchar *) "d",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "voltage",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_luminosity =
-{
-  {
-    -1,
-    (gchar *) "Luminosity",
-    (gchar *) "d",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "luminosity",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_time_to_empty =
-{
-  {
-    -1,
-    (gchar *) "TimeToEmpty",
-    (gchar *) "x",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "time-to-empty",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_time_to_full =
-{
-  {
-    -1,
-    (gchar *) "TimeToFull",
-    (gchar *) "x",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "time-to-full",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_percentage =
-{
-  {
-    -1,
-    (gchar *) "Percentage",
-    (gchar *) "d",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "percentage",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_temperature =
-{
-  {
-    -1,
-    (gchar *) "Temperature",
-    (gchar *) "d",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "temperature",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_is_present =
-{
-  {
-    -1,
-    (gchar *) "IsPresent",
-    (gchar *) "b",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "is-present",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_state =
-{
-  {
-    -1,
-    (gchar *) "State",
-    (gchar *) "u",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "state",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_is_rechargeable =
-{
-  {
-    -1,
-    (gchar *) "IsRechargeable",
-    (gchar *) "b",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "is-rechargeable",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_capacity =
-{
-  {
-    -1,
-    (gchar *) "Capacity",
-    (gchar *) "d",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "capacity",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_technology =
-{
-  {
-    -1,
-    (gchar *) "Technology",
-    (gchar *) "u",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "technology",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_warning_level =
-{
-  {
-    -1,
-    (gchar *) "WarningLevel",
-    (gchar *) "u",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "warning-level",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo _up_device_glue_property_info_icon_name =
-{
-  {
-    -1,
-    (gchar *) "IconName",
-    (gchar *) "s",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "icon-name",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo * const _up_device_glue_property_info_pointers[] =
-{
-  &_up_device_glue_property_info_native_path,
-  &_up_device_glue_property_info_vendor,
-  &_up_device_glue_property_info_model,
-  &_up_device_glue_property_info_serial,
-  &_up_device_glue_property_info_update_time,
-  &_up_device_glue_property_info_type_,
-  &_up_device_glue_property_info_power_supply,
-  &_up_device_glue_property_info_has_history,
-  &_up_device_glue_property_info_has_statistics,
-  &_up_device_glue_property_info_online,
-  &_up_device_glue_property_info_energy,
-  &_up_device_glue_property_info_energy_empty,
-  &_up_device_glue_property_info_energy_full,
-  &_up_device_glue_property_info_energy_full_design,
-  &_up_device_glue_property_info_energy_rate,
-  &_up_device_glue_property_info_voltage,
-  &_up_device_glue_property_info_luminosity,
-  &_up_device_glue_property_info_time_to_empty,
-  &_up_device_glue_property_info_time_to_full,
-  &_up_device_glue_property_info_percentage,
-  &_up_device_glue_property_info_temperature,
-  &_up_device_glue_property_info_is_present,
-  &_up_device_glue_property_info_state,
-  &_up_device_glue_property_info_is_rechargeable,
-  &_up_device_glue_property_info_capacity,
-  &_up_device_glue_property_info_technology,
-  &_up_device_glue_property_info_warning_level,
-  &_up_device_glue_property_info_icon_name,
-  NULL
-};
-
-static const _ExtendedGDBusInterfaceInfo _up_device_glue_interface_info =
-{
-  {
-    -1,
-    (gchar *) "org.freedesktop.UPower.Device",
-    (GDBusMethodInfo **) &_up_device_glue_method_info_pointers,
-    NULL,
-    (GDBusPropertyInfo **) &_up_device_glue_property_info_pointers,
-    NULL
-  },
-  "device-glue",
-};
-
-
-/**
- * up_device_glue_interface_info:
- *
- * Gets a machine-readable description of the <link linkend="gdbus-interface-org-freedesktop-UPower-Device.top_of_page">org.freedesktop.UPower.Device</link> D-Bus interface.
- *
- * Returns: (transfer none): A #GDBusInterfaceInfo. Do not free.
- */
-GDBusInterfaceInfo *
-up_device_glue_interface_info (void)
-{
-  return (GDBusInterfaceInfo *) &_up_device_glue_interface_info.parent_struct;
-}
-
-/**
- * up_device_glue_override_properties:
- * @klass: The class structure for a #GObject<!-- -->-derived class.
- * @property_id_begin: The property id to assign to the first overridden property.
- *
- * Overrides all #GObject properties in the #UpDeviceGlue interface for a concrete class.
- * The properties are overridden in the order they are defined.
- *
- * Returns: The last property id.
- */
-guint
-up_device_glue_override_properties (GObjectClass *klass, guint property_id_begin)
-{
-  g_object_class_override_property (klass, property_id_begin++, "native-path");
-  g_object_class_override_property (klass, property_id_begin++, "vendor");
-  g_object_class_override_property (klass, property_id_begin++, "model");
-  g_object_class_override_property (klass, property_id_begin++, "serial");
-  g_object_class_override_property (klass, property_id_begin++, "update-time");
-  g_object_class_override_property (klass, property_id_begin++, "type");
-  g_object_class_override_property (klass, property_id_begin++, "power-supply");
-  g_object_class_override_property (klass, property_id_begin++, "has-history");
-  g_object_class_override_property (klass, property_id_begin++, "has-statistics");
-  g_object_class_override_property (klass, property_id_begin++, "online");
-  g_object_class_override_property (klass, property_id_begin++, "energy");
-  g_object_class_override_property (klass, property_id_begin++, "energy-empty");
-  g_object_class_override_property (klass, property_id_begin++, "energy-full");
-  g_object_class_override_property (klass, property_id_begin++, "energy-full-design");
-  g_object_class_override_property (klass, property_id_begin++, "energy-rate");
-  g_object_class_override_property (klass, property_id_begin++, "voltage");
-  g_object_class_override_property (klass, property_id_begin++, "luminosity");
-  g_object_class_override_property (klass, property_id_begin++, "time-to-empty");
-  g_object_class_override_property (klass, property_id_begin++, "time-to-full");
-  g_object_class_override_property (klass, property_id_begin++, "percentage");
-  g_object_class_override_property (klass, property_id_begin++, "temperature");
-  g_object_class_override_property (klass, property_id_begin++, "is-present");
-  g_object_class_override_property (klass, property_id_begin++, "state");
-  g_object_class_override_property (klass, property_id_begin++, "is-rechargeable");
-  g_object_class_override_property (klass, property_id_begin++, "capacity");
-  g_object_class_override_property (klass, property_id_begin++, "technology");
-  g_object_class_override_property (klass, property_id_begin++, "warning-level");
-  g_object_class_override_property (klass, property_id_begin++, "icon-name");
-  return property_id_begin - 1;
-}
-
-
-
-/**
- * UpDeviceGlue:
- *
- * Abstract interface type for the D-Bus interface <link linkend="gdbus-interface-org-freedesktop-UPower-Device.top_of_page">org.freedesktop.UPower.Device</link>.
- */
-
-/**
- * UpDeviceGlueIface:
- * @parent_iface: The parent interface.
- * @handle_get_history: Handler for the #UpDeviceGlue::handle-get-history signal.
- * @handle_get_statistics: Handler for the #UpDeviceGlue::handle-get-statistics signal.
- * @handle_refresh: Handler for the #UpDeviceGlue::handle-refresh signal.
- * @get_capacity: Getter for the #UpDeviceGlue:capacity property.
- * @get_energy: Getter for the #UpDeviceGlue:energy property.
- * @get_energy_empty: Getter for the #UpDeviceGlue:energy-empty property.
- * @get_energy_full: Getter for the #UpDeviceGlue:energy-full property.
- * @get_energy_full_design: Getter for the #UpDeviceGlue:energy-full-design property.
- * @get_energy_rate: Getter for the #UpDeviceGlue:energy-rate property.
- * @get_has_history: Getter for the #UpDeviceGlue:has-history property.
- * @get_has_statistics: Getter for the #UpDeviceGlue:has-statistics property.
- * @get_icon_name: Getter for the #UpDeviceGlue:icon-name property.
- * @get_is_present: Getter for the #UpDeviceGlue:is-present property.
- * @get_is_rechargeable: Getter for the #UpDeviceGlue:is-rechargeable property.
- * @get_luminosity: Getter for the #UpDeviceGlue:luminosity property.
- * @get_model: Getter for the #UpDeviceGlue:model property.
- * @get_native_path: Getter for the #UpDeviceGlue:native-path property.
- * @get_online: Getter for the #UpDeviceGlue:online property.
- * @get_percentage: Getter for the #UpDeviceGlue:percentage property.
- * @get_power_supply: Getter for the #UpDeviceGlue:power-supply property.
- * @get_serial: Getter for the #UpDeviceGlue:serial property.
- * @get_state: Getter for the #UpDeviceGlue:state property.
- * @get_technology: Getter for the #UpDeviceGlue:technology property.
- * @get_temperature: Getter for the #UpDeviceGlue:temperature property.
- * @get_time_to_empty: Getter for the #UpDeviceGlue:time-to-empty property.
- * @get_time_to_full: Getter for the #UpDeviceGlue:time-to-full property.
- * @get_type_: Getter for the #UpDeviceGlue:type property.
- * @get_update_time: Getter for the #UpDeviceGlue:update-time property.
- * @get_vendor: Getter for the #UpDeviceGlue:vendor property.
- * @get_voltage: Getter for the #UpDeviceGlue:voltage property.
- * @get_warning_level: Getter for the #UpDeviceGlue:warning-level property.
- *
- * Virtual table for the D-Bus interface <link linkend="gdbus-interface-org-freedesktop-UPower-Device.top_of_page">org.freedesktop.UPower.Device</link>.
- */
-
-typedef UpDeviceGlueIface UpDeviceGlueInterface;
-G_DEFINE_INTERFACE (UpDeviceGlue, up_device_glue, G_TYPE_OBJECT);
-
-static void
-up_device_glue_default_init (UpDeviceGlueIface *iface)
-{
-  /* GObject signals for incoming D-Bus method calls: */
-  /**
-   * UpDeviceGlue::handle-refresh:
-   * @object: A #UpDeviceGlue.
-   * @invocation: A #GDBusMethodInvocation.
-   *
-   * Signal emitted when a remote caller is invoking the <link linkend="gdbus-method-org-freedesktop-UPower-Device.Refresh">Refresh()</link> D-Bus method.
-   *
-   * If a signal handler returns %TRUE, it means the signal handler will handle the invocation (e.g. take a reference to @invocation and eventually call up_device_glue_complete_refresh() or e.g. g_dbus_method_invocation_return_error() on it) and no order signal handlers will run. If no signal handler handles the invocation, the %G_DBUS_ERROR_UNKNOWN_METHOD error is returned.
-   *
-   * Returns: %TRUE if the invocation was handled, %FALSE to let other signal handlers run.
-   */
-  g_signal_new ("handle-refresh",
-    G_TYPE_FROM_INTERFACE (iface),
-    G_SIGNAL_RUN_LAST,
-    G_STRUCT_OFFSET (UpDeviceGlueIface, handle_refresh),
-    g_signal_accumulator_true_handled,
-    NULL,
-    g_cclosure_marshal_generic,
-    G_TYPE_BOOLEAN,
-    1,
-    G_TYPE_DBUS_METHOD_INVOCATION);
-
-  /**
-   * UpDeviceGlue::handle-get-history:
-   * @object: A #UpDeviceGlue.
-   * @invocation: A #GDBusMethodInvocation.
-   * @arg_type: Argument passed by remote caller.
-   * @arg_timespan: Argument passed by remote caller.
-   * @arg_resolution: Argument passed by remote caller.
-   *
-   * Signal emitted when a remote caller is invoking the <link linkend="gdbus-method-org-freedesktop-UPower-Device.GetHistory">GetHistory()</link> D-Bus method.
-   *
-   * If a signal handler returns %TRUE, it means the signal handler will handle the invocation (e.g. take a reference to @invocation and eventually call up_device_glue_complete_get_history() or e.g. g_dbus_method_invocation_return_error() on it) and no order signal handlers will run. If no signal handler handles the invocation, the %G_DBUS_ERROR_UNKNOWN_METHOD error is returned.
-   *
-   * Returns: %TRUE if the invocation was handled, %FALSE to let other signal handlers run.
-   */
-  g_signal_new ("handle-get-history",
-    G_TYPE_FROM_INTERFACE (iface),
-    G_SIGNAL_RUN_LAST,
-    G_STRUCT_OFFSET (UpDeviceGlueIface, handle_get_history),
-    g_signal_accumulator_true_handled,
-    NULL,
-    g_cclosure_marshal_generic,
-    G_TYPE_BOOLEAN,
-    4,
-    G_TYPE_DBUS_METHOD_INVOCATION, G_TYPE_STRING, G_TYPE_UINT, G_TYPE_UINT);
-
-  /**
-   * UpDeviceGlue::handle-get-statistics:
-   * @object: A #UpDeviceGlue.
-   * @invocation: A #GDBusMethodInvocation.
-   * @arg_type: Argument passed by remote caller.
-   *
-   * Signal emitted when a remote caller is invoking the <link linkend="gdbus-method-org-freedesktop-UPower-Device.GetStatistics">GetStatistics()</link> D-Bus method.
-   *
-   * If a signal handler returns %TRUE, it means the signal handler will handle the invocation (e.g. take a reference to @invocation and eventually call up_device_glue_complete_get_statistics() or e.g. g_dbus_method_invocation_return_error() on it) and no order signal handlers will run. If no signal handler handles the invocation, the %G_DBUS_ERROR_UNKNOWN_METHOD error is returned.
-   *
-   * Returns: %TRUE if the invocation was handled, %FALSE to let other signal handlers run.
-   */
-  g_signal_new ("handle-get-statistics",
-    G_TYPE_FROM_INTERFACE (iface),
-    G_SIGNAL_RUN_LAST,
-    G_STRUCT_OFFSET (UpDeviceGlueIface, handle_get_statistics),
-    g_signal_accumulator_true_handled,
-    NULL,
-    g_cclosure_marshal_generic,
-    G_TYPE_BOOLEAN,
-    2,
-    G_TYPE_DBUS_METHOD_INVOCATION, G_TYPE_STRING);
-
-  /* GObject properties for D-Bus properties: */
-  /**
-   * UpDeviceGlue:native-path:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.NativePath">"NativePath"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_string ("native-path", "NativePath", "NativePath", NULL, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:vendor:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Vendor">"Vendor"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_string ("vendor", "Vendor", "Vendor", NULL, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:model:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Model">"Model"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_string ("model", "Model", "Model", NULL, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:serial:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Serial">"Serial"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_string ("serial", "Serial", "Serial", NULL, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:update-time:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.UpdateTime">"UpdateTime"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_uint64 ("update-time", "UpdateTime", "UpdateTime", 0, G_MAXUINT64, 0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:type:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Type">"Type"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_uint ("type", "Type", "Type", 0, G_MAXUINT32, 0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:power-supply:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.PowerSupply">"PowerSupply"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_boolean ("power-supply", "PowerSupply", "PowerSupply", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:has-history:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.HasHistory">"HasHistory"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_boolean ("has-history", "HasHistory", "HasHistory", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:has-statistics:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.HasStatistics">"HasStatistics"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_boolean ("has-statistics", "HasStatistics", "HasStatistics", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:online:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Online">"Online"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_boolean ("online", "Online", "Online", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:energy:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Energy">"Energy"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_double ("energy", "Energy", "Energy", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:energy-empty:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyEmpty">"EnergyEmpty"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_double ("energy-empty", "EnergyEmpty", "EnergyEmpty", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:energy-full:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyFull">"EnergyFull"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_double ("energy-full", "EnergyFull", "EnergyFull", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:energy-full-design:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyFullDesign">"EnergyFullDesign"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_double ("energy-full-design", "EnergyFullDesign", "EnergyFullDesign", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:energy-rate:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyRate">"EnergyRate"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_double ("energy-rate", "EnergyRate", "EnergyRate", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:voltage:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Voltage">"Voltage"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_double ("voltage", "Voltage", "Voltage", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:luminosity:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Luminosity">"Luminosity"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_double ("luminosity", "Luminosity", "Luminosity", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:time-to-empty:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.TimeToEmpty">"TimeToEmpty"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_int64 ("time-to-empty", "TimeToEmpty", "TimeToEmpty", G_MININT64, G_MAXINT64, 0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:time-to-full:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.TimeToFull">"TimeToFull"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_int64 ("time-to-full", "TimeToFull", "TimeToFull", G_MININT64, G_MAXINT64, 0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:percentage:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Percentage">"Percentage"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_double ("percentage", "Percentage", "Percentage", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:temperature:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Temperature">"Temperature"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_double ("temperature", "Temperature", "Temperature", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:is-present:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.IsPresent">"IsPresent"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_boolean ("is-present", "IsPresent", "IsPresent", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:state:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.State">"State"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_uint ("state", "State", "State", 0, G_MAXUINT32, 0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:is-rechargeable:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.IsRechargeable">"IsRechargeable"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_boolean ("is-rechargeable", "IsRechargeable", "IsRechargeable", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:capacity:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Capacity">"Capacity"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_double ("capacity", "Capacity", "Capacity", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:technology:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.Technology">"Technology"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_uint ("technology", "Technology", "Technology", 0, G_MAXUINT32, 0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:warning-level:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.WarningLevel">"WarningLevel"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_uint ("warning-level", "WarningLevel", "WarningLevel", 0, G_MAXUINT32, 0, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-  /**
-   * UpDeviceGlue:icon-name:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Device.IconName">"IconName"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_string ("icon-name", "IconName", "IconName", NULL, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-}
-
-/**
- * up_device_glue_get_native_path: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.NativePath">"NativePath"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * <warning>The returned value is only valid until the property changes so on the client-side it is only safe to use this function on the thread where @object was constructed. Use up_device_glue_dup_native_path() if on another thread.</warning>
- *
- * Returns: (transfer none): The property value or %NULL if the property is not set. Do not free the returned value, it belongs to @object.
- */
-const gchar *
-up_device_glue_get_native_path (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_native_path (object);
-}
-
-/**
- * up_device_glue_dup_native_path: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets a copy of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.NativePath">"NativePath"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: (transfer full): The property value or %NULL if the property is not set. The returned value should be freed with g_free().
- */
-gchar *
-up_device_glue_dup_native_path (UpDeviceGlue *object)
-{
-  gchar *value;
-  g_object_get (G_OBJECT (object), "native-path", &value, NULL);
-  return value;
-}
-
-/**
- * up_device_glue_set_native_path: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.NativePath">"NativePath"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_native_path (UpDeviceGlue *object, const gchar *value)
-{
-  g_object_set (G_OBJECT (object), "native-path", value, NULL);
-}
-
-/**
- * up_device_glue_get_vendor: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Vendor">"Vendor"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * <warning>The returned value is only valid until the property changes so on the client-side it is only safe to use this function on the thread where @object was constructed. Use up_device_glue_dup_vendor() if on another thread.</warning>
- *
- * Returns: (transfer none): The property value or %NULL if the property is not set. Do not free the returned value, it belongs to @object.
- */
-const gchar *
-up_device_glue_get_vendor (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_vendor (object);
-}
-
-/**
- * up_device_glue_dup_vendor: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets a copy of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Vendor">"Vendor"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: (transfer full): The property value or %NULL if the property is not set. The returned value should be freed with g_free().
- */
-gchar *
-up_device_glue_dup_vendor (UpDeviceGlue *object)
-{
-  gchar *value;
-  g_object_get (G_OBJECT (object), "vendor", &value, NULL);
-  return value;
-}
-
-/**
- * up_device_glue_set_vendor: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Vendor">"Vendor"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_vendor (UpDeviceGlue *object, const gchar *value)
-{
-  g_object_set (G_OBJECT (object), "vendor", value, NULL);
-}
-
-/**
- * up_device_glue_get_model: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Model">"Model"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * <warning>The returned value is only valid until the property changes so on the client-side it is only safe to use this function on the thread where @object was constructed. Use up_device_glue_dup_model() if on another thread.</warning>
- *
- * Returns: (transfer none): The property value or %NULL if the property is not set. Do not free the returned value, it belongs to @object.
- */
-const gchar *
-up_device_glue_get_model (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_model (object);
-}
-
-/**
- * up_device_glue_dup_model: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets a copy of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Model">"Model"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: (transfer full): The property value or %NULL if the property is not set. The returned value should be freed with g_free().
- */
-gchar *
-up_device_glue_dup_model (UpDeviceGlue *object)
-{
-  gchar *value;
-  g_object_get (G_OBJECT (object), "model", &value, NULL);
-  return value;
-}
-
-/**
- * up_device_glue_set_model: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Model">"Model"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_model (UpDeviceGlue *object, const gchar *value)
-{
-  g_object_set (G_OBJECT (object), "model", value, NULL);
-}
-
-/**
- * up_device_glue_get_serial: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Serial">"Serial"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * <warning>The returned value is only valid until the property changes so on the client-side it is only safe to use this function on the thread where @object was constructed. Use up_device_glue_dup_serial() if on another thread.</warning>
- *
- * Returns: (transfer none): The property value or %NULL if the property is not set. Do not free the returned value, it belongs to @object.
- */
-const gchar *
-up_device_glue_get_serial (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_serial (object);
-}
-
-/**
- * up_device_glue_dup_serial: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets a copy of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Serial">"Serial"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: (transfer full): The property value or %NULL if the property is not set. The returned value should be freed with g_free().
- */
-gchar *
-up_device_glue_dup_serial (UpDeviceGlue *object)
-{
-  gchar *value;
-  g_object_get (G_OBJECT (object), "serial", &value, NULL);
-  return value;
-}
-
-/**
- * up_device_glue_set_serial: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Serial">"Serial"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_serial (UpDeviceGlue *object, const gchar *value)
-{
-  g_object_set (G_OBJECT (object), "serial", value, NULL);
-}
-
-/**
- * up_device_glue_get_update_time: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.UpdateTime">"UpdateTime"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-guint64 
-up_device_glue_get_update_time (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_update_time (object);
-}
-
-/**
- * up_device_glue_set_update_time: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.UpdateTime">"UpdateTime"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_update_time (UpDeviceGlue *object, guint64 value)
-{
-  g_object_set (G_OBJECT (object), "update-time", value, NULL);
-}
-
-/**
- * up_device_glue_get_type_: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Type">"Type"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-guint 
-up_device_glue_get_type_ (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_type_ (object);
-}
-
-/**
- * up_device_glue_set_type_: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Type">"Type"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_type_ (UpDeviceGlue *object, guint value)
-{
-  g_object_set (G_OBJECT (object), "type", value, NULL);
-}
-
-/**
- * up_device_glue_get_power_supply: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.PowerSupply">"PowerSupply"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gboolean 
-up_device_glue_get_power_supply (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_power_supply (object);
-}
-
-/**
- * up_device_glue_set_power_supply: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.PowerSupply">"PowerSupply"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_power_supply (UpDeviceGlue *object, gboolean value)
-{
-  g_object_set (G_OBJECT (object), "power-supply", value, NULL);
-}
-
-/**
- * up_device_glue_get_has_history: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.HasHistory">"HasHistory"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gboolean 
-up_device_glue_get_has_history (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_has_history (object);
-}
-
-/**
- * up_device_glue_set_has_history: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.HasHistory">"HasHistory"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_has_history (UpDeviceGlue *object, gboolean value)
-{
-  g_object_set (G_OBJECT (object), "has-history", value, NULL);
-}
-
-/**
- * up_device_glue_get_has_statistics: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.HasStatistics">"HasStatistics"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gboolean 
-up_device_glue_get_has_statistics (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_has_statistics (object);
-}
-
-/**
- * up_device_glue_set_has_statistics: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.HasStatistics">"HasStatistics"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_has_statistics (UpDeviceGlue *object, gboolean value)
-{
-  g_object_set (G_OBJECT (object), "has-statistics", value, NULL);
-}
-
-/**
- * up_device_glue_get_online: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Online">"Online"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gboolean 
-up_device_glue_get_online (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_online (object);
-}
-
-/**
- * up_device_glue_set_online: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Online">"Online"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_online (UpDeviceGlue *object, gboolean value)
-{
-  g_object_set (G_OBJECT (object), "online", value, NULL);
-}
-
-/**
- * up_device_glue_get_energy: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Energy">"Energy"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gdouble 
-up_device_glue_get_energy (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_energy (object);
-}
-
-/**
- * up_device_glue_set_energy: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Energy">"Energy"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_energy (UpDeviceGlue *object, gdouble value)
-{
-  g_object_set (G_OBJECT (object), "energy", value, NULL);
-}
-
-/**
- * up_device_glue_get_energy_empty: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyEmpty">"EnergyEmpty"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gdouble 
-up_device_glue_get_energy_empty (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_energy_empty (object);
-}
-
-/**
- * up_device_glue_set_energy_empty: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyEmpty">"EnergyEmpty"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_energy_empty (UpDeviceGlue *object, gdouble value)
-{
-  g_object_set (G_OBJECT (object), "energy-empty", value, NULL);
-}
-
-/**
- * up_device_glue_get_energy_full: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyFull">"EnergyFull"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gdouble 
-up_device_glue_get_energy_full (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_energy_full (object);
-}
-
-/**
- * up_device_glue_set_energy_full: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyFull">"EnergyFull"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_energy_full (UpDeviceGlue *object, gdouble value)
-{
-  g_object_set (G_OBJECT (object), "energy-full", value, NULL);
-}
-
-/**
- * up_device_glue_get_energy_full_design: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyFullDesign">"EnergyFullDesign"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gdouble 
-up_device_glue_get_energy_full_design (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_energy_full_design (object);
-}
-
-/**
- * up_device_glue_set_energy_full_design: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyFullDesign">"EnergyFullDesign"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_energy_full_design (UpDeviceGlue *object, gdouble value)
-{
-  g_object_set (G_OBJECT (object), "energy-full-design", value, NULL);
-}
-
-/**
- * up_device_glue_get_energy_rate: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyRate">"EnergyRate"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gdouble 
-up_device_glue_get_energy_rate (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_energy_rate (object);
-}
-
-/**
- * up_device_glue_set_energy_rate: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.EnergyRate">"EnergyRate"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_energy_rate (UpDeviceGlue *object, gdouble value)
-{
-  g_object_set (G_OBJECT (object), "energy-rate", value, NULL);
-}
-
-/**
- * up_device_glue_get_voltage: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Voltage">"Voltage"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gdouble 
-up_device_glue_get_voltage (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_voltage (object);
-}
-
-/**
- * up_device_glue_set_voltage: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Voltage">"Voltage"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_voltage (UpDeviceGlue *object, gdouble value)
-{
-  g_object_set (G_OBJECT (object), "voltage", value, NULL);
-}
-
-/**
- * up_device_glue_get_luminosity: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Luminosity">"Luminosity"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gdouble 
-up_device_glue_get_luminosity (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_luminosity (object);
-}
-
-/**
- * up_device_glue_set_luminosity: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Luminosity">"Luminosity"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_luminosity (UpDeviceGlue *object, gdouble value)
-{
-  g_object_set (G_OBJECT (object), "luminosity", value, NULL);
-}
-
-/**
- * up_device_glue_get_time_to_empty: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.TimeToEmpty">"TimeToEmpty"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gint64 
-up_device_glue_get_time_to_empty (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_time_to_empty (object);
-}
-
-/**
- * up_device_glue_set_time_to_empty: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.TimeToEmpty">"TimeToEmpty"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_time_to_empty (UpDeviceGlue *object, gint64 value)
-{
-  g_object_set (G_OBJECT (object), "time-to-empty", value, NULL);
-}
-
-/**
- * up_device_glue_get_time_to_full: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.TimeToFull">"TimeToFull"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gint64 
-up_device_glue_get_time_to_full (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_time_to_full (object);
-}
-
-/**
- * up_device_glue_set_time_to_full: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.TimeToFull">"TimeToFull"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_time_to_full (UpDeviceGlue *object, gint64 value)
-{
-  g_object_set (G_OBJECT (object), "time-to-full", value, NULL);
-}
-
-/**
- * up_device_glue_get_percentage: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Percentage">"Percentage"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gdouble 
-up_device_glue_get_percentage (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_percentage (object);
-}
-
-/**
- * up_device_glue_set_percentage: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Percentage">"Percentage"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_percentage (UpDeviceGlue *object, gdouble value)
-{
-  g_object_set (G_OBJECT (object), "percentage", value, NULL);
-}
-
-/**
- * up_device_glue_get_temperature: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Temperature">"Temperature"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gdouble 
-up_device_glue_get_temperature (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_temperature (object);
-}
-
-/**
- * up_device_glue_set_temperature: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Temperature">"Temperature"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_temperature (UpDeviceGlue *object, gdouble value)
-{
-  g_object_set (G_OBJECT (object), "temperature", value, NULL);
-}
-
-/**
- * up_device_glue_get_is_present: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.IsPresent">"IsPresent"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gboolean 
-up_device_glue_get_is_present (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_is_present (object);
-}
-
-/**
- * up_device_glue_set_is_present: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.IsPresent">"IsPresent"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_is_present (UpDeviceGlue *object, gboolean value)
-{
-  g_object_set (G_OBJECT (object), "is-present", value, NULL);
-}
-
-/**
- * up_device_glue_get_state: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.State">"State"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-guint 
-up_device_glue_get_state (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_state (object);
-}
-
-/**
- * up_device_glue_set_state: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.State">"State"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_state (UpDeviceGlue *object, guint value)
-{
-  g_object_set (G_OBJECT (object), "state", value, NULL);
-}
-
-/**
- * up_device_glue_get_is_rechargeable: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.IsRechargeable">"IsRechargeable"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gboolean 
-up_device_glue_get_is_rechargeable (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_is_rechargeable (object);
-}
-
-/**
- * up_device_glue_set_is_rechargeable: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.IsRechargeable">"IsRechargeable"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_is_rechargeable (UpDeviceGlue *object, gboolean value)
-{
-  g_object_set (G_OBJECT (object), "is-rechargeable", value, NULL);
-}
-
-/**
- * up_device_glue_get_capacity: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Capacity">"Capacity"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gdouble 
-up_device_glue_get_capacity (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_capacity (object);
-}
-
-/**
- * up_device_glue_set_capacity: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Capacity">"Capacity"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_capacity (UpDeviceGlue *object, gdouble value)
-{
-  g_object_set (G_OBJECT (object), "capacity", value, NULL);
-}
-
-/**
- * up_device_glue_get_technology: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Technology">"Technology"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-guint 
-up_device_glue_get_technology (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_technology (object);
-}
-
-/**
- * up_device_glue_set_technology: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.Technology">"Technology"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_technology (UpDeviceGlue *object, guint value)
-{
-  g_object_set (G_OBJECT (object), "technology", value, NULL);
-}
-
-/**
- * up_device_glue_get_warning_level: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.WarningLevel">"WarningLevel"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-guint 
-up_device_glue_get_warning_level (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_warning_level (object);
-}
-
-/**
- * up_device_glue_set_warning_level: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.WarningLevel">"WarningLevel"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_warning_level (UpDeviceGlue *object, guint value)
-{
-  g_object_set (G_OBJECT (object), "warning-level", value, NULL);
-}
-
-/**
- * up_device_glue_get_icon_name: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.IconName">"IconName"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * <warning>The returned value is only valid until the property changes so on the client-side it is only safe to use this function on the thread where @object was constructed. Use up_device_glue_dup_icon_name() if on another thread.</warning>
- *
- * Returns: (transfer none): The property value or %NULL if the property is not set. Do not free the returned value, it belongs to @object.
- */
-const gchar *
-up_device_glue_get_icon_name (UpDeviceGlue *object)
-{
-  return UP_DEVICE_GLUE_GET_IFACE (object)->get_icon_name (object);
-}
-
-/**
- * up_device_glue_dup_icon_name: (skip)
- * @object: A #UpDeviceGlue.
- *
- * Gets a copy of the <link linkend="gdbus-property-org-freedesktop-UPower-Device.IconName">"IconName"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: (transfer full): The property value or %NULL if the property is not set. The returned value should be freed with g_free().
- */
-gchar *
-up_device_glue_dup_icon_name (UpDeviceGlue *object)
-{
-  gchar *value;
-  g_object_get (G_OBJECT (object), "icon-name", &value, NULL);
-  return value;
-}
-
-/**
- * up_device_glue_set_icon_name: (skip)
- * @object: A #UpDeviceGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Device.IconName">"IconName"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_device_glue_set_icon_name (UpDeviceGlue *object, const gchar *value)
-{
-  g_object_set (G_OBJECT (object), "icon-name", value, NULL);
-}
-
-/**
- * up_device_glue_call_refresh:
- * @proxy: A #UpDeviceGlueProxy.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
- * @user_data: User data to pass to @callback.
- *
- * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower-Device.Refresh">Refresh()</link> D-Bus method on @proxy.
- * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
- * You can then call up_device_glue_call_refresh_finish() to get the result of the operation.
- *
- * See up_device_glue_call_refresh_sync() for the synchronous, blocking version of this method.
- */
-void
-up_device_glue_call_refresh (
-    UpDeviceGlue *proxy,
-    GCancellable *cancellable,
-    GAsyncReadyCallback callback,
-    gpointer user_data)
-{
-  g_dbus_proxy_call (G_DBUS_PROXY (proxy),
-    "Refresh",
-    g_variant_new ("()"),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    cancellable,
-    callback,
-    user_data);
-}
-
-/**
- * up_device_glue_call_refresh_finish:
- * @proxy: A #UpDeviceGlueProxy.
- * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_device_glue_call_refresh().
- * @error: Return location for error or %NULL.
- *
- * Finishes an operation started with up_device_glue_call_refresh().
- *
- * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
- */
-gboolean
-up_device_glue_call_refresh_finish (
-    UpDeviceGlue *proxy,
-    GAsyncResult *res,
-    GError **error)
-{
-  GVariant *_ret;
-  _ret = g_dbus_proxy_call_finish (G_DBUS_PROXY (proxy), res, error);
-  if (_ret == NULL)
-    goto _out;
-  g_variant_get (_ret,
-                 "()");
-  g_variant_unref (_ret);
-_out:
-  return _ret != NULL;
-}
-
-/**
- * up_device_glue_call_refresh_sync:
- * @proxy: A #UpDeviceGlueProxy.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @error: Return location for error or %NULL.
- *
- * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower-Device.Refresh">Refresh()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
- *
- * See up_device_glue_call_refresh() for the asynchronous version of this method.
- *
- * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
- */
-gboolean
-up_device_glue_call_refresh_sync (
-    UpDeviceGlue *proxy,
-    GCancellable *cancellable,
-    GError **error)
-{
-  GVariant *_ret;
-  _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
-    "Refresh",
-    g_variant_new ("()"),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    cancellable,
-    error);
-  if (_ret == NULL)
-    goto _out;
-  g_variant_get (_ret,
-                 "()");
-  g_variant_unref (_ret);
-_out:
-  return _ret != NULL;
-}
-
-/**
- * up_device_glue_call_get_history:
- * @proxy: A #UpDeviceGlueProxy.
- * @arg_type: Argument to pass with the method invocation.
- * @arg_timespan: Argument to pass with the method invocation.
- * @arg_resolution: Argument to pass with the method invocation.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
- * @user_data: User data to pass to @callback.
- *
- * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower-Device.GetHistory">GetHistory()</link> D-Bus method on @proxy.
- * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
- * You can then call up_device_glue_call_get_history_finish() to get the result of the operation.
- *
- * See up_device_glue_call_get_history_sync() for the synchronous, blocking version of this method.
- */
-void
-up_device_glue_call_get_history (
-    UpDeviceGlue *proxy,
-    const gchar *arg_type,
-    guint arg_timespan,
-    guint arg_resolution,
-    GCancellable *cancellable,
-    GAsyncReadyCallback callback,
-    gpointer user_data)
-{
-  g_dbus_proxy_call (G_DBUS_PROXY (proxy),
-    "GetHistory",
-    g_variant_new ("(suu)",
-                   arg_type,
-                   arg_timespan,
-                   arg_resolution),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    cancellable,
-    callback,
-    user_data);
-}
-
-/**
- * up_device_glue_call_get_history_finish:
- * @proxy: A #UpDeviceGlueProxy.
- * @out_data: (out): Return location for return parameter or %NULL to ignore.
- * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_device_glue_call_get_history().
- * @error: Return location for error or %NULL.
- *
- * Finishes an operation started with up_device_glue_call_get_history().
- *
- * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
- */
-gboolean
-up_device_glue_call_get_history_finish (
-    UpDeviceGlue *proxy,
-    GVariant **out_data,
-    GAsyncResult *res,
-    GError **error)
-{
-  GVariant *_ret;
-  _ret = g_dbus_proxy_call_finish (G_DBUS_PROXY (proxy), res, error);
-  if (_ret == NULL)
-    goto _out;
-  g_variant_get (_ret,
-                 "(@a(udu))",
-                 out_data);
-  g_variant_unref (_ret);
-_out:
-  return _ret != NULL;
-}
-
-/**
- * up_device_glue_call_get_history_sync:
- * @proxy: A #UpDeviceGlueProxy.
- * @arg_type: Argument to pass with the method invocation.
- * @arg_timespan: Argument to pass with the method invocation.
- * @arg_resolution: Argument to pass with the method invocation.
- * @out_data: (out): Return location for return parameter or %NULL to ignore.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @error: Return location for error or %NULL.
- *
- * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower-Device.GetHistory">GetHistory()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
- *
- * See up_device_glue_call_get_history() for the asynchronous version of this method.
- *
- * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
- */
-gboolean
-up_device_glue_call_get_history_sync (
-    UpDeviceGlue *proxy,
-    const gchar *arg_type,
-    guint arg_timespan,
-    guint arg_resolution,
-    GVariant **out_data,
-    GCancellable *cancellable,
-    GError **error)
-{
-  GVariant *_ret;
-  _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
-    "GetHistory",
-    g_variant_new ("(suu)",
-                   arg_type,
-                   arg_timespan,
-                   arg_resolution),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    cancellable,
-    error);
-  if (_ret == NULL)
-    goto _out;
-  g_variant_get (_ret,
-                 "(@a(udu))",
-                 out_data);
-  g_variant_unref (_ret);
-_out:
-  return _ret != NULL;
-}
-
-/**
- * up_device_glue_call_get_statistics:
- * @proxy: A #UpDeviceGlueProxy.
- * @arg_type: Argument to pass with the method invocation.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
- * @user_data: User data to pass to @callback.
- *
- * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower-Device.GetStatistics">GetStatistics()</link> D-Bus method on @proxy.
- * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
- * You can then call up_device_glue_call_get_statistics_finish() to get the result of the operation.
- *
- * See up_device_glue_call_get_statistics_sync() for the synchronous, blocking version of this method.
- */
-void
-up_device_glue_call_get_statistics (
-    UpDeviceGlue *proxy,
-    const gchar *arg_type,
-    GCancellable *cancellable,
-    GAsyncReadyCallback callback,
-    gpointer user_data)
-{
-  g_dbus_proxy_call (G_DBUS_PROXY (proxy),
-    "GetStatistics",
-    g_variant_new ("(s)",
-                   arg_type),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    cancellable,
-    callback,
-    user_data);
-}
-
-/**
- * up_device_glue_call_get_statistics_finish:
- * @proxy: A #UpDeviceGlueProxy.
- * @out_data: (out): Return location for return parameter or %NULL to ignore.
- * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_device_glue_call_get_statistics().
- * @error: Return location for error or %NULL.
- *
- * Finishes an operation started with up_device_glue_call_get_statistics().
- *
- * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
- */
-gboolean
-up_device_glue_call_get_statistics_finish (
-    UpDeviceGlue *proxy,
-    GVariant **out_data,
-    GAsyncResult *res,
-    GError **error)
-{
-  GVariant *_ret;
-  _ret = g_dbus_proxy_call_finish (G_DBUS_PROXY (proxy), res, error);
-  if (_ret == NULL)
-    goto _out;
-  g_variant_get (_ret,
-                 "(@a(dd))",
-                 out_data);
-  g_variant_unref (_ret);
-_out:
-  return _ret != NULL;
-}
-
-/**
- * up_device_glue_call_get_statistics_sync:
- * @proxy: A #UpDeviceGlueProxy.
- * @arg_type: Argument to pass with the method invocation.
- * @out_data: (out): Return location for return parameter or %NULL to ignore.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @error: Return location for error or %NULL.
- *
- * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower-Device.GetStatistics">GetStatistics()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
- *
- * See up_device_glue_call_get_statistics() for the asynchronous version of this method.
- *
- * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
- */
-gboolean
-up_device_glue_call_get_statistics_sync (
-    UpDeviceGlue *proxy,
-    const gchar *arg_type,
-    GVariant **out_data,
-    GCancellable *cancellable,
-    GError **error)
-{
-  GVariant *_ret;
-  _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
-    "GetStatistics",
-    g_variant_new ("(s)",
-                   arg_type),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    cancellable,
-    error);
-  if (_ret == NULL)
-    goto _out;
-  g_variant_get (_ret,
-                 "(@a(dd))",
-                 out_data);
-  g_variant_unref (_ret);
-_out:
-  return _ret != NULL;
-}
-
-/**
- * up_device_glue_complete_refresh:
- * @object: A #UpDeviceGlue.
- * @invocation: (transfer full): A #GDBusMethodInvocation.
- *
- * Helper function used in service implementations to finish handling invocations of the <link linkend="gdbus-method-org-freedesktop-UPower-Device.Refresh">Refresh()</link> D-Bus method. If you instead want to finish handling an invocation by returning an error, use g_dbus_method_invocation_return_error() or similar.
- *
- * This method will free @invocation, you cannot use it afterwards.
- */
-void
-up_device_glue_complete_refresh (
-    UpDeviceGlue *object,
-    GDBusMethodInvocation *invocation)
-{
-  g_dbus_method_invocation_return_value (invocation,
-    g_variant_new ("()"));
-}
-
-/**
- * up_device_glue_complete_get_history:
- * @object: A #UpDeviceGlue.
- * @invocation: (transfer full): A #GDBusMethodInvocation.
- * @data: Parameter to return.
- *
- * Helper function used in service implementations to finish handling invocations of the <link linkend="gdbus-method-org-freedesktop-UPower-Device.GetHistory">GetHistory()</link> D-Bus method. If you instead want to finish handling an invocation by returning an error, use g_dbus_method_invocation_return_error() or similar.
- *
- * This method will free @invocation, you cannot use it afterwards.
- */
-void
-up_device_glue_complete_get_history (
-    UpDeviceGlue *object,
-    GDBusMethodInvocation *invocation,
-    GVariant *data)
-{
-  g_dbus_method_invocation_return_value (invocation,
-    g_variant_new ("(@a(udu))",
-                   data));
-}
-
-/**
- * up_device_glue_complete_get_statistics:
- * @object: A #UpDeviceGlue.
- * @invocation: (transfer full): A #GDBusMethodInvocation.
- * @data: Parameter to return.
- *
- * Helper function used in service implementations to finish handling invocations of the <link linkend="gdbus-method-org-freedesktop-UPower-Device.GetStatistics">GetStatistics()</link> D-Bus method. If you instead want to finish handling an invocation by returning an error, use g_dbus_method_invocation_return_error() or similar.
- *
- * This method will free @invocation, you cannot use it afterwards.
- */
-void
-up_device_glue_complete_get_statistics (
-    UpDeviceGlue *object,
-    GDBusMethodInvocation *invocation,
-    GVariant *data)
-{
-  g_dbus_method_invocation_return_value (invocation,
-    g_variant_new ("(@a(dd))",
-                   data));
-}
-
-/* ------------------------------------------------------------------------ */
-
-/**
- * UpDeviceGlueProxy:
- *
- * The #UpDeviceGlueProxy structure contains only private data and should only be accessed using the provided API.
- */
-
-/**
- * UpDeviceGlueProxyClass:
- * @parent_class: The parent class.
- *
- * Class structure for #UpDeviceGlueProxy.
- */
-
-struct _UpDeviceGlueProxyPrivate
-{
-  GData *qdata;
-};
-
-static void up_device_glue_proxy_iface_init (UpDeviceGlueIface *iface);
-
-G_DEFINE_TYPE_WITH_CODE (UpDeviceGlueProxy, up_device_glue_proxy, G_TYPE_DBUS_PROXY,
-                         G_ADD_PRIVATE (UpDeviceGlueProxy)
-                         G_IMPLEMENT_INTERFACE (UP_TYPE_DEVICE_GLUE, up_device_glue_proxy_iface_init));
-
-static void
-up_device_glue_proxy_finalize (GObject *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  g_datalist_clear (&proxy->priv->qdata);
-  G_OBJECT_CLASS (up_device_glue_proxy_parent_class)->finalize (object);
-}
-
-static void
-up_device_glue_proxy_get_property (GObject      *object,
-  guint         prop_id,
-  GValue       *value,
-  GParamSpec   *pspec G_GNUC_UNUSED)
-{
-  const _ExtendedGDBusPropertyInfo *info;
-  GVariant *variant;
-  g_assert (prop_id != 0 && prop_id - 1 < 28);
-  info = _up_device_glue_property_info_pointers[prop_id - 1];
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (object), info->parent_struct.name);
-  if (info->use_gvariant)
-    {
-      g_value_set_variant (value, variant);
-    }
-  else
-    {
-      if (variant != NULL)
-        g_dbus_gvariant_to_gvalue (variant, value);
-    }
-  if (variant != NULL)
-    g_variant_unref (variant);
-}
-
-static void
-up_device_glue_proxy_set_property_cb (GDBusProxy *proxy,
-  GAsyncResult *res,
-  gpointer      user_data)
-{
-  const _ExtendedGDBusPropertyInfo *info = user_data;
-  GError *error;
-  error = NULL;
-  if (!g_dbus_proxy_call_finish (proxy, res, &error))
-    {
-      g_warning ("Error setting property '%s' on interface org.freedesktop.UPower.Device: %s (%s, %d)",
-                 info->parent_struct.name, 
-                 error->message, g_quark_to_string (error->domain), error->code);
-      g_error_free (error);
-    }
-}
-
-static void
-up_device_glue_proxy_set_property (GObject      *object,
-  guint         prop_id,
-  const GValue *value,
-  GParamSpec   *pspec G_GNUC_UNUSED)
-{
-  const _ExtendedGDBusPropertyInfo *info;
-  GVariant *variant;
-  g_assert (prop_id != 0 && prop_id - 1 < 28);
-  info = _up_device_glue_property_info_pointers[prop_id - 1];
-  variant = g_dbus_gvalue_to_gvariant (value, G_VARIANT_TYPE (info->parent_struct.signature));
-  g_dbus_proxy_call (G_DBUS_PROXY (object),
-    "org.freedesktop.DBus.Properties.Set",
-    g_variant_new ("(ssv)", "org.freedesktop.UPower.Device", info->parent_struct.name, variant),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    NULL, (GAsyncReadyCallback) up_device_glue_proxy_set_property_cb, (GDBusPropertyInfo *) &info->parent_struct);
-  g_variant_unref (variant);
-}
-
-static void
-up_device_glue_proxy_g_signal (GDBusProxy *proxy,
-  const gchar *sender_name G_GNUC_UNUSED,
-  const gchar *signal_name,
-  GVariant *parameters)
-{
-  _ExtendedGDBusSignalInfo *info;
-  GVariantIter iter;
-  GVariant *child;
-  GValue *paramv;
-  guint num_params;
-  guint n;
-  guint signal_id;
-  info = (_ExtendedGDBusSignalInfo *) g_dbus_interface_info_lookup_signal ((GDBusInterfaceInfo *) &_up_device_glue_interface_info.parent_struct, signal_name);
-  if (info == NULL)
-    return;
-  num_params = g_variant_n_children (parameters);
-  paramv = g_new0 (GValue, num_params + 1);
-  g_value_init (&paramv[0], UP_TYPE_DEVICE_GLUE);
-  g_value_set_object (&paramv[0], proxy);
-  g_variant_iter_init (&iter, parameters);
-  n = 1;
-  while ((child = g_variant_iter_next_value (&iter)) != NULL)
-    {
-      _ExtendedGDBusArgInfo *arg_info = (_ExtendedGDBusArgInfo *) info->parent_struct.args[n - 1];
-      if (arg_info->use_gvariant)
-        {
-          g_value_init (&paramv[n], G_TYPE_VARIANT);
-          g_value_set_variant (&paramv[n], child);
-          n++;
-        }
-      else
-        g_dbus_gvariant_to_gvalue (child, &paramv[n++]);
-      g_variant_unref (child);
-    }
-  signal_id = g_signal_lookup (info->signal_name, UP_TYPE_DEVICE_GLUE);
-  g_signal_emitv (paramv, signal_id, 0, NULL);
-  for (n = 0; n < num_params + 1; n++)
-    g_value_unset (&paramv[n]);
-  g_free (paramv);
-}
-
-static void
-up_device_glue_proxy_g_properties_changed (GDBusProxy *_proxy,
-  GVariant *changed_properties,
-  const gchar *const *invalidated_properties)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (_proxy);
-  guint n;
-  const gchar *key;
-  GVariantIter *iter;
-  _ExtendedGDBusPropertyInfo *info;
-  g_variant_get (changed_properties, "a{sv}", &iter);
-  while (g_variant_iter_next (iter, "{&sv}", &key, NULL))
-    {
-      info = (_ExtendedGDBusPropertyInfo *) g_dbus_interface_info_lookup_property ((GDBusInterfaceInfo *) &_up_device_glue_interface_info.parent_struct, key);
-      g_datalist_remove_data (&proxy->priv->qdata, key);
-      if (info != NULL)
-        g_object_notify (G_OBJECT (proxy), info->hyphen_name);
-    }
-  g_variant_iter_free (iter);
-  for (n = 0; invalidated_properties[n] != NULL; n++)
-    {
-      info = (_ExtendedGDBusPropertyInfo *) g_dbus_interface_info_lookup_property ((GDBusInterfaceInfo *) &_up_device_glue_interface_info.parent_struct, invalidated_properties[n]);
-      g_datalist_remove_data (&proxy->priv->qdata, invalidated_properties[n]);
-      if (info != NULL)
-        g_object_notify (G_OBJECT (proxy), info->hyphen_name);
-    }
-}
-
-static const gchar *
-up_device_glue_proxy_get_native_path (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  const gchar *value = NULL;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "NativePath");
-  if (variant != NULL)
-    {
-      value = g_variant_get_string (variant, NULL);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static const gchar *
-up_device_glue_proxy_get_vendor (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  const gchar *value = NULL;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Vendor");
-  if (variant != NULL)
-    {
-      value = g_variant_get_string (variant, NULL);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static const gchar *
-up_device_glue_proxy_get_model (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  const gchar *value = NULL;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Model");
-  if (variant != NULL)
-    {
-      value = g_variant_get_string (variant, NULL);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static const gchar *
-up_device_glue_proxy_get_serial (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  const gchar *value = NULL;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Serial");
-  if (variant != NULL)
-    {
-      value = g_variant_get_string (variant, NULL);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static guint64 
-up_device_glue_proxy_get_update_time (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  guint64 value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "UpdateTime");
-  if (variant != NULL)
-    {
-      value = g_variant_get_uint64 (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static guint 
-up_device_glue_proxy_get_type_ (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  guint value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Type");
-  if (variant != NULL)
-    {
-      value = g_variant_get_uint32 (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gboolean 
-up_device_glue_proxy_get_power_supply (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gboolean value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "PowerSupply");
-  if (variant != NULL)
-    {
-      value = g_variant_get_boolean (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gboolean 
-up_device_glue_proxy_get_has_history (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gboolean value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "HasHistory");
-  if (variant != NULL)
-    {
-      value = g_variant_get_boolean (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gboolean 
-up_device_glue_proxy_get_has_statistics (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gboolean value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "HasStatistics");
-  if (variant != NULL)
-    {
-      value = g_variant_get_boolean (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gboolean 
-up_device_glue_proxy_get_online (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gboolean value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Online");
-  if (variant != NULL)
-    {
-      value = g_variant_get_boolean (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gdouble 
-up_device_glue_proxy_get_energy (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gdouble value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Energy");
-  if (variant != NULL)
-    {
-      value = g_variant_get_double (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gdouble 
-up_device_glue_proxy_get_energy_empty (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gdouble value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "EnergyEmpty");
-  if (variant != NULL)
-    {
-      value = g_variant_get_double (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gdouble 
-up_device_glue_proxy_get_energy_full (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gdouble value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "EnergyFull");
-  if (variant != NULL)
-    {
-      value = g_variant_get_double (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gdouble 
-up_device_glue_proxy_get_energy_full_design (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gdouble value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "EnergyFullDesign");
-  if (variant != NULL)
-    {
-      value = g_variant_get_double (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gdouble 
-up_device_glue_proxy_get_energy_rate (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gdouble value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "EnergyRate");
-  if (variant != NULL)
-    {
-      value = g_variant_get_double (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gdouble 
-up_device_glue_proxy_get_voltage (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gdouble value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Voltage");
-  if (variant != NULL)
-    {
-      value = g_variant_get_double (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gdouble 
-up_device_glue_proxy_get_luminosity (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gdouble value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Luminosity");
-  if (variant != NULL)
-    {
-      value = g_variant_get_double (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gint64 
-up_device_glue_proxy_get_time_to_empty (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gint64 value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "TimeToEmpty");
-  if (variant != NULL)
-    {
-      value = g_variant_get_int64 (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gint64 
-up_device_glue_proxy_get_time_to_full (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gint64 value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "TimeToFull");
-  if (variant != NULL)
-    {
-      value = g_variant_get_int64 (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gdouble 
-up_device_glue_proxy_get_percentage (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gdouble value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Percentage");
-  if (variant != NULL)
-    {
-      value = g_variant_get_double (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gdouble 
-up_device_glue_proxy_get_temperature (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gdouble value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Temperature");
-  if (variant != NULL)
-    {
-      value = g_variant_get_double (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gboolean 
-up_device_glue_proxy_get_is_present (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gboolean value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "IsPresent");
-  if (variant != NULL)
-    {
-      value = g_variant_get_boolean (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static guint 
-up_device_glue_proxy_get_state (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  guint value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "State");
-  if (variant != NULL)
-    {
-      value = g_variant_get_uint32 (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gboolean 
-up_device_glue_proxy_get_is_rechargeable (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gboolean value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "IsRechargeable");
-  if (variant != NULL)
-    {
-      value = g_variant_get_boolean (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static gdouble 
-up_device_glue_proxy_get_capacity (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  gdouble value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Capacity");
-  if (variant != NULL)
-    {
-      value = g_variant_get_double (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static guint 
-up_device_glue_proxy_get_technology (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  guint value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "Technology");
-  if (variant != NULL)
-    {
-      value = g_variant_get_uint32 (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static guint 
-up_device_glue_proxy_get_warning_level (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  guint value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "WarningLevel");
-  if (variant != NULL)
-    {
-      value = g_variant_get_uint32 (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static const gchar *
-up_device_glue_proxy_get_icon_name (UpDeviceGlue *object)
-{
-  UpDeviceGlueProxy *proxy = UP_DEVICE_GLUE_PROXY (object);
-  GVariant *variant;
-  const gchar *value = NULL;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "IconName");
-  if (variant != NULL)
-    {
-      value = g_variant_get_string (variant, NULL);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static void
-up_device_glue_proxy_init (UpDeviceGlueProxy *proxy)
-{
-  proxy->priv = up_device_glue_proxy_get_instance_private (proxy);
-  g_dbus_proxy_set_interface_info (G_DBUS_PROXY (proxy), up_device_glue_interface_info ());
-}
-
-static void
-up_device_glue_proxy_class_init (UpDeviceGlueProxyClass *klass)
-{
-  GObjectClass *gobject_class;
-  GDBusProxyClass *proxy_class;
-
-  gobject_class = G_OBJECT_CLASS (klass);
-  gobject_class->finalize     = up_device_glue_proxy_finalize;
-  gobject_class->get_property = up_device_glue_proxy_get_property;
-  gobject_class->set_property = up_device_glue_proxy_set_property;
-
-  proxy_class = G_DBUS_PROXY_CLASS (klass);
-  proxy_class->g_signal = up_device_glue_proxy_g_signal;
-  proxy_class->g_properties_changed = up_device_glue_proxy_g_properties_changed;
-
-
-  up_device_glue_override_properties (gobject_class, 1);
-}
-
-static void
-up_device_glue_proxy_iface_init (UpDeviceGlueIface *iface)
-{
-  iface->get_native_path = up_device_glue_proxy_get_native_path;
-  iface->get_vendor = up_device_glue_proxy_get_vendor;
-  iface->get_model = up_device_glue_proxy_get_model;
-  iface->get_serial = up_device_glue_proxy_get_serial;
-  iface->get_update_time = up_device_glue_proxy_get_update_time;
-  iface->get_type_ = up_device_glue_proxy_get_type_;
-  iface->get_power_supply = up_device_glue_proxy_get_power_supply;
-  iface->get_has_history = up_device_glue_proxy_get_has_history;
-  iface->get_has_statistics = up_device_glue_proxy_get_has_statistics;
-  iface->get_online = up_device_glue_proxy_get_online;
-  iface->get_energy = up_device_glue_proxy_get_energy;
-  iface->get_energy_empty = up_device_glue_proxy_get_energy_empty;
-  iface->get_energy_full = up_device_glue_proxy_get_energy_full;
-  iface->get_energy_full_design = up_device_glue_proxy_get_energy_full_design;
-  iface->get_energy_rate = up_device_glue_proxy_get_energy_rate;
-  iface->get_voltage = up_device_glue_proxy_get_voltage;
-  iface->get_luminosity = up_device_glue_proxy_get_luminosity;
-  iface->get_time_to_empty = up_device_glue_proxy_get_time_to_empty;
-  iface->get_time_to_full = up_device_glue_proxy_get_time_to_full;
-  iface->get_percentage = up_device_glue_proxy_get_percentage;
-  iface->get_temperature = up_device_glue_proxy_get_temperature;
-  iface->get_is_present = up_device_glue_proxy_get_is_present;
-  iface->get_state = up_device_glue_proxy_get_state;
-  iface->get_is_rechargeable = up_device_glue_proxy_get_is_rechargeable;
-  iface->get_capacity = up_device_glue_proxy_get_capacity;
-  iface->get_technology = up_device_glue_proxy_get_technology;
-  iface->get_warning_level = up_device_glue_proxy_get_warning_level;
-  iface->get_icon_name = up_device_glue_proxy_get_icon_name;
-}
-
-/**
- * up_device_glue_proxy_new:
- * @connection: A #GDBusConnection.
- * @flags: Flags from the #GDBusProxyFlags enumeration.
- * @name: (allow-none): A bus name (well-known or unique) or %NULL if @connection is not a message bus connection.
- * @object_path: An object path.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @callback: A #GAsyncReadyCallback to call when the request is satisfied.
- * @user_data: User data to pass to @callback.
- *
- * Asynchronously creates a proxy for the D-Bus interface <link linkend="gdbus-interface-org-freedesktop-UPower-Device.top_of_page">org.freedesktop.UPower.Device</link>. See g_dbus_proxy_new() for more details.
- *
- * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
- * You can then call up_device_glue_proxy_new_finish() to get the result of the operation.
- *
- * See up_device_glue_proxy_new_sync() for the synchronous, blocking version of this constructor.
- */
-void
-up_device_glue_proxy_new (
-    GDBusConnection     *connection,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GAsyncReadyCallback  callback,
-    gpointer             user_data)
-{
-  g_async_initable_new_async (UP_TYPE_DEVICE_GLUE_PROXY, G_PRIORITY_DEFAULT, cancellable, callback, user_data, "g-flags", flags, "g-name", name, "g-connection", connection, "g-object-path", object_path, "g-interface-name", "org.freedesktop.UPower.Device", NULL);
-}
-
-/**
- * up_device_glue_proxy_new_finish:
- * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_device_glue_proxy_new().
- * @error: Return location for error or %NULL
- *
- * Finishes an operation started with up_device_glue_proxy_new().
- *
- * Returns: (transfer full) (type UpDeviceGlueProxy): The constructed proxy object or %NULL if @error is set.
- */
-UpDeviceGlue *
-up_device_glue_proxy_new_finish (
-    GAsyncResult        *res,
-    GError             **error)
-{
-  GObject *ret;
-  GObject *source_object;
-  source_object = g_async_result_get_source_object (res);
-  ret = g_async_initable_new_finish (G_ASYNC_INITABLE (source_object), res, error);
-  g_object_unref (source_object);
-  if (ret != NULL)
-    return UP_DEVICE_GLUE (ret);
-  else
-    return NULL;
-}
-
-/**
- * up_device_glue_proxy_new_sync:
- * @connection: A #GDBusConnection.
- * @flags: Flags from the #GDBusProxyFlags enumeration.
- * @name: (allow-none): A bus name (well-known or unique) or %NULL if @connection is not a message bus connection.
- * @object_path: An object path.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @error: Return location for error or %NULL
- *
- * Synchronously creates a proxy for the D-Bus interface <link linkend="gdbus-interface-org-freedesktop-UPower-Device.top_of_page">org.freedesktop.UPower.Device</link>. See g_dbus_proxy_new_sync() for more details.
- *
- * The calling thread is blocked until a reply is received.
- *
- * See up_device_glue_proxy_new() for the asynchronous version of this constructor.
- *
- * Returns: (transfer full) (type UpDeviceGlueProxy): The constructed proxy object or %NULL if @error is set.
- */
-UpDeviceGlue *
-up_device_glue_proxy_new_sync (
-    GDBusConnection     *connection,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GError             **error)
-{
-  GInitable *ret;
-  ret = g_initable_new (UP_TYPE_DEVICE_GLUE_PROXY, cancellable, error, "g-flags", flags, "g-name", name, "g-connection", connection, "g-object-path", object_path, "g-interface-name", "org.freedesktop.UPower.Device", NULL);
-  if (ret != NULL)
-    return UP_DEVICE_GLUE (ret);
-  else
-    return NULL;
-}
-
-
-/**
- * up_device_glue_proxy_new_for_bus:
- * @bus_type: A #GBusType.
- * @flags: Flags from the #GDBusProxyFlags enumeration.
- * @name: A bus name (well-known or unique).
- * @object_path: An object path.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @callback: A #GAsyncReadyCallback to call when the request is satisfied.
- * @user_data: User data to pass to @callback.
- *
- * Like up_device_glue_proxy_new() but takes a #GBusType instead of a #GDBusConnection.
- *
- * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
- * You can then call up_device_glue_proxy_new_for_bus_finish() to get the result of the operation.
- *
- * See up_device_glue_proxy_new_for_bus_sync() for the synchronous, blocking version of this constructor.
- */
-void
-up_device_glue_proxy_new_for_bus (
-    GBusType             bus_type,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GAsyncReadyCallback  callback,
-    gpointer             user_data)
-{
-  g_async_initable_new_async (UP_TYPE_DEVICE_GLUE_PROXY, G_PRIORITY_DEFAULT, cancellable, callback, user_data, "g-flags", flags, "g-name", name, "g-bus-type", bus_type, "g-object-path", object_path, "g-interface-name", "org.freedesktop.UPower.Device", NULL);
-}
-
-/**
- * up_device_glue_proxy_new_for_bus_finish:
- * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_device_glue_proxy_new_for_bus().
- * @error: Return location for error or %NULL
- *
- * Finishes an operation started with up_device_glue_proxy_new_for_bus().
- *
- * Returns: (transfer full) (type UpDeviceGlueProxy): The constructed proxy object or %NULL if @error is set.
- */
-UpDeviceGlue *
-up_device_glue_proxy_new_for_bus_finish (
-    GAsyncResult        *res,
-    GError             **error)
-{
-  GObject *ret;
-  GObject *source_object;
-  source_object = g_async_result_get_source_object (res);
-  ret = g_async_initable_new_finish (G_ASYNC_INITABLE (source_object), res, error);
-  g_object_unref (source_object);
-  if (ret != NULL)
-    return UP_DEVICE_GLUE (ret);
-  else
-    return NULL;
-}
-
-/**
- * up_device_glue_proxy_new_for_bus_sync:
- * @bus_type: A #GBusType.
- * @flags: Flags from the #GDBusProxyFlags enumeration.
- * @name: A bus name (well-known or unique).
- * @object_path: An object path.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @error: Return location for error or %NULL
- *
- * Like up_device_glue_proxy_new_sync() but takes a #GBusType instead of a #GDBusConnection.
- *
- * The calling thread is blocked until a reply is received.
- *
- * See up_device_glue_proxy_new_for_bus() for the asynchronous version of this constructor.
- *
- * Returns: (transfer full) (type UpDeviceGlueProxy): The constructed proxy object or %NULL if @error is set.
- */
-UpDeviceGlue *
-up_device_glue_proxy_new_for_bus_sync (
-    GBusType             bus_type,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GError             **error)
-{
-  GInitable *ret;
-  ret = g_initable_new (UP_TYPE_DEVICE_GLUE_PROXY, cancellable, error, "g-flags", flags, "g-name", name, "g-bus-type", bus_type, "g-object-path", object_path, "g-interface-name", "org.freedesktop.UPower.Device", NULL);
-  if (ret != NULL)
-    return UP_DEVICE_GLUE (ret);
-  else
-    return NULL;
-}
-
-
-/* ------------------------------------------------------------------------ */
-
-/**
- * UpDeviceGlueSkeleton:
- *
- * The #UpDeviceGlueSkeleton structure contains only private data and should only be accessed using the provided API.
- */
-
-/**
- * UpDeviceGlueSkeletonClass:
- * @parent_class: The parent class.
- *
- * Class structure for #UpDeviceGlueSkeleton.
- */
-
-struct _UpDeviceGlueSkeletonPrivate
-{
-  GValue *properties;
-  GList *changed_properties;
-  GSource *changed_properties_idle_source;
-  GMainContext *context;
-  GMutex lock;
-};
-
-static void
-_up_device_glue_skeleton_handle_method_call (
-  GDBusConnection *connection G_GNUC_UNUSED,
-  const gchar *sender G_GNUC_UNUSED,
-  const gchar *object_path G_GNUC_UNUSED,
-  const gchar *interface_name,
-  const gchar *method_name,
-  GVariant *parameters,
-  GDBusMethodInvocation *invocation,
-  gpointer user_data)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (user_data);
-  _ExtendedGDBusMethodInfo *info;
-  GVariantIter iter;
-  GVariant *child;
-  GValue *paramv;
-  guint num_params;
-  guint num_extra;
-  guint n;
-  guint signal_id;
-  GValue return_value = G_VALUE_INIT;
-  info = (_ExtendedGDBusMethodInfo *) g_dbus_method_invocation_get_method_info (invocation);
-  g_assert (info != NULL);
-  num_params = g_variant_n_children (parameters);
-  num_extra = info->pass_fdlist ? 3 : 2;  paramv = g_new0 (GValue, num_params + num_extra);
-  n = 0;
-  g_value_init (&paramv[n], UP_TYPE_DEVICE_GLUE);
-  g_value_set_object (&paramv[n++], skeleton);
-  g_value_init (&paramv[n], G_TYPE_DBUS_METHOD_INVOCATION);
-  g_value_set_object (&paramv[n++], invocation);
-  if (info->pass_fdlist)
-    {
-#ifdef G_OS_UNIX
-      g_value_init (&paramv[n], G_TYPE_UNIX_FD_LIST);
-      g_value_set_object (&paramv[n++], g_dbus_message_get_unix_fd_list (g_dbus_method_invocation_get_message (invocation)));
-#else
-      g_assert_not_reached ();
-#endif
-    }
-  g_variant_iter_init (&iter, parameters);
-  while ((child = g_variant_iter_next_value (&iter)) != NULL)
-    {
-      _ExtendedGDBusArgInfo *arg_info = (_ExtendedGDBusArgInfo *) info->parent_struct.in_args[n - num_extra];
-      if (arg_info->use_gvariant)
-        {
-          g_value_init (&paramv[n], G_TYPE_VARIANT);
-          g_value_set_variant (&paramv[n], child);
-          n++;
-        }
-      else
-        g_dbus_gvariant_to_gvalue (child, &paramv[n++]);
-      g_variant_unref (child);
-    }
-  signal_id = g_signal_lookup (info->signal_name, UP_TYPE_DEVICE_GLUE);
-  g_value_init (&return_value, G_TYPE_BOOLEAN);
-  g_signal_emitv (paramv, signal_id, 0, &return_value);
-  if (!g_value_get_boolean (&return_value))
-    g_dbus_method_invocation_return_error (invocation, G_DBUS_ERROR, G_DBUS_ERROR_UNKNOWN_METHOD, "Method %s is not implemented on interface %s", method_name, interface_name);
-  g_value_unset (&return_value);
-  for (n = 0; n < num_params + num_extra; n++)
-    g_value_unset (&paramv[n]);
-  g_free (paramv);
-}
-
-static GVariant *
-_up_device_glue_skeleton_handle_get_property (
-  GDBusConnection *connection G_GNUC_UNUSED,
-  const gchar *sender G_GNUC_UNUSED,
-  const gchar *object_path G_GNUC_UNUSED,
-  const gchar *interface_name G_GNUC_UNUSED,
-  const gchar *property_name,
-  GError **error,
-  gpointer user_data)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (user_data);
-  GValue value = G_VALUE_INIT;
-  GParamSpec *pspec;
-  _ExtendedGDBusPropertyInfo *info;
-  GVariant *ret;
-  ret = NULL;
-  info = (_ExtendedGDBusPropertyInfo *) g_dbus_interface_info_lookup_property ((GDBusInterfaceInfo *) &_up_device_glue_interface_info.parent_struct, property_name);
-  g_assert (info != NULL);
-  pspec = g_object_class_find_property (G_OBJECT_GET_CLASS (skeleton), info->hyphen_name);
-  if (pspec == NULL)
-    {
-      g_set_error (error, G_DBUS_ERROR, G_DBUS_ERROR_INVALID_ARGS, "No property with name %s", property_name);
-    }
-  else
-    {
-      g_value_init (&value, pspec->value_type);
-      g_object_get_property (G_OBJECT (skeleton), info->hyphen_name, &value);
-      ret = g_dbus_gvalue_to_gvariant (&value, G_VARIANT_TYPE (info->parent_struct.signature));
-      g_value_unset (&value);
-    }
-  return ret;
-}
-
-static gboolean
-_up_device_glue_skeleton_handle_set_property (
-  GDBusConnection *connection G_GNUC_UNUSED,
-  const gchar *sender G_GNUC_UNUSED,
-  const gchar *object_path G_GNUC_UNUSED,
-  const gchar *interface_name G_GNUC_UNUSED,
-  const gchar *property_name,
-  GVariant *variant,
-  GError **error,
-  gpointer user_data)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (user_data);
-  GValue value = G_VALUE_INIT;
-  GParamSpec *pspec;
-  _ExtendedGDBusPropertyInfo *info;
-  gboolean ret;
-  ret = FALSE;
-  info = (_ExtendedGDBusPropertyInfo *) g_dbus_interface_info_lookup_property ((GDBusInterfaceInfo *) &_up_device_glue_interface_info.parent_struct, property_name);
-  g_assert (info != NULL);
-  pspec = g_object_class_find_property (G_OBJECT_GET_CLASS (skeleton), info->hyphen_name);
-  if (pspec == NULL)
-    {
-      g_set_error (error, G_DBUS_ERROR, G_DBUS_ERROR_INVALID_ARGS, "No property with name %s", property_name);
-    }
-  else
-    {
-      if (info->use_gvariant)
-        g_value_set_variant (&value, variant);
-      else
-        g_dbus_gvariant_to_gvalue (variant, &value);
-      g_object_set_property (G_OBJECT (skeleton), info->hyphen_name, &value);
-      g_value_unset (&value);
-      ret = TRUE;
-    }
-  return ret;
-}
-
-static const GDBusInterfaceVTable _up_device_glue_skeleton_vtable =
-{
-  _up_device_glue_skeleton_handle_method_call,
-  _up_device_glue_skeleton_handle_get_property,
-  _up_device_glue_skeleton_handle_set_property,
-  {NULL}
-};
-
-static GDBusInterfaceInfo *
-up_device_glue_skeleton_dbus_interface_get_info (GDBusInterfaceSkeleton *skeleton G_GNUC_UNUSED)
-{
-  return up_device_glue_interface_info ();
-}
-
-static GDBusInterfaceVTable *
-up_device_glue_skeleton_dbus_interface_get_vtable (GDBusInterfaceSkeleton *skeleton G_GNUC_UNUSED)
-{
-  return (GDBusInterfaceVTable *) &_up_device_glue_skeleton_vtable;
-}
-
-static GVariant *
-up_device_glue_skeleton_dbus_interface_get_properties (GDBusInterfaceSkeleton *_skeleton)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (_skeleton);
-
-  GVariantBuilder builder;
-  guint n;
-  g_variant_builder_init (&builder, G_VARIANT_TYPE ("a{sv}"));
-  if (_up_device_glue_interface_info.parent_struct.properties == NULL)
-    goto out;
-  for (n = 0; _up_device_glue_interface_info.parent_struct.properties[n] != NULL; n++)
-    {
-      GDBusPropertyInfo *info = _up_device_glue_interface_info.parent_struct.properties[n];
-      if (info->flags & G_DBUS_PROPERTY_INFO_FLAGS_READABLE)
-        {
-          GVariant *value;
-          value = _up_device_glue_skeleton_handle_get_property (g_dbus_interface_skeleton_get_connection (G_DBUS_INTERFACE_SKELETON (skeleton)), NULL, g_dbus_interface_skeleton_get_object_path (G_DBUS_INTERFACE_SKELETON (skeleton)), "org.freedesktop.UPower.Device", info->name, NULL, skeleton);
-          if (value != NULL)
-            {
-              g_variant_take_ref (value);
-              g_variant_builder_add (&builder, "{sv}", info->name, value);
-              g_variant_unref (value);
-            }
-        }
-    }
-out:
-  return g_variant_builder_end (&builder);
-}
-
-static gboolean _up_device_glue_emit_changed (gpointer user_data);
-
-static void
-up_device_glue_skeleton_dbus_interface_flush (GDBusInterfaceSkeleton *_skeleton)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (_skeleton);
-  gboolean emit_changed = FALSE;
-
-  g_mutex_lock (&skeleton->priv->lock);
-  if (skeleton->priv->changed_properties_idle_source != NULL)
-    {
-      g_source_destroy (skeleton->priv->changed_properties_idle_source);
-      skeleton->priv->changed_properties_idle_source = NULL;
-      emit_changed = TRUE;
-    }
-  g_mutex_unlock (&skeleton->priv->lock);
-
-  if (emit_changed)
-    _up_device_glue_emit_changed (skeleton);
-}
-
-static void up_device_glue_skeleton_iface_init (UpDeviceGlueIface *iface);
-G_DEFINE_TYPE_WITH_CODE (UpDeviceGlueSkeleton, up_device_glue_skeleton, G_TYPE_DBUS_INTERFACE_SKELETON,
-                         G_ADD_PRIVATE (UpDeviceGlueSkeleton)
-                         G_IMPLEMENT_INTERFACE (UP_TYPE_DEVICE_GLUE, up_device_glue_skeleton_iface_init));
-
-static void
-up_device_glue_skeleton_finalize (GObject *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  guint n;
-  for (n = 0; n < 28; n++)
-    g_value_unset (&skeleton->priv->properties[n]);
-  g_free (skeleton->priv->properties);
-  g_list_free_full (skeleton->priv->changed_properties, (GDestroyNotify) _changed_property_free);
-  if (skeleton->priv->changed_properties_idle_source != NULL)
-    g_source_destroy (skeleton->priv->changed_properties_idle_source);
-  g_main_context_unref (skeleton->priv->context);
-  g_mutex_clear (&skeleton->priv->lock);
-  G_OBJECT_CLASS (up_device_glue_skeleton_parent_class)->finalize (object);
-}
-
-static void
-up_device_glue_skeleton_get_property (GObject      *object,
-  guint         prop_id,
-  GValue       *value,
-  GParamSpec   *pspec G_GNUC_UNUSED)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  g_assert (prop_id != 0 && prop_id - 1 < 28);
-  g_mutex_lock (&skeleton->priv->lock);
-  g_value_copy (&skeleton->priv->properties[prop_id - 1], value);
-  g_mutex_unlock (&skeleton->priv->lock);
-}
-
-static gboolean
-_up_device_glue_emit_changed (gpointer user_data)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (user_data);
-  GList *l;
-  GVariantBuilder builder;
-  GVariantBuilder invalidated_builder;
-  guint num_changes;
-
-  g_mutex_lock (&skeleton->priv->lock);
-  g_variant_builder_init (&builder, G_VARIANT_TYPE ("a{sv}"));
-  g_variant_builder_init (&invalidated_builder, G_VARIANT_TYPE ("as"));
-  for (l = skeleton->priv->changed_properties, num_changes = 0; l != NULL; l = l->next)
-    {
-      ChangedProperty *cp = l->data;
-      GVariant *variant;
-      const GValue *cur_value;
-
-      cur_value = &skeleton->priv->properties[cp->prop_id - 1];
-      if (!_g_value_equal (cur_value, &cp->orig_value))
-        {
-          variant = g_dbus_gvalue_to_gvariant (cur_value, G_VARIANT_TYPE (cp->info->parent_struct.signature));
-          g_variant_builder_add (&builder, "{sv}", cp->info->parent_struct.name, variant);
-          g_variant_unref (variant);
-          num_changes++;
-        }
-    }
-  if (num_changes > 0)
-    {
-      GList *connections, *ll;
-      GVariant *signal_variant;
-      signal_variant = g_variant_ref_sink (g_variant_new ("(sa{sv}as)", "org.freedesktop.UPower.Device",
-                                           &builder, &invalidated_builder));
-      connections = g_dbus_interface_skeleton_get_connections (G_DBUS_INTERFACE_SKELETON (skeleton));
-      for (ll = connections; ll != NULL; ll = ll->next)
-        {
-          GDBusConnection *connection = ll->data;
-
-          g_dbus_connection_emit_signal (connection,
-                                         NULL, g_dbus_interface_skeleton_get_object_path (G_DBUS_INTERFACE_SKELETON (skeleton)),
-                                         "org.freedesktop.DBus.Properties",
-                                         "PropertiesChanged",
-                                         signal_variant,
-                                         NULL);
-        }
-      g_variant_unref (signal_variant);
-      g_list_free_full (connections, g_object_unref);
-    }
-  else
-    {
-      g_variant_builder_clear (&builder);
-      g_variant_builder_clear (&invalidated_builder);
-    }
-  g_list_free_full (skeleton->priv->changed_properties, (GDestroyNotify) _changed_property_free);
-  skeleton->priv->changed_properties = NULL;
-  skeleton->priv->changed_properties_idle_source = NULL;
-  g_mutex_unlock (&skeleton->priv->lock);
-  return FALSE;
-}
-
-static void
-_up_device_glue_schedule_emit_changed (UpDeviceGlueSkeleton *skeleton, const _ExtendedGDBusPropertyInfo *info, guint prop_id, const GValue *orig_value)
-{
-  ChangedProperty *cp;
-  GList *l;
-  cp = NULL;
-  for (l = skeleton->priv->changed_properties; l != NULL; l = l->next)
-    {
-      ChangedProperty *i_cp = l->data;
-      if (i_cp->info == info)
-        {
-          cp = i_cp;
-          break;
-        }
-    }
-  if (cp == NULL)
-    {
-      cp = g_new0 (ChangedProperty, 1);
-      cp->prop_id = prop_id;
-      cp->info = info;
-      skeleton->priv->changed_properties = g_list_prepend (skeleton->priv->changed_properties, cp);
-      g_value_init (&cp->orig_value, G_VALUE_TYPE (orig_value));
-      g_value_copy (orig_value, &cp->orig_value);
-    }
-}
-
-static void
-up_device_glue_skeleton_notify (GObject      *object,
-  GParamSpec *pspec G_GNUC_UNUSED)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  g_mutex_lock (&skeleton->priv->lock);
-  if (skeleton->priv->changed_properties != NULL &&
-      skeleton->priv->changed_properties_idle_source == NULL)
-    {
-      skeleton->priv->changed_properties_idle_source = g_idle_source_new ();
-      g_source_set_priority (skeleton->priv->changed_properties_idle_source, G_PRIORITY_DEFAULT);
-      g_source_set_callback (skeleton->priv->changed_properties_idle_source, _up_device_glue_emit_changed, g_object_ref (skeleton), (GDestroyNotify) g_object_unref);
-      g_source_attach (skeleton->priv->changed_properties_idle_source, skeleton->priv->context);
-      g_source_unref (skeleton->priv->changed_properties_idle_source);
-    }
-  g_mutex_unlock (&skeleton->priv->lock);
-}
-
-static void
-up_device_glue_skeleton_set_property (GObject      *object,
-  guint         prop_id,
-  const GValue *value,
-  GParamSpec   *pspec)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  g_assert (prop_id != 0 && prop_id - 1 < 28);
-  g_mutex_lock (&skeleton->priv->lock);
-  g_object_freeze_notify (object);
-  if (!_g_value_equal (value, &skeleton->priv->properties[prop_id - 1]))
-    {
-      if (g_dbus_interface_skeleton_get_connection (G_DBUS_INTERFACE_SKELETON (skeleton)) != NULL)
-        _up_device_glue_schedule_emit_changed (skeleton, _up_device_glue_property_info_pointers[prop_id - 1], prop_id, &skeleton->priv->properties[prop_id - 1]);
-      g_value_copy (value, &skeleton->priv->properties[prop_id - 1]);
-      g_object_notify_by_pspec (object, pspec);
-    }
-  g_mutex_unlock (&skeleton->priv->lock);
-  g_object_thaw_notify (object);
-}
-
-static void
-up_device_glue_skeleton_init (UpDeviceGlueSkeleton *skeleton)
-{
-  skeleton->priv = up_device_glue_skeleton_get_instance_private (skeleton);
-  g_mutex_init (&skeleton->priv->lock);
-  skeleton->priv->context = g_main_context_ref_thread_default ();
-  skeleton->priv->properties = g_new0 (GValue, 28);
-  g_value_init (&skeleton->priv->properties[0], G_TYPE_STRING);
-  g_value_init (&skeleton->priv->properties[1], G_TYPE_STRING);
-  g_value_init (&skeleton->priv->properties[2], G_TYPE_STRING);
-  g_value_init (&skeleton->priv->properties[3], G_TYPE_STRING);
-  g_value_init (&skeleton->priv->properties[4], G_TYPE_UINT64);
-  g_value_init (&skeleton->priv->properties[5], G_TYPE_UINT);
-  g_value_init (&skeleton->priv->properties[6], G_TYPE_BOOLEAN);
-  g_value_init (&skeleton->priv->properties[7], G_TYPE_BOOLEAN);
-  g_value_init (&skeleton->priv->properties[8], G_TYPE_BOOLEAN);
-  g_value_init (&skeleton->priv->properties[9], G_TYPE_BOOLEAN);
-  g_value_init (&skeleton->priv->properties[10], G_TYPE_DOUBLE);
-  g_value_init (&skeleton->priv->properties[11], G_TYPE_DOUBLE);
-  g_value_init (&skeleton->priv->properties[12], G_TYPE_DOUBLE);
-  g_value_init (&skeleton->priv->properties[13], G_TYPE_DOUBLE);
-  g_value_init (&skeleton->priv->properties[14], G_TYPE_DOUBLE);
-  g_value_init (&skeleton->priv->properties[15], G_TYPE_DOUBLE);
-  g_value_init (&skeleton->priv->properties[16], G_TYPE_DOUBLE);
-  g_value_init (&skeleton->priv->properties[17], G_TYPE_INT64);
-  g_value_init (&skeleton->priv->properties[18], G_TYPE_INT64);
-  g_value_init (&skeleton->priv->properties[19], G_TYPE_DOUBLE);
-  g_value_init (&skeleton->priv->properties[20], G_TYPE_DOUBLE);
-  g_value_init (&skeleton->priv->properties[21], G_TYPE_BOOLEAN);
-  g_value_init (&skeleton->priv->properties[22], G_TYPE_UINT);
-  g_value_init (&skeleton->priv->properties[23], G_TYPE_BOOLEAN);
-  g_value_init (&skeleton->priv->properties[24], G_TYPE_DOUBLE);
-  g_value_init (&skeleton->priv->properties[25], G_TYPE_UINT);
-  g_value_init (&skeleton->priv->properties[26], G_TYPE_UINT);
-  g_value_init (&skeleton->priv->properties[27], G_TYPE_STRING);
-}
-
-static const gchar *
-up_device_glue_skeleton_get_native_path (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  const gchar *value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_string (&(skeleton->priv->properties[0]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static const gchar *
-up_device_glue_skeleton_get_vendor (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  const gchar *value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_string (&(skeleton->priv->properties[1]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static const gchar *
-up_device_glue_skeleton_get_model (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  const gchar *value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_string (&(skeleton->priv->properties[2]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static const gchar *
-up_device_glue_skeleton_get_serial (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  const gchar *value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_string (&(skeleton->priv->properties[3]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static guint64 
-up_device_glue_skeleton_get_update_time (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  guint64 value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_uint64 (&(skeleton->priv->properties[4]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static guint 
-up_device_glue_skeleton_get_type_ (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  guint value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_uint (&(skeleton->priv->properties[5]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gboolean 
-up_device_glue_skeleton_get_power_supply (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gboolean value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_boolean (&(skeleton->priv->properties[6]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gboolean 
-up_device_glue_skeleton_get_has_history (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gboolean value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_boolean (&(skeleton->priv->properties[7]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gboolean 
-up_device_glue_skeleton_get_has_statistics (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gboolean value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_boolean (&(skeleton->priv->properties[8]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gboolean 
-up_device_glue_skeleton_get_online (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gboolean value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_boolean (&(skeleton->priv->properties[9]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gdouble 
-up_device_glue_skeleton_get_energy (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gdouble value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_double (&(skeleton->priv->properties[10]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gdouble 
-up_device_glue_skeleton_get_energy_empty (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gdouble value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_double (&(skeleton->priv->properties[11]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gdouble 
-up_device_glue_skeleton_get_energy_full (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gdouble value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_double (&(skeleton->priv->properties[12]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gdouble 
-up_device_glue_skeleton_get_energy_full_design (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gdouble value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_double (&(skeleton->priv->properties[13]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gdouble 
-up_device_glue_skeleton_get_energy_rate (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gdouble value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_double (&(skeleton->priv->properties[14]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gdouble 
-up_device_glue_skeleton_get_voltage (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gdouble value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_double (&(skeleton->priv->properties[15]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gdouble 
-up_device_glue_skeleton_get_luminosity (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gdouble value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_double (&(skeleton->priv->properties[16]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gint64 
-up_device_glue_skeleton_get_time_to_empty (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gint64 value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_int64 (&(skeleton->priv->properties[17]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gint64 
-up_device_glue_skeleton_get_time_to_full (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gint64 value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_int64 (&(skeleton->priv->properties[18]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gdouble 
-up_device_glue_skeleton_get_percentage (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gdouble value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_double (&(skeleton->priv->properties[19]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gdouble 
-up_device_glue_skeleton_get_temperature (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gdouble value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_double (&(skeleton->priv->properties[20]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gboolean 
-up_device_glue_skeleton_get_is_present (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gboolean value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_boolean (&(skeleton->priv->properties[21]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static guint 
-up_device_glue_skeleton_get_state (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  guint value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_uint (&(skeleton->priv->properties[22]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gboolean 
-up_device_glue_skeleton_get_is_rechargeable (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gboolean value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_boolean (&(skeleton->priv->properties[23]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static gdouble 
-up_device_glue_skeleton_get_capacity (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  gdouble value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_double (&(skeleton->priv->properties[24]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static guint 
-up_device_glue_skeleton_get_technology (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  guint value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_uint (&(skeleton->priv->properties[25]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static guint 
-up_device_glue_skeleton_get_warning_level (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  guint value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_uint (&(skeleton->priv->properties[26]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static const gchar *
-up_device_glue_skeleton_get_icon_name (UpDeviceGlue *object)
-{
-  UpDeviceGlueSkeleton *skeleton = UP_DEVICE_GLUE_SKELETON (object);
-  const gchar *value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_string (&(skeleton->priv->properties[27]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static void
-up_device_glue_skeleton_class_init (UpDeviceGlueSkeletonClass *klass)
-{
-  GObjectClass *gobject_class;
-  GDBusInterfaceSkeletonClass *skeleton_class;
-
-  gobject_class = G_OBJECT_CLASS (klass);
-  gobject_class->finalize = up_device_glue_skeleton_finalize;
-  gobject_class->get_property = up_device_glue_skeleton_get_property;
-  gobject_class->set_property = up_device_glue_skeleton_set_property;
-  gobject_class->notify       = up_device_glue_skeleton_notify;
-
-
-  up_device_glue_override_properties (gobject_class, 1);
-
-  skeleton_class = G_DBUS_INTERFACE_SKELETON_CLASS (klass);
-  skeleton_class->get_info = up_device_glue_skeleton_dbus_interface_get_info;
-  skeleton_class->get_properties = up_device_glue_skeleton_dbus_interface_get_properties;
-  skeleton_class->flush = up_device_glue_skeleton_dbus_interface_flush;
-  skeleton_class->get_vtable = up_device_glue_skeleton_dbus_interface_get_vtable;
-}
-
-static void
-up_device_glue_skeleton_iface_init (UpDeviceGlueIface *iface)
-{
-  iface->get_native_path = up_device_glue_skeleton_get_native_path;
-  iface->get_vendor = up_device_glue_skeleton_get_vendor;
-  iface->get_model = up_device_glue_skeleton_get_model;
-  iface->get_serial = up_device_glue_skeleton_get_serial;
-  iface->get_update_time = up_device_glue_skeleton_get_update_time;
-  iface->get_type_ = up_device_glue_skeleton_get_type_;
-  iface->get_power_supply = up_device_glue_skeleton_get_power_supply;
-  iface->get_has_history = up_device_glue_skeleton_get_has_history;
-  iface->get_has_statistics = up_device_glue_skeleton_get_has_statistics;
-  iface->get_online = up_device_glue_skeleton_get_online;
-  iface->get_energy = up_device_glue_skeleton_get_energy;
-  iface->get_energy_empty = up_device_glue_skeleton_get_energy_empty;
-  iface->get_energy_full = up_device_glue_skeleton_get_energy_full;
-  iface->get_energy_full_design = up_device_glue_skeleton_get_energy_full_design;
-  iface->get_energy_rate = up_device_glue_skeleton_get_energy_rate;
-  iface->get_voltage = up_device_glue_skeleton_get_voltage;
-  iface->get_luminosity = up_device_glue_skeleton_get_luminosity;
-  iface->get_time_to_empty = up_device_glue_skeleton_get_time_to_empty;
-  iface->get_time_to_full = up_device_glue_skeleton_get_time_to_full;
-  iface->get_percentage = up_device_glue_skeleton_get_percentage;
-  iface->get_temperature = up_device_glue_skeleton_get_temperature;
-  iface->get_is_present = up_device_glue_skeleton_get_is_present;
-  iface->get_state = up_device_glue_skeleton_get_state;
-  iface->get_is_rechargeable = up_device_glue_skeleton_get_is_rechargeable;
-  iface->get_capacity = up_device_glue_skeleton_get_capacity;
-  iface->get_technology = up_device_glue_skeleton_get_technology;
-  iface->get_warning_level = up_device_glue_skeleton_get_warning_level;
-  iface->get_icon_name = up_device_glue_skeleton_get_icon_name;
-}
-
-/**
- * up_device_glue_skeleton_new:
- *
- * Creates a skeleton object for the D-Bus interface <link linkend="gdbus-interface-org-freedesktop-UPower-Device.top_of_page">org.freedesktop.UPower.Device</link>.
- *
- * Returns: (transfer full) (type UpDeviceGlueSkeleton): The skeleton object.
- */
-UpDeviceGlue *
-up_device_glue_skeleton_new (void)
-{
-  return UP_DEVICE_GLUE (g_object_new (UP_TYPE_DEVICE_GLUE_SKELETON, NULL));
-}
-
diff -urN upower-0.99.0/libupower-glib/up-device-glue.h upower-0.99.0-patched-pretty/libupower-glib/up-device-glue.h
--- upower-0.99.0/libupower-glib/up-device-glue.h	2013-10-29 06:39:14.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/up-device-glue.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,381 +0,0 @@
-/*
- * Generated by gdbus-codegen 2.39.0. DO NOT EDIT.
- *
- * The license of this code is the same as for the source it was derived from.
- */
-
-#ifndef __UP_DEVICE_GLUE_H__
-#define __UP_DEVICE_GLUE_H__
-
-#include <gio/gio.h>
-
-G_BEGIN_DECLS
-
-
-/* ------------------------------------------------------------------------ */
-/* Declarations for org.freedesktop.UPower.Device */
-
-#define UP_TYPE_DEVICE_GLUE (up_device_glue_get_type ())
-#define UP_DEVICE_GLUE(o) (G_TYPE_CHECK_INSTANCE_CAST ((o), UP_TYPE_DEVICE_GLUE, UpDeviceGlue))
-#define UP_IS_DEVICE_GLUE(o) (G_TYPE_CHECK_INSTANCE_TYPE ((o), UP_TYPE_DEVICE_GLUE))
-#define UP_DEVICE_GLUE_GET_IFACE(o) (G_TYPE_INSTANCE_GET_INTERFACE ((o), UP_TYPE_DEVICE_GLUE, UpDeviceGlueIface))
-
-struct _UpDeviceGlue;
-typedef struct _UpDeviceGlue UpDeviceGlue;
-typedef struct _UpDeviceGlueIface UpDeviceGlueIface;
-
-struct _UpDeviceGlueIface
-{
-  GTypeInterface parent_iface;
-
-
-  gboolean (*handle_get_history) (
-    UpDeviceGlue *object,
-    GDBusMethodInvocation *invocation,
-    const gchar *arg_type,
-    guint arg_timespan,
-    guint arg_resolution);
-
-  gboolean (*handle_get_statistics) (
-    UpDeviceGlue *object,
-    GDBusMethodInvocation *invocation,
-    const gchar *arg_type);
-
-  gboolean (*handle_refresh) (
-    UpDeviceGlue *object,
-    GDBusMethodInvocation *invocation);
-
-  gdouble  (*get_capacity) (UpDeviceGlue *object);
-
-  gdouble  (*get_energy) (UpDeviceGlue *object);
-
-  gdouble  (*get_energy_empty) (UpDeviceGlue *object);
-
-  gdouble  (*get_energy_full) (UpDeviceGlue *object);
-
-  gdouble  (*get_energy_full_design) (UpDeviceGlue *object);
-
-  gdouble  (*get_energy_rate) (UpDeviceGlue *object);
-
-  gboolean  (*get_has_history) (UpDeviceGlue *object);
-
-  gboolean  (*get_has_statistics) (UpDeviceGlue *object);
-
-  const gchar * (*get_icon_name) (UpDeviceGlue *object);
-
-  gboolean  (*get_is_present) (UpDeviceGlue *object);
-
-  gboolean  (*get_is_rechargeable) (UpDeviceGlue *object);
-
-  gdouble  (*get_luminosity) (UpDeviceGlue *object);
-
-  const gchar * (*get_model) (UpDeviceGlue *object);
-
-  const gchar * (*get_native_path) (UpDeviceGlue *object);
-
-  gboolean  (*get_online) (UpDeviceGlue *object);
-
-  gdouble  (*get_percentage) (UpDeviceGlue *object);
-
-  gboolean  (*get_power_supply) (UpDeviceGlue *object);
-
-  const gchar * (*get_serial) (UpDeviceGlue *object);
-
-  guint  (*get_state) (UpDeviceGlue *object);
-
-  guint  (*get_technology) (UpDeviceGlue *object);
-
-  gdouble  (*get_temperature) (UpDeviceGlue *object);
-
-  gint64  (*get_time_to_empty) (UpDeviceGlue *object);
-
-  gint64  (*get_time_to_full) (UpDeviceGlue *object);
-
-  guint  (*get_type_) (UpDeviceGlue *object);
-
-  guint64  (*get_update_time) (UpDeviceGlue *object);
-
-  const gchar * (*get_vendor) (UpDeviceGlue *object);
-
-  gdouble  (*get_voltage) (UpDeviceGlue *object);
-
-  guint  (*get_warning_level) (UpDeviceGlue *object);
-
-};
-
-GType up_device_glue_get_type (void) G_GNUC_CONST;
-
-GDBusInterfaceInfo *up_device_glue_interface_info (void);
-guint up_device_glue_override_properties (GObjectClass *klass, guint property_id_begin);
-
-
-/* D-Bus method call completion functions: */
-void up_device_glue_complete_refresh (
-    UpDeviceGlue *object,
-    GDBusMethodInvocation *invocation);
-
-void up_device_glue_complete_get_history (
-    UpDeviceGlue *object,
-    GDBusMethodInvocation *invocation,
-    GVariant *data);
-
-void up_device_glue_complete_get_statistics (
-    UpDeviceGlue *object,
-    GDBusMethodInvocation *invocation,
-    GVariant *data);
-
-
-
-/* D-Bus method calls: */
-void up_device_glue_call_refresh (
-    UpDeviceGlue *proxy,
-    GCancellable *cancellable,
-    GAsyncReadyCallback callback,
-    gpointer user_data);
-
-gboolean up_device_glue_call_refresh_finish (
-    UpDeviceGlue *proxy,
-    GAsyncResult *res,
-    GError **error);
-
-gboolean up_device_glue_call_refresh_sync (
-    UpDeviceGlue *proxy,
-    GCancellable *cancellable,
-    GError **error);
-
-void up_device_glue_call_get_history (
-    UpDeviceGlue *proxy,
-    const gchar *arg_type,
-    guint arg_timespan,
-    guint arg_resolution,
-    GCancellable *cancellable,
-    GAsyncReadyCallback callback,
-    gpointer user_data);
-
-gboolean up_device_glue_call_get_history_finish (
-    UpDeviceGlue *proxy,
-    GVariant **out_data,
-    GAsyncResult *res,
-    GError **error);
-
-gboolean up_device_glue_call_get_history_sync (
-    UpDeviceGlue *proxy,
-    const gchar *arg_type,
-    guint arg_timespan,
-    guint arg_resolution,
-    GVariant **out_data,
-    GCancellable *cancellable,
-    GError **error);
-
-void up_device_glue_call_get_statistics (
-    UpDeviceGlue *proxy,
-    const gchar *arg_type,
-    GCancellable *cancellable,
-    GAsyncReadyCallback callback,
-    gpointer user_data);
-
-gboolean up_device_glue_call_get_statistics_finish (
-    UpDeviceGlue *proxy,
-    GVariant **out_data,
-    GAsyncResult *res,
-    GError **error);
-
-gboolean up_device_glue_call_get_statistics_sync (
-    UpDeviceGlue *proxy,
-    const gchar *arg_type,
-    GVariant **out_data,
-    GCancellable *cancellable,
-    GError **error);
-
-
-
-/* D-Bus property accessors: */
-const gchar *up_device_glue_get_native_path (UpDeviceGlue *object);
-gchar *up_device_glue_dup_native_path (UpDeviceGlue *object);
-void up_device_glue_set_native_path (UpDeviceGlue *object, const gchar *value);
-
-const gchar *up_device_glue_get_vendor (UpDeviceGlue *object);
-gchar *up_device_glue_dup_vendor (UpDeviceGlue *object);
-void up_device_glue_set_vendor (UpDeviceGlue *object, const gchar *value);
-
-const gchar *up_device_glue_get_model (UpDeviceGlue *object);
-gchar *up_device_glue_dup_model (UpDeviceGlue *object);
-void up_device_glue_set_model (UpDeviceGlue *object, const gchar *value);
-
-const gchar *up_device_glue_get_serial (UpDeviceGlue *object);
-gchar *up_device_glue_dup_serial (UpDeviceGlue *object);
-void up_device_glue_set_serial (UpDeviceGlue *object, const gchar *value);
-
-guint64 up_device_glue_get_update_time (UpDeviceGlue *object);
-void up_device_glue_set_update_time (UpDeviceGlue *object, guint64 value);
-
-guint up_device_glue_get_type_ (UpDeviceGlue *object);
-void up_device_glue_set_type_ (UpDeviceGlue *object, guint value);
-
-gboolean up_device_glue_get_power_supply (UpDeviceGlue *object);
-void up_device_glue_set_power_supply (UpDeviceGlue *object, gboolean value);
-
-gboolean up_device_glue_get_has_history (UpDeviceGlue *object);
-void up_device_glue_set_has_history (UpDeviceGlue *object, gboolean value);
-
-gboolean up_device_glue_get_has_statistics (UpDeviceGlue *object);
-void up_device_glue_set_has_statistics (UpDeviceGlue *object, gboolean value);
-
-gboolean up_device_glue_get_online (UpDeviceGlue *object);
-void up_device_glue_set_online (UpDeviceGlue *object, gboolean value);
-
-gdouble up_device_glue_get_energy (UpDeviceGlue *object);
-void up_device_glue_set_energy (UpDeviceGlue *object, gdouble value);
-
-gdouble up_device_glue_get_energy_empty (UpDeviceGlue *object);
-void up_device_glue_set_energy_empty (UpDeviceGlue *object, gdouble value);
-
-gdouble up_device_glue_get_energy_full (UpDeviceGlue *object);
-void up_device_glue_set_energy_full (UpDeviceGlue *object, gdouble value);
-
-gdouble up_device_glue_get_energy_full_design (UpDeviceGlue *object);
-void up_device_glue_set_energy_full_design (UpDeviceGlue *object, gdouble value);
-
-gdouble up_device_glue_get_energy_rate (UpDeviceGlue *object);
-void up_device_glue_set_energy_rate (UpDeviceGlue *object, gdouble value);
-
-gdouble up_device_glue_get_voltage (UpDeviceGlue *object);
-void up_device_glue_set_voltage (UpDeviceGlue *object, gdouble value);
-
-gdouble up_device_glue_get_luminosity (UpDeviceGlue *object);
-void up_device_glue_set_luminosity (UpDeviceGlue *object, gdouble value);
-
-gint64 up_device_glue_get_time_to_empty (UpDeviceGlue *object);
-void up_device_glue_set_time_to_empty (UpDeviceGlue *object, gint64 value);
-
-gint64 up_device_glue_get_time_to_full (UpDeviceGlue *object);
-void up_device_glue_set_time_to_full (UpDeviceGlue *object, gint64 value);
-
-gdouble up_device_glue_get_percentage (UpDeviceGlue *object);
-void up_device_glue_set_percentage (UpDeviceGlue *object, gdouble value);
-
-gdouble up_device_glue_get_temperature (UpDeviceGlue *object);
-void up_device_glue_set_temperature (UpDeviceGlue *object, gdouble value);
-
-gboolean up_device_glue_get_is_present (UpDeviceGlue *object);
-void up_device_glue_set_is_present (UpDeviceGlue *object, gboolean value);
-
-guint up_device_glue_get_state (UpDeviceGlue *object);
-void up_device_glue_set_state (UpDeviceGlue *object, guint value);
-
-gboolean up_device_glue_get_is_rechargeable (UpDeviceGlue *object);
-void up_device_glue_set_is_rechargeable (UpDeviceGlue *object, gboolean value);
-
-gdouble up_device_glue_get_capacity (UpDeviceGlue *object);
-void up_device_glue_set_capacity (UpDeviceGlue *object, gdouble value);
-
-guint up_device_glue_get_technology (UpDeviceGlue *object);
-void up_device_glue_set_technology (UpDeviceGlue *object, guint value);
-
-guint up_device_glue_get_warning_level (UpDeviceGlue *object);
-void up_device_glue_set_warning_level (UpDeviceGlue *object, guint value);
-
-const gchar *up_device_glue_get_icon_name (UpDeviceGlue *object);
-gchar *up_device_glue_dup_icon_name (UpDeviceGlue *object);
-void up_device_glue_set_icon_name (UpDeviceGlue *object, const gchar *value);
-
-
-/* ---- */
-
-#define UP_TYPE_DEVICE_GLUE_PROXY (up_device_glue_proxy_get_type ())
-#define UP_DEVICE_GLUE_PROXY(o) (G_TYPE_CHECK_INSTANCE_CAST ((o), UP_TYPE_DEVICE_GLUE_PROXY, UpDeviceGlueProxy))
-#define UP_DEVICE_GLUE_PROXY_CLASS(k) (G_TYPE_CHECK_CLASS_CAST ((k), UP_TYPE_DEVICE_GLUE_PROXY, UpDeviceGlueProxyClass))
-#define UP_DEVICE_GLUE_PROXY_GET_CLASS(o) (G_TYPE_INSTANCE_GET_CLASS ((o), UP_TYPE_DEVICE_GLUE_PROXY, UpDeviceGlueProxyClass))
-#define UP_IS_DEVICE_GLUE_PROXY(o) (G_TYPE_CHECK_INSTANCE_TYPE ((o), UP_TYPE_DEVICE_GLUE_PROXY))
-#define UP_IS_DEVICE_GLUE_PROXY_CLASS(k) (G_TYPE_CHECK_CLASS_TYPE ((k), UP_TYPE_DEVICE_GLUE_PROXY))
-
-typedef struct _UpDeviceGlueProxy UpDeviceGlueProxy;
-typedef struct _UpDeviceGlueProxyClass UpDeviceGlueProxyClass;
-typedef struct _UpDeviceGlueProxyPrivate UpDeviceGlueProxyPrivate;
-
-struct _UpDeviceGlueProxy
-{
-  /*< private >*/
-  GDBusProxy parent_instance;
-  UpDeviceGlueProxyPrivate *priv;
-};
-
-struct _UpDeviceGlueProxyClass
-{
-  GDBusProxyClass parent_class;
-};
-
-GType up_device_glue_proxy_get_type (void) G_GNUC_CONST;
-
-void up_device_glue_proxy_new (
-    GDBusConnection     *connection,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GAsyncReadyCallback  callback,
-    gpointer             user_data);
-UpDeviceGlue *up_device_glue_proxy_new_finish (
-    GAsyncResult        *res,
-    GError             **error);
-UpDeviceGlue *up_device_glue_proxy_new_sync (
-    GDBusConnection     *connection,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GError             **error);
-
-void up_device_glue_proxy_new_for_bus (
-    GBusType             bus_type,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GAsyncReadyCallback  callback,
-    gpointer             user_data);
-UpDeviceGlue *up_device_glue_proxy_new_for_bus_finish (
-    GAsyncResult        *res,
-    GError             **error);
-UpDeviceGlue *up_device_glue_proxy_new_for_bus_sync (
-    GBusType             bus_type,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GError             **error);
-
-
-/* ---- */
-
-#define UP_TYPE_DEVICE_GLUE_SKELETON (up_device_glue_skeleton_get_type ())
-#define UP_DEVICE_GLUE_SKELETON(o) (G_TYPE_CHECK_INSTANCE_CAST ((o), UP_TYPE_DEVICE_GLUE_SKELETON, UpDeviceGlueSkeleton))
-#define UP_DEVICE_GLUE_SKELETON_CLASS(k) (G_TYPE_CHECK_CLASS_CAST ((k), UP_TYPE_DEVICE_GLUE_SKELETON, UpDeviceGlueSkeletonClass))
-#define UP_DEVICE_GLUE_SKELETON_GET_CLASS(o) (G_TYPE_INSTANCE_GET_CLASS ((o), UP_TYPE_DEVICE_GLUE_SKELETON, UpDeviceGlueSkeletonClass))
-#define UP_IS_DEVICE_GLUE_SKELETON(o) (G_TYPE_CHECK_INSTANCE_TYPE ((o), UP_TYPE_DEVICE_GLUE_SKELETON))
-#define UP_IS_DEVICE_GLUE_SKELETON_CLASS(k) (G_TYPE_CHECK_CLASS_TYPE ((k), UP_TYPE_DEVICE_GLUE_SKELETON))
-
-typedef struct _UpDeviceGlueSkeleton UpDeviceGlueSkeleton;
-typedef struct _UpDeviceGlueSkeletonClass UpDeviceGlueSkeletonClass;
-typedef struct _UpDeviceGlueSkeletonPrivate UpDeviceGlueSkeletonPrivate;
-
-struct _UpDeviceGlueSkeleton
-{
-  /*< private >*/
-  GDBusInterfaceSkeleton parent_instance;
-  UpDeviceGlueSkeletonPrivate *priv;
-};
-
-struct _UpDeviceGlueSkeletonClass
-{
-  GDBusInterfaceSkeletonClass parent_class;
-};
-
-GType up_device_glue_skeleton_get_type (void) G_GNUC_CONST;
-
-UpDeviceGlue *up_device_glue_skeleton_new (void);
-
-
-G_END_DECLS
-
-#endif /* __UP_DEVICE_GLUE_H__ */
diff -urN upower-0.99.0/libupower-glib/up-types.c upower-0.99.0-patched-pretty/libupower-glib/up-types.c
--- upower-0.99.0/libupower-glib/up-types.c	2013-10-29 06:37:01.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/up-types.c	2014-07-13 21:34:35.214231622 -0400
@@ -292,3 +292,58 @@
 		return UP_DEVICE_LEVEL_ACTION;
 	return UP_DEVICE_LEVEL_UNKNOWN;
 }
+
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_sleep_kind_to_string:
+ *
+ * Converts a #UpSleepKind to a string.
+ *
+ * Return value: identifier string
+ *
+ * Since: 0.9.10
+ **/
+const gchar *
+up_sleep_kind_to_string (UpSleepKind sleep_kind_enum)
+{
+	const gchar *sleep_kind = NULL;
+	switch (sleep_kind_enum) {
+	case UP_SLEEP_KIND_SUSPEND:
+		sleep_kind = "suspend";
+		break;
+	case UP_SLEEP_KIND_HIBERNATE:
+		sleep_kind = "hibernate";
+		break;
+	case UP_SLEEP_KIND_HYBRID:
+		sleep_kind = "hybrid";
+		break;
+	default:
+		sleep_kind = "unknown";
+		break;
+	}
+	return sleep_kind;
+}
+
+/**
+ * up_sleep_kind_from_string:
+ *
+ * Converts a string to a #UpSleepKind.
+ *
+ * Return value: enumerated value
+ *
+ * Since: 0.9.10
+ **/
+UpSleepKind
+up_sleep_kind_from_string (const gchar *sleep_kind)
+{
+	if (sleep_kind == NULL)
+		return UP_SLEEP_KIND_UNKNOWN;
+	if (g_strcmp0 (sleep_kind, "suspend") == 0)
+		return UP_SLEEP_KIND_SUSPEND;
+	if (g_strcmp0 (sleep_kind, "hibernate") == 0)
+		return UP_SLEEP_KIND_HIBERNATE;
+	if (g_strcmp0 (sleep_kind, "hybrid") == 0)
+		return UP_SLEEP_KIND_HYBRID;
+	return UP_SLEEP_KIND_UNKNOWN;
+}
+#endif /* ENABLE_DEPRECATED */
diff -urN upower-0.99.0/libupower-glib/up-types.h upower-0.99.0-patched-pretty/libupower-glib/up-types.h
--- upower-0.99.0/libupower-glib/up-types.h	2013-10-29 06:37:01.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/up-types.h	2014-07-13 21:34:35.214231622 -0400
@@ -98,6 +98,19 @@
 	UP_DEVICE_LEVEL_LAST
 } UpDeviceLevel;
 
+/**
+ * UpSleepKind:
+ *
+ * The type of QOS request.
+ **/
+typedef enum {
+	UP_SLEEP_KIND_UNKNOWN,
+	UP_SLEEP_KIND_SUSPEND,
+	UP_SLEEP_KIND_HIBERNATE,
+	UP_SLEEP_KIND_HYBRID,
+	UP_SLEEP_KIND_LAST
+} UpSleepKind;
+
 const gchar	*up_device_kind_to_string		(UpDeviceKind		 type_enum);
 const gchar	*up_device_state_to_string		(UpDeviceState		 state_enum);
 const gchar	*up_device_technology_to_string		(UpDeviceTechnology	 technology_enum);
@@ -106,6 +119,8 @@
 UpDeviceState	 up_device_state_from_string		(const gchar		*state);
 UpDeviceTechnology up_device_technology_from_string	(const gchar		*technology);
 UpDeviceLevel	 up_device_level_from_string		(const gchar		*level);
+const gchar	*up_sleep_kind_to_string		(UpSleepKind		 sleep_kind_enum);
+UpSleepKind	 up_sleep_kind_from_string		(const gchar		*sleep_kind);
 
 G_END_DECLS
 
diff -urN upower-0.99.0/libupower-glib/up-wakeups-glue.c upower-0.99.0-patched-pretty/libupower-glib/up-wakeups-glue.c
--- upower-0.99.0/libupower-glib/up-wakeups-glue.c	2013-10-29 06:39:14.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/up-wakeups-glue.c	1969-12-31 19:00:00.000000000 -0500
@@ -1,1648 +0,0 @@
-/*
- * Generated by gdbus-codegen 2.39.0. DO NOT EDIT.
- *
- * The license of this code is the same as for the source it was derived from.
- */
-
-#ifdef HAVE_CONFIG_H
-#  include "config.h"
-#endif
-
-#include "up-wakeups-glue.h"
-
-#include <string.h>
-#ifdef G_OS_UNIX
-#  include <gio/gunixfdlist.h>
-#endif
-
-typedef struct
-{
-  GDBusArgInfo parent_struct;
-  gboolean use_gvariant;
-} _ExtendedGDBusArgInfo;
-
-typedef struct
-{
-  GDBusMethodInfo parent_struct;
-  const gchar *signal_name;
-  gboolean pass_fdlist;
-} _ExtendedGDBusMethodInfo;
-
-typedef struct
-{
-  GDBusSignalInfo parent_struct;
-  const gchar *signal_name;
-} _ExtendedGDBusSignalInfo;
-
-typedef struct
-{
-  GDBusPropertyInfo parent_struct;
-  const gchar *hyphen_name;
-  gboolean use_gvariant;
-} _ExtendedGDBusPropertyInfo;
-
-typedef struct
-{
-  GDBusInterfaceInfo parent_struct;
-  const gchar *hyphen_name;
-} _ExtendedGDBusInterfaceInfo;
-
-typedef struct
-{
-  const _ExtendedGDBusPropertyInfo *info;
-  guint prop_id;
-  GValue orig_value; /* the value before the change */
-} ChangedProperty;
-
-static void
-_changed_property_free (ChangedProperty *data)
-{
-  g_value_unset (&data->orig_value);
-  g_free (data);
-}
-
-static gboolean
-_g_strv_equal0 (gchar **a, gchar **b)
-{
-  gboolean ret = FALSE;
-  guint n;
-  if (a == NULL && b == NULL)
-    {
-      ret = TRUE;
-      goto out;
-    }
-  if (a == NULL || b == NULL)
-    goto out;
-  if (g_strv_length (a) != g_strv_length (b))
-    goto out;
-  for (n = 0; a[n] != NULL; n++)
-    if (g_strcmp0 (a[n], b[n]) != 0)
-      goto out;
-  ret = TRUE;
-out:
-  return ret;
-}
-
-static gboolean
-_g_variant_equal0 (GVariant *a, GVariant *b)
-{
-  gboolean ret = FALSE;
-  if (a == NULL && b == NULL)
-    {
-      ret = TRUE;
-      goto out;
-    }
-  if (a == NULL || b == NULL)
-    goto out;
-  ret = g_variant_equal (a, b);
-out:
-  return ret;
-}
-
-G_GNUC_UNUSED static gboolean
-_g_value_equal (const GValue *a, const GValue *b)
-{
-  gboolean ret = FALSE;
-  g_assert (G_VALUE_TYPE (a) == G_VALUE_TYPE (b));
-  switch (G_VALUE_TYPE (a))
-    {
-      case G_TYPE_BOOLEAN:
-        ret = (g_value_get_boolean (a) == g_value_get_boolean (b));
-        break;
-      case G_TYPE_UCHAR:
-        ret = (g_value_get_uchar (a) == g_value_get_uchar (b));
-        break;
-      case G_TYPE_INT:
-        ret = (g_value_get_int (a) == g_value_get_int (b));
-        break;
-      case G_TYPE_UINT:
-        ret = (g_value_get_uint (a) == g_value_get_uint (b));
-        break;
-      case G_TYPE_INT64:
-        ret = (g_value_get_int64 (a) == g_value_get_int64 (b));
-        break;
-      case G_TYPE_UINT64:
-        ret = (g_value_get_uint64 (a) == g_value_get_uint64 (b));
-        break;
-      case G_TYPE_DOUBLE:
-        {
-          /* Avoid -Wfloat-equal warnings by doing a direct bit compare */
-          gdouble da = g_value_get_double (a);
-          gdouble db = g_value_get_double (b);
-          ret = memcmp (&da, &db, sizeof (gdouble)) == 0;
-        }
-        break;
-      case G_TYPE_STRING:
-        ret = (g_strcmp0 (g_value_get_string (a), g_value_get_string (b)) == 0);
-        break;
-      case G_TYPE_VARIANT:
-        ret = _g_variant_equal0 (g_value_get_variant (a), g_value_get_variant (b));
-        break;
-      default:
-        if (G_VALUE_TYPE (a) == G_TYPE_STRV)
-          ret = _g_strv_equal0 (g_value_get_boxed (a), g_value_get_boxed (b));
-        else
-          g_critical ("_g_value_equal() does not handle type %s", g_type_name (G_VALUE_TYPE (a)));
-        break;
-    }
-  return ret;
-}
-
-/* ------------------------------------------------------------------------
- * Code for interface org.freedesktop.UPower.Wakeups
- * ------------------------------------------------------------------------
- */
-
-/**
- * SECTION:UpWakeupsGlue
- * @title: UpWakeupsGlue
- * @short_description: Generated C code for the org.freedesktop.UPower.Wakeups D-Bus interface
- *
- * This section contains code for working with the <link linkend="gdbus-interface-org-freedesktop-UPower-Wakeups.top_of_page">org.freedesktop.UPower.Wakeups</link> D-Bus interface in C.
- */
-
-/* ---- Introspection data for org.freedesktop.UPower.Wakeups ---- */
-
-static const _ExtendedGDBusArgInfo _up_wakeups_glue_method_info_get_total_OUT_ARG_value =
-{
-  {
-    -1,
-    (gchar *) "value",
-    (gchar *) "u",
-    NULL
-  },
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo * const _up_wakeups_glue_method_info_get_total_OUT_ARG_pointers[] =
-{
-  &_up_wakeups_glue_method_info_get_total_OUT_ARG_value,
-  NULL
-};
-
-static const _ExtendedGDBusMethodInfo _up_wakeups_glue_method_info_get_total =
-{
-  {
-    -1,
-    (gchar *) "GetTotal",
-    NULL,
-    (GDBusArgInfo **) &_up_wakeups_glue_method_info_get_total_OUT_ARG_pointers,
-    NULL
-  },
-  "handle-get-total",
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo _up_wakeups_glue_method_info_get_data_OUT_ARG_data =
-{
-  {
-    -1,
-    (gchar *) "data",
-    (gchar *) "a(budss)",
-    NULL
-  },
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo * const _up_wakeups_glue_method_info_get_data_OUT_ARG_pointers[] =
-{
-  &_up_wakeups_glue_method_info_get_data_OUT_ARG_data,
-  NULL
-};
-
-static const _ExtendedGDBusMethodInfo _up_wakeups_glue_method_info_get_data =
-{
-  {
-    -1,
-    (gchar *) "GetData",
-    NULL,
-    (GDBusArgInfo **) &_up_wakeups_glue_method_info_get_data_OUT_ARG_pointers,
-    NULL
-  },
-  "handle-get-data",
-  FALSE
-};
-
-static const _ExtendedGDBusMethodInfo * const _up_wakeups_glue_method_info_pointers[] =
-{
-  &_up_wakeups_glue_method_info_get_total,
-  &_up_wakeups_glue_method_info_get_data,
-  NULL
-};
-
-static const _ExtendedGDBusArgInfo _up_wakeups_glue_signal_info_total_changed_ARG_value =
-{
-  {
-    -1,
-    (gchar *) "value",
-    (gchar *) "u",
-    NULL
-  },
-  FALSE
-};
-
-static const _ExtendedGDBusArgInfo * const _up_wakeups_glue_signal_info_total_changed_ARG_pointers[] =
-{
-  &_up_wakeups_glue_signal_info_total_changed_ARG_value,
-  NULL
-};
-
-static const _ExtendedGDBusSignalInfo _up_wakeups_glue_signal_info_total_changed =
-{
-  {
-    -1,
-    (gchar *) "TotalChanged",
-    (GDBusArgInfo **) &_up_wakeups_glue_signal_info_total_changed_ARG_pointers,
-    NULL
-  },
-  "total-changed"
-};
-
-static const _ExtendedGDBusSignalInfo _up_wakeups_glue_signal_info_data_changed =
-{
-  {
-    -1,
-    (gchar *) "DataChanged",
-    NULL,
-    NULL
-  },
-  "data-changed"
-};
-
-static const _ExtendedGDBusSignalInfo * const _up_wakeups_glue_signal_info_pointers[] =
-{
-  &_up_wakeups_glue_signal_info_total_changed,
-  &_up_wakeups_glue_signal_info_data_changed,
-  NULL
-};
-
-static const _ExtendedGDBusPropertyInfo _up_wakeups_glue_property_info_has_capability =
-{
-  {
-    -1,
-    (gchar *) "HasCapability",
-    (gchar *) "b",
-    G_DBUS_PROPERTY_INFO_FLAGS_READABLE,
-    NULL
-  },
-  "has-capability",
-  FALSE
-};
-
-static const _ExtendedGDBusPropertyInfo * const _up_wakeups_glue_property_info_pointers[] =
-{
-  &_up_wakeups_glue_property_info_has_capability,
-  NULL
-};
-
-static const _ExtendedGDBusInterfaceInfo _up_wakeups_glue_interface_info =
-{
-  {
-    -1,
-    (gchar *) "org.freedesktop.UPower.Wakeups",
-    (GDBusMethodInfo **) &_up_wakeups_glue_method_info_pointers,
-    (GDBusSignalInfo **) &_up_wakeups_glue_signal_info_pointers,
-    (GDBusPropertyInfo **) &_up_wakeups_glue_property_info_pointers,
-    NULL
-  },
-  "wakeups-glue",
-};
-
-
-/**
- * up_wakeups_glue_interface_info:
- *
- * Gets a machine-readable description of the <link linkend="gdbus-interface-org-freedesktop-UPower-Wakeups.top_of_page">org.freedesktop.UPower.Wakeups</link> D-Bus interface.
- *
- * Returns: (transfer none): A #GDBusInterfaceInfo. Do not free.
- */
-GDBusInterfaceInfo *
-up_wakeups_glue_interface_info (void)
-{
-  return (GDBusInterfaceInfo *) &_up_wakeups_glue_interface_info.parent_struct;
-}
-
-/**
- * up_wakeups_glue_override_properties:
- * @klass: The class structure for a #GObject<!-- -->-derived class.
- * @property_id_begin: The property id to assign to the first overridden property.
- *
- * Overrides all #GObject properties in the #UpWakeupsGlue interface for a concrete class.
- * The properties are overridden in the order they are defined.
- *
- * Returns: The last property id.
- */
-guint
-up_wakeups_glue_override_properties (GObjectClass *klass, guint property_id_begin)
-{
-  g_object_class_override_property (klass, property_id_begin++, "has-capability");
-  return property_id_begin - 1;
-}
-
-
-
-/**
- * UpWakeupsGlue:
- *
- * Abstract interface type for the D-Bus interface <link linkend="gdbus-interface-org-freedesktop-UPower-Wakeups.top_of_page">org.freedesktop.UPower.Wakeups</link>.
- */
-
-/**
- * UpWakeupsGlueIface:
- * @parent_iface: The parent interface.
- * @handle_get_data: Handler for the #UpWakeupsGlue::handle-get-data signal.
- * @handle_get_total: Handler for the #UpWakeupsGlue::handle-get-total signal.
- * @get_has_capability: Getter for the #UpWakeupsGlue:has-capability property.
- * @data_changed: Handler for the #UpWakeupsGlue::data-changed signal.
- * @total_changed: Handler for the #UpWakeupsGlue::total-changed signal.
- *
- * Virtual table for the D-Bus interface <link linkend="gdbus-interface-org-freedesktop-UPower-Wakeups.top_of_page">org.freedesktop.UPower.Wakeups</link>.
- */
-
-typedef UpWakeupsGlueIface UpWakeupsGlueInterface;
-G_DEFINE_INTERFACE (UpWakeupsGlue, up_wakeups_glue, G_TYPE_OBJECT);
-
-static void
-up_wakeups_glue_default_init (UpWakeupsGlueIface *iface)
-{
-  /* GObject signals for incoming D-Bus method calls: */
-  /**
-   * UpWakeupsGlue::handle-get-total:
-   * @object: A #UpWakeupsGlue.
-   * @invocation: A #GDBusMethodInvocation.
-   *
-   * Signal emitted when a remote caller is invoking the <link linkend="gdbus-method-org-freedesktop-UPower-Wakeups.GetTotal">GetTotal()</link> D-Bus method.
-   *
-   * If a signal handler returns %TRUE, it means the signal handler will handle the invocation (e.g. take a reference to @invocation and eventually call up_wakeups_glue_complete_get_total() or e.g. g_dbus_method_invocation_return_error() on it) and no order signal handlers will run. If no signal handler handles the invocation, the %G_DBUS_ERROR_UNKNOWN_METHOD error is returned.
-   *
-   * Returns: %TRUE if the invocation was handled, %FALSE to let other signal handlers run.
-   */
-  g_signal_new ("handle-get-total",
-    G_TYPE_FROM_INTERFACE (iface),
-    G_SIGNAL_RUN_LAST,
-    G_STRUCT_OFFSET (UpWakeupsGlueIface, handle_get_total),
-    g_signal_accumulator_true_handled,
-    NULL,
-    g_cclosure_marshal_generic,
-    G_TYPE_BOOLEAN,
-    1,
-    G_TYPE_DBUS_METHOD_INVOCATION);
-
-  /**
-   * UpWakeupsGlue::handle-get-data:
-   * @object: A #UpWakeupsGlue.
-   * @invocation: A #GDBusMethodInvocation.
-   *
-   * Signal emitted when a remote caller is invoking the <link linkend="gdbus-method-org-freedesktop-UPower-Wakeups.GetData">GetData()</link> D-Bus method.
-   *
-   * If a signal handler returns %TRUE, it means the signal handler will handle the invocation (e.g. take a reference to @invocation and eventually call up_wakeups_glue_complete_get_data() or e.g. g_dbus_method_invocation_return_error() on it) and no order signal handlers will run. If no signal handler handles the invocation, the %G_DBUS_ERROR_UNKNOWN_METHOD error is returned.
-   *
-   * Returns: %TRUE if the invocation was handled, %FALSE to let other signal handlers run.
-   */
-  g_signal_new ("handle-get-data",
-    G_TYPE_FROM_INTERFACE (iface),
-    G_SIGNAL_RUN_LAST,
-    G_STRUCT_OFFSET (UpWakeupsGlueIface, handle_get_data),
-    g_signal_accumulator_true_handled,
-    NULL,
-    g_cclosure_marshal_generic,
-    G_TYPE_BOOLEAN,
-    1,
-    G_TYPE_DBUS_METHOD_INVOCATION);
-
-  /* GObject signals for received D-Bus signals: */
-  /**
-   * UpWakeupsGlue::total-changed:
-   * @object: A #UpWakeupsGlue.
-   * @arg_value: Argument.
-   *
-   * On the client-side, this signal is emitted whenever the D-Bus signal <link linkend="gdbus-signal-org-freedesktop-UPower-Wakeups.TotalChanged">"TotalChanged"</link> is received.
-   *
-   * On the service-side, this signal can be used with e.g. g_signal_emit_by_name() to make the object emit the D-Bus signal.
-   */
-  g_signal_new ("total-changed",
-    G_TYPE_FROM_INTERFACE (iface),
-    G_SIGNAL_RUN_LAST,
-    G_STRUCT_OFFSET (UpWakeupsGlueIface, total_changed),
-    NULL,
-    NULL,
-    g_cclosure_marshal_generic,
-    G_TYPE_NONE,
-    1, G_TYPE_UINT);
-
-  /**
-   * UpWakeupsGlue::data-changed:
-   * @object: A #UpWakeupsGlue.
-   *
-   * On the client-side, this signal is emitted whenever the D-Bus signal <link linkend="gdbus-signal-org-freedesktop-UPower-Wakeups.DataChanged">"DataChanged"</link> is received.
-   *
-   * On the service-side, this signal can be used with e.g. g_signal_emit_by_name() to make the object emit the D-Bus signal.
-   */
-  g_signal_new ("data-changed",
-    G_TYPE_FROM_INTERFACE (iface),
-    G_SIGNAL_RUN_LAST,
-    G_STRUCT_OFFSET (UpWakeupsGlueIface, data_changed),
-    NULL,
-    NULL,
-    g_cclosure_marshal_generic,
-    G_TYPE_NONE,
-    0);
-
-  /* GObject properties for D-Bus properties: */
-  /**
-   * UpWakeupsGlue:has-capability:
-   *
-   * Represents the D-Bus property <link linkend="gdbus-property-org-freedesktop-UPower-Wakeups.HasCapability">"HasCapability"</link>.
-   *
-   * Since the D-Bus property for this #GObject property is readable but not writable, it is meaningful to read from it on both the client- and service-side. It is only meaningful, however, to write to it on the service-side.
-   */
-  g_object_interface_install_property (iface,
-    g_param_spec_boolean ("has-capability", "HasCapability", "HasCapability", FALSE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));
-}
-
-/**
- * up_wakeups_glue_get_has_capability: (skip)
- * @object: A #UpWakeupsGlue.
- *
- * Gets the value of the <link linkend="gdbus-property-org-freedesktop-UPower-Wakeups.HasCapability">"HasCapability"</link> D-Bus property.
- *
- * Since this D-Bus property is readable, it is meaningful to use this function on both the client- and service-side.
- *
- * Returns: The property value.
- */
-gboolean 
-up_wakeups_glue_get_has_capability (UpWakeupsGlue *object)
-{
-  return UP_WAKEUPS_GLUE_GET_IFACE (object)->get_has_capability (object);
-}
-
-/**
- * up_wakeups_glue_set_has_capability: (skip)
- * @object: A #UpWakeupsGlue.
- * @value: The value to set.
- *
- * Sets the <link linkend="gdbus-property-org-freedesktop-UPower-Wakeups.HasCapability">"HasCapability"</link> D-Bus property to @value.
- *
- * Since this D-Bus property is not writable, it is only meaningful to use this function on the service-side.
- */
-void
-up_wakeups_glue_set_has_capability (UpWakeupsGlue *object, gboolean value)
-{
-  g_object_set (G_OBJECT (object), "has-capability", value, NULL);
-}
-
-/**
- * up_wakeups_glue_emit_total_changed:
- * @object: A #UpWakeupsGlue.
- * @arg_value: Argument to pass with the signal.
- *
- * Emits the <link linkend="gdbus-signal-org-freedesktop-UPower-Wakeups.TotalChanged">"TotalChanged"</link> D-Bus signal.
- */
-void
-up_wakeups_glue_emit_total_changed (
-    UpWakeupsGlue *object,
-    guint arg_value)
-{
-  g_signal_emit_by_name (object, "total-changed", arg_value);
-}
-
-/**
- * up_wakeups_glue_emit_data_changed:
- * @object: A #UpWakeupsGlue.
- *
- * Emits the <link linkend="gdbus-signal-org-freedesktop-UPower-Wakeups.DataChanged">"DataChanged"</link> D-Bus signal.
- */
-void
-up_wakeups_glue_emit_data_changed (
-    UpWakeupsGlue *object)
-{
-  g_signal_emit_by_name (object, "data-changed");
-}
-
-/**
- * up_wakeups_glue_call_get_total:
- * @proxy: A #UpWakeupsGlueProxy.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
- * @user_data: User data to pass to @callback.
- *
- * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower-Wakeups.GetTotal">GetTotal()</link> D-Bus method on @proxy.
- * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
- * You can then call up_wakeups_glue_call_get_total_finish() to get the result of the operation.
- *
- * See up_wakeups_glue_call_get_total_sync() for the synchronous, blocking version of this method.
- */
-void
-up_wakeups_glue_call_get_total (
-    UpWakeupsGlue *proxy,
-    GCancellable *cancellable,
-    GAsyncReadyCallback callback,
-    gpointer user_data)
-{
-  g_dbus_proxy_call (G_DBUS_PROXY (proxy),
-    "GetTotal",
-    g_variant_new ("()"),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    cancellable,
-    callback,
-    user_data);
-}
-
-/**
- * up_wakeups_glue_call_get_total_finish:
- * @proxy: A #UpWakeupsGlueProxy.
- * @out_value: (out): Return location for return parameter or %NULL to ignore.
- * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_wakeups_glue_call_get_total().
- * @error: Return location for error or %NULL.
- *
- * Finishes an operation started with up_wakeups_glue_call_get_total().
- *
- * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
- */
-gboolean
-up_wakeups_glue_call_get_total_finish (
-    UpWakeupsGlue *proxy,
-    guint *out_value,
-    GAsyncResult *res,
-    GError **error)
-{
-  GVariant *_ret;
-  _ret = g_dbus_proxy_call_finish (G_DBUS_PROXY (proxy), res, error);
-  if (_ret == NULL)
-    goto _out;
-  g_variant_get (_ret,
-                 "(u)",
-                 out_value);
-  g_variant_unref (_ret);
-_out:
-  return _ret != NULL;
-}
-
-/**
- * up_wakeups_glue_call_get_total_sync:
- * @proxy: A #UpWakeupsGlueProxy.
- * @out_value: (out): Return location for return parameter or %NULL to ignore.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @error: Return location for error or %NULL.
- *
- * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower-Wakeups.GetTotal">GetTotal()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
- *
- * See up_wakeups_glue_call_get_total() for the asynchronous version of this method.
- *
- * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
- */
-gboolean
-up_wakeups_glue_call_get_total_sync (
-    UpWakeupsGlue *proxy,
-    guint *out_value,
-    GCancellable *cancellable,
-    GError **error)
-{
-  GVariant *_ret;
-  _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
-    "GetTotal",
-    g_variant_new ("()"),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    cancellable,
-    error);
-  if (_ret == NULL)
-    goto _out;
-  g_variant_get (_ret,
-                 "(u)",
-                 out_value);
-  g_variant_unref (_ret);
-_out:
-  return _ret != NULL;
-}
-
-/**
- * up_wakeups_glue_call_get_data:
- * @proxy: A #UpWakeupsGlueProxy.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @callback: A #GAsyncReadyCallback to call when the request is satisfied or %NULL.
- * @user_data: User data to pass to @callback.
- *
- * Asynchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower-Wakeups.GetData">GetData()</link> D-Bus method on @proxy.
- * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
- * You can then call up_wakeups_glue_call_get_data_finish() to get the result of the operation.
- *
- * See up_wakeups_glue_call_get_data_sync() for the synchronous, blocking version of this method.
- */
-void
-up_wakeups_glue_call_get_data (
-    UpWakeupsGlue *proxy,
-    GCancellable *cancellable,
-    GAsyncReadyCallback callback,
-    gpointer user_data)
-{
-  g_dbus_proxy_call (G_DBUS_PROXY (proxy),
-    "GetData",
-    g_variant_new ("()"),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    cancellable,
-    callback,
-    user_data);
-}
-
-/**
- * up_wakeups_glue_call_get_data_finish:
- * @proxy: A #UpWakeupsGlueProxy.
- * @out_data: (out): Return location for return parameter or %NULL to ignore.
- * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_wakeups_glue_call_get_data().
- * @error: Return location for error or %NULL.
- *
- * Finishes an operation started with up_wakeups_glue_call_get_data().
- *
- * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
- */
-gboolean
-up_wakeups_glue_call_get_data_finish (
-    UpWakeupsGlue *proxy,
-    GVariant **out_data,
-    GAsyncResult *res,
-    GError **error)
-{
-  GVariant *_ret;
-  _ret = g_dbus_proxy_call_finish (G_DBUS_PROXY (proxy), res, error);
-  if (_ret == NULL)
-    goto _out;
-  g_variant_get (_ret,
-                 "(@a(budss))",
-                 out_data);
-  g_variant_unref (_ret);
-_out:
-  return _ret != NULL;
-}
-
-/**
- * up_wakeups_glue_call_get_data_sync:
- * @proxy: A #UpWakeupsGlueProxy.
- * @out_data: (out): Return location for return parameter or %NULL to ignore.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @error: Return location for error or %NULL.
- *
- * Synchronously invokes the <link linkend="gdbus-method-org-freedesktop-UPower-Wakeups.GetData">GetData()</link> D-Bus method on @proxy. The calling thread is blocked until a reply is received.
- *
- * See up_wakeups_glue_call_get_data() for the asynchronous version of this method.
- *
- * Returns: (skip): %TRUE if the call succeded, %FALSE if @error is set.
- */
-gboolean
-up_wakeups_glue_call_get_data_sync (
-    UpWakeupsGlue *proxy,
-    GVariant **out_data,
-    GCancellable *cancellable,
-    GError **error)
-{
-  GVariant *_ret;
-  _ret = g_dbus_proxy_call_sync (G_DBUS_PROXY (proxy),
-    "GetData",
-    g_variant_new ("()"),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    cancellable,
-    error);
-  if (_ret == NULL)
-    goto _out;
-  g_variant_get (_ret,
-                 "(@a(budss))",
-                 out_data);
-  g_variant_unref (_ret);
-_out:
-  return _ret != NULL;
-}
-
-/**
- * up_wakeups_glue_complete_get_total:
- * @object: A #UpWakeupsGlue.
- * @invocation: (transfer full): A #GDBusMethodInvocation.
- * @value: Parameter to return.
- *
- * Helper function used in service implementations to finish handling invocations of the <link linkend="gdbus-method-org-freedesktop-UPower-Wakeups.GetTotal">GetTotal()</link> D-Bus method. If you instead want to finish handling an invocation by returning an error, use g_dbus_method_invocation_return_error() or similar.
- *
- * This method will free @invocation, you cannot use it afterwards.
- */
-void
-up_wakeups_glue_complete_get_total (
-    UpWakeupsGlue *object,
-    GDBusMethodInvocation *invocation,
-    guint value)
-{
-  g_dbus_method_invocation_return_value (invocation,
-    g_variant_new ("(u)",
-                   value));
-}
-
-/**
- * up_wakeups_glue_complete_get_data:
- * @object: A #UpWakeupsGlue.
- * @invocation: (transfer full): A #GDBusMethodInvocation.
- * @data: Parameter to return.
- *
- * Helper function used in service implementations to finish handling invocations of the <link linkend="gdbus-method-org-freedesktop-UPower-Wakeups.GetData">GetData()</link> D-Bus method. If you instead want to finish handling an invocation by returning an error, use g_dbus_method_invocation_return_error() or similar.
- *
- * This method will free @invocation, you cannot use it afterwards.
- */
-void
-up_wakeups_glue_complete_get_data (
-    UpWakeupsGlue *object,
-    GDBusMethodInvocation *invocation,
-    GVariant *data)
-{
-  g_dbus_method_invocation_return_value (invocation,
-    g_variant_new ("(@a(budss))",
-                   data));
-}
-
-/* ------------------------------------------------------------------------ */
-
-/**
- * UpWakeupsGlueProxy:
- *
- * The #UpWakeupsGlueProxy structure contains only private data and should only be accessed using the provided API.
- */
-
-/**
- * UpWakeupsGlueProxyClass:
- * @parent_class: The parent class.
- *
- * Class structure for #UpWakeupsGlueProxy.
- */
-
-struct _UpWakeupsGlueProxyPrivate
-{
-  GData *qdata;
-};
-
-static void up_wakeups_glue_proxy_iface_init (UpWakeupsGlueIface *iface);
-
-G_DEFINE_TYPE_WITH_CODE (UpWakeupsGlueProxy, up_wakeups_glue_proxy, G_TYPE_DBUS_PROXY,
-                         G_ADD_PRIVATE (UpWakeupsGlueProxy)
-                         G_IMPLEMENT_INTERFACE (UP_TYPE_WAKEUPS_GLUE, up_wakeups_glue_proxy_iface_init));
-
-static void
-up_wakeups_glue_proxy_finalize (GObject *object)
-{
-  UpWakeupsGlueProxy *proxy = UP_WAKEUPS_GLUE_PROXY (object);
-  g_datalist_clear (&proxy->priv->qdata);
-  G_OBJECT_CLASS (up_wakeups_glue_proxy_parent_class)->finalize (object);
-}
-
-static void
-up_wakeups_glue_proxy_get_property (GObject      *object,
-  guint         prop_id,
-  GValue       *value,
-  GParamSpec   *pspec G_GNUC_UNUSED)
-{
-  const _ExtendedGDBusPropertyInfo *info;
-  GVariant *variant;
-  g_assert (prop_id != 0 && prop_id - 1 < 1);
-  info = _up_wakeups_glue_property_info_pointers[prop_id - 1];
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (object), info->parent_struct.name);
-  if (info->use_gvariant)
-    {
-      g_value_set_variant (value, variant);
-    }
-  else
-    {
-      if (variant != NULL)
-        g_dbus_gvariant_to_gvalue (variant, value);
-    }
-  if (variant != NULL)
-    g_variant_unref (variant);
-}
-
-static void
-up_wakeups_glue_proxy_set_property_cb (GDBusProxy *proxy,
-  GAsyncResult *res,
-  gpointer      user_data)
-{
-  const _ExtendedGDBusPropertyInfo *info = user_data;
-  GError *error;
-  error = NULL;
-  if (!g_dbus_proxy_call_finish (proxy, res, &error))
-    {
-      g_warning ("Error setting property '%s' on interface org.freedesktop.UPower.Wakeups: %s (%s, %d)",
-                 info->parent_struct.name, 
-                 error->message, g_quark_to_string (error->domain), error->code);
-      g_error_free (error);
-    }
-}
-
-static void
-up_wakeups_glue_proxy_set_property (GObject      *object,
-  guint         prop_id,
-  const GValue *value,
-  GParamSpec   *pspec G_GNUC_UNUSED)
-{
-  const _ExtendedGDBusPropertyInfo *info;
-  GVariant *variant;
-  g_assert (prop_id != 0 && prop_id - 1 < 1);
-  info = _up_wakeups_glue_property_info_pointers[prop_id - 1];
-  variant = g_dbus_gvalue_to_gvariant (value, G_VARIANT_TYPE (info->parent_struct.signature));
-  g_dbus_proxy_call (G_DBUS_PROXY (object),
-    "org.freedesktop.DBus.Properties.Set",
-    g_variant_new ("(ssv)", "org.freedesktop.UPower.Wakeups", info->parent_struct.name, variant),
-    G_DBUS_CALL_FLAGS_NONE,
-    -1,
-    NULL, (GAsyncReadyCallback) up_wakeups_glue_proxy_set_property_cb, (GDBusPropertyInfo *) &info->parent_struct);
-  g_variant_unref (variant);
-}
-
-static void
-up_wakeups_glue_proxy_g_signal (GDBusProxy *proxy,
-  const gchar *sender_name G_GNUC_UNUSED,
-  const gchar *signal_name,
-  GVariant *parameters)
-{
-  _ExtendedGDBusSignalInfo *info;
-  GVariantIter iter;
-  GVariant *child;
-  GValue *paramv;
-  guint num_params;
-  guint n;
-  guint signal_id;
-  info = (_ExtendedGDBusSignalInfo *) g_dbus_interface_info_lookup_signal ((GDBusInterfaceInfo *) &_up_wakeups_glue_interface_info.parent_struct, signal_name);
-  if (info == NULL)
-    return;
-  num_params = g_variant_n_children (parameters);
-  paramv = g_new0 (GValue, num_params + 1);
-  g_value_init (&paramv[0], UP_TYPE_WAKEUPS_GLUE);
-  g_value_set_object (&paramv[0], proxy);
-  g_variant_iter_init (&iter, parameters);
-  n = 1;
-  while ((child = g_variant_iter_next_value (&iter)) != NULL)
-    {
-      _ExtendedGDBusArgInfo *arg_info = (_ExtendedGDBusArgInfo *) info->parent_struct.args[n - 1];
-      if (arg_info->use_gvariant)
-        {
-          g_value_init (&paramv[n], G_TYPE_VARIANT);
-          g_value_set_variant (&paramv[n], child);
-          n++;
-        }
-      else
-        g_dbus_gvariant_to_gvalue (child, &paramv[n++]);
-      g_variant_unref (child);
-    }
-  signal_id = g_signal_lookup (info->signal_name, UP_TYPE_WAKEUPS_GLUE);
-  g_signal_emitv (paramv, signal_id, 0, NULL);
-  for (n = 0; n < num_params + 1; n++)
-    g_value_unset (&paramv[n]);
-  g_free (paramv);
-}
-
-static void
-up_wakeups_glue_proxy_g_properties_changed (GDBusProxy *_proxy,
-  GVariant *changed_properties,
-  const gchar *const *invalidated_properties)
-{
-  UpWakeupsGlueProxy *proxy = UP_WAKEUPS_GLUE_PROXY (_proxy);
-  guint n;
-  const gchar *key;
-  GVariantIter *iter;
-  _ExtendedGDBusPropertyInfo *info;
-  g_variant_get (changed_properties, "a{sv}", &iter);
-  while (g_variant_iter_next (iter, "{&sv}", &key, NULL))
-    {
-      info = (_ExtendedGDBusPropertyInfo *) g_dbus_interface_info_lookup_property ((GDBusInterfaceInfo *) &_up_wakeups_glue_interface_info.parent_struct, key);
-      g_datalist_remove_data (&proxy->priv->qdata, key);
-      if (info != NULL)
-        g_object_notify (G_OBJECT (proxy), info->hyphen_name);
-    }
-  g_variant_iter_free (iter);
-  for (n = 0; invalidated_properties[n] != NULL; n++)
-    {
-      info = (_ExtendedGDBusPropertyInfo *) g_dbus_interface_info_lookup_property ((GDBusInterfaceInfo *) &_up_wakeups_glue_interface_info.parent_struct, invalidated_properties[n]);
-      g_datalist_remove_data (&proxy->priv->qdata, invalidated_properties[n]);
-      if (info != NULL)
-        g_object_notify (G_OBJECT (proxy), info->hyphen_name);
-    }
-}
-
-static gboolean 
-up_wakeups_glue_proxy_get_has_capability (UpWakeupsGlue *object)
-{
-  UpWakeupsGlueProxy *proxy = UP_WAKEUPS_GLUE_PROXY (object);
-  GVariant *variant;
-  gboolean value = 0;
-  variant = g_dbus_proxy_get_cached_property (G_DBUS_PROXY (proxy), "HasCapability");
-  if (variant != NULL)
-    {
-      value = g_variant_get_boolean (variant);
-      g_variant_unref (variant);
-    }
-  return value;
-}
-
-static void
-up_wakeups_glue_proxy_init (UpWakeupsGlueProxy *proxy)
-{
-  proxy->priv = up_wakeups_glue_proxy_get_instance_private (proxy);
-  g_dbus_proxy_set_interface_info (G_DBUS_PROXY (proxy), up_wakeups_glue_interface_info ());
-}
-
-static void
-up_wakeups_glue_proxy_class_init (UpWakeupsGlueProxyClass *klass)
-{
-  GObjectClass *gobject_class;
-  GDBusProxyClass *proxy_class;
-
-  gobject_class = G_OBJECT_CLASS (klass);
-  gobject_class->finalize     = up_wakeups_glue_proxy_finalize;
-  gobject_class->get_property = up_wakeups_glue_proxy_get_property;
-  gobject_class->set_property = up_wakeups_glue_proxy_set_property;
-
-  proxy_class = G_DBUS_PROXY_CLASS (klass);
-  proxy_class->g_signal = up_wakeups_glue_proxy_g_signal;
-  proxy_class->g_properties_changed = up_wakeups_glue_proxy_g_properties_changed;
-
-
-  up_wakeups_glue_override_properties (gobject_class, 1);
-}
-
-static void
-up_wakeups_glue_proxy_iface_init (UpWakeupsGlueIface *iface)
-{
-  iface->get_has_capability = up_wakeups_glue_proxy_get_has_capability;
-}
-
-/**
- * up_wakeups_glue_proxy_new:
- * @connection: A #GDBusConnection.
- * @flags: Flags from the #GDBusProxyFlags enumeration.
- * @name: (allow-none): A bus name (well-known or unique) or %NULL if @connection is not a message bus connection.
- * @object_path: An object path.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @callback: A #GAsyncReadyCallback to call when the request is satisfied.
- * @user_data: User data to pass to @callback.
- *
- * Asynchronously creates a proxy for the D-Bus interface <link linkend="gdbus-interface-org-freedesktop-UPower-Wakeups.top_of_page">org.freedesktop.UPower.Wakeups</link>. See g_dbus_proxy_new() for more details.
- *
- * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
- * You can then call up_wakeups_glue_proxy_new_finish() to get the result of the operation.
- *
- * See up_wakeups_glue_proxy_new_sync() for the synchronous, blocking version of this constructor.
- */
-void
-up_wakeups_glue_proxy_new (
-    GDBusConnection     *connection,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GAsyncReadyCallback  callback,
-    gpointer             user_data)
-{
-  g_async_initable_new_async (UP_TYPE_WAKEUPS_GLUE_PROXY, G_PRIORITY_DEFAULT, cancellable, callback, user_data, "g-flags", flags, "g-name", name, "g-connection", connection, "g-object-path", object_path, "g-interface-name", "org.freedesktop.UPower.Wakeups", NULL);
-}
-
-/**
- * up_wakeups_glue_proxy_new_finish:
- * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_wakeups_glue_proxy_new().
- * @error: Return location for error or %NULL
- *
- * Finishes an operation started with up_wakeups_glue_proxy_new().
- *
- * Returns: (transfer full) (type UpWakeupsGlueProxy): The constructed proxy object or %NULL if @error is set.
- */
-UpWakeupsGlue *
-up_wakeups_glue_proxy_new_finish (
-    GAsyncResult        *res,
-    GError             **error)
-{
-  GObject *ret;
-  GObject *source_object;
-  source_object = g_async_result_get_source_object (res);
-  ret = g_async_initable_new_finish (G_ASYNC_INITABLE (source_object), res, error);
-  g_object_unref (source_object);
-  if (ret != NULL)
-    return UP_WAKEUPS_GLUE (ret);
-  else
-    return NULL;
-}
-
-/**
- * up_wakeups_glue_proxy_new_sync:
- * @connection: A #GDBusConnection.
- * @flags: Flags from the #GDBusProxyFlags enumeration.
- * @name: (allow-none): A bus name (well-known or unique) or %NULL if @connection is not a message bus connection.
- * @object_path: An object path.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @error: Return location for error or %NULL
- *
- * Synchronously creates a proxy for the D-Bus interface <link linkend="gdbus-interface-org-freedesktop-UPower-Wakeups.top_of_page">org.freedesktop.UPower.Wakeups</link>. See g_dbus_proxy_new_sync() for more details.
- *
- * The calling thread is blocked until a reply is received.
- *
- * See up_wakeups_glue_proxy_new() for the asynchronous version of this constructor.
- *
- * Returns: (transfer full) (type UpWakeupsGlueProxy): The constructed proxy object or %NULL if @error is set.
- */
-UpWakeupsGlue *
-up_wakeups_glue_proxy_new_sync (
-    GDBusConnection     *connection,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GError             **error)
-{
-  GInitable *ret;
-  ret = g_initable_new (UP_TYPE_WAKEUPS_GLUE_PROXY, cancellable, error, "g-flags", flags, "g-name", name, "g-connection", connection, "g-object-path", object_path, "g-interface-name", "org.freedesktop.UPower.Wakeups", NULL);
-  if (ret != NULL)
-    return UP_WAKEUPS_GLUE (ret);
-  else
-    return NULL;
-}
-
-
-/**
- * up_wakeups_glue_proxy_new_for_bus:
- * @bus_type: A #GBusType.
- * @flags: Flags from the #GDBusProxyFlags enumeration.
- * @name: A bus name (well-known or unique).
- * @object_path: An object path.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @callback: A #GAsyncReadyCallback to call when the request is satisfied.
- * @user_data: User data to pass to @callback.
- *
- * Like up_wakeups_glue_proxy_new() but takes a #GBusType instead of a #GDBusConnection.
- *
- * When the operation is finished, @callback will be invoked in the <link linkend="g-main-context-push-thread-default">thread-default main loop</link> of the thread you are calling this method from.
- * You can then call up_wakeups_glue_proxy_new_for_bus_finish() to get the result of the operation.
- *
- * See up_wakeups_glue_proxy_new_for_bus_sync() for the synchronous, blocking version of this constructor.
- */
-void
-up_wakeups_glue_proxy_new_for_bus (
-    GBusType             bus_type,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GAsyncReadyCallback  callback,
-    gpointer             user_data)
-{
-  g_async_initable_new_async (UP_TYPE_WAKEUPS_GLUE_PROXY, G_PRIORITY_DEFAULT, cancellable, callback, user_data, "g-flags", flags, "g-name", name, "g-bus-type", bus_type, "g-object-path", object_path, "g-interface-name", "org.freedesktop.UPower.Wakeups", NULL);
-}
-
-/**
- * up_wakeups_glue_proxy_new_for_bus_finish:
- * @res: The #GAsyncResult obtained from the #GAsyncReadyCallback passed to up_wakeups_glue_proxy_new_for_bus().
- * @error: Return location for error or %NULL
- *
- * Finishes an operation started with up_wakeups_glue_proxy_new_for_bus().
- *
- * Returns: (transfer full) (type UpWakeupsGlueProxy): The constructed proxy object or %NULL if @error is set.
- */
-UpWakeupsGlue *
-up_wakeups_glue_proxy_new_for_bus_finish (
-    GAsyncResult        *res,
-    GError             **error)
-{
-  GObject *ret;
-  GObject *source_object;
-  source_object = g_async_result_get_source_object (res);
-  ret = g_async_initable_new_finish (G_ASYNC_INITABLE (source_object), res, error);
-  g_object_unref (source_object);
-  if (ret != NULL)
-    return UP_WAKEUPS_GLUE (ret);
-  else
-    return NULL;
-}
-
-/**
- * up_wakeups_glue_proxy_new_for_bus_sync:
- * @bus_type: A #GBusType.
- * @flags: Flags from the #GDBusProxyFlags enumeration.
- * @name: A bus name (well-known or unique).
- * @object_path: An object path.
- * @cancellable: (allow-none): A #GCancellable or %NULL.
- * @error: Return location for error or %NULL
- *
- * Like up_wakeups_glue_proxy_new_sync() but takes a #GBusType instead of a #GDBusConnection.
- *
- * The calling thread is blocked until a reply is received.
- *
- * See up_wakeups_glue_proxy_new_for_bus() for the asynchronous version of this constructor.
- *
- * Returns: (transfer full) (type UpWakeupsGlueProxy): The constructed proxy object or %NULL if @error is set.
- */
-UpWakeupsGlue *
-up_wakeups_glue_proxy_new_for_bus_sync (
-    GBusType             bus_type,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GError             **error)
-{
-  GInitable *ret;
-  ret = g_initable_new (UP_TYPE_WAKEUPS_GLUE_PROXY, cancellable, error, "g-flags", flags, "g-name", name, "g-bus-type", bus_type, "g-object-path", object_path, "g-interface-name", "org.freedesktop.UPower.Wakeups", NULL);
-  if (ret != NULL)
-    return UP_WAKEUPS_GLUE (ret);
-  else
-    return NULL;
-}
-
-
-/* ------------------------------------------------------------------------ */
-
-/**
- * UpWakeupsGlueSkeleton:
- *
- * The #UpWakeupsGlueSkeleton structure contains only private data and should only be accessed using the provided API.
- */
-
-/**
- * UpWakeupsGlueSkeletonClass:
- * @parent_class: The parent class.
- *
- * Class structure for #UpWakeupsGlueSkeleton.
- */
-
-struct _UpWakeupsGlueSkeletonPrivate
-{
-  GValue *properties;
-  GList *changed_properties;
-  GSource *changed_properties_idle_source;
-  GMainContext *context;
-  GMutex lock;
-};
-
-static void
-_up_wakeups_glue_skeleton_handle_method_call (
-  GDBusConnection *connection G_GNUC_UNUSED,
-  const gchar *sender G_GNUC_UNUSED,
-  const gchar *object_path G_GNUC_UNUSED,
-  const gchar *interface_name,
-  const gchar *method_name,
-  GVariant *parameters,
-  GDBusMethodInvocation *invocation,
-  gpointer user_data)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (user_data);
-  _ExtendedGDBusMethodInfo *info;
-  GVariantIter iter;
-  GVariant *child;
-  GValue *paramv;
-  guint num_params;
-  guint num_extra;
-  guint n;
-  guint signal_id;
-  GValue return_value = G_VALUE_INIT;
-  info = (_ExtendedGDBusMethodInfo *) g_dbus_method_invocation_get_method_info (invocation);
-  g_assert (info != NULL);
-  num_params = g_variant_n_children (parameters);
-  num_extra = info->pass_fdlist ? 3 : 2;  paramv = g_new0 (GValue, num_params + num_extra);
-  n = 0;
-  g_value_init (&paramv[n], UP_TYPE_WAKEUPS_GLUE);
-  g_value_set_object (&paramv[n++], skeleton);
-  g_value_init (&paramv[n], G_TYPE_DBUS_METHOD_INVOCATION);
-  g_value_set_object (&paramv[n++], invocation);
-  if (info->pass_fdlist)
-    {
-#ifdef G_OS_UNIX
-      g_value_init (&paramv[n], G_TYPE_UNIX_FD_LIST);
-      g_value_set_object (&paramv[n++], g_dbus_message_get_unix_fd_list (g_dbus_method_invocation_get_message (invocation)));
-#else
-      g_assert_not_reached ();
-#endif
-    }
-  g_variant_iter_init (&iter, parameters);
-  while ((child = g_variant_iter_next_value (&iter)) != NULL)
-    {
-      _ExtendedGDBusArgInfo *arg_info = (_ExtendedGDBusArgInfo *) info->parent_struct.in_args[n - num_extra];
-      if (arg_info->use_gvariant)
-        {
-          g_value_init (&paramv[n], G_TYPE_VARIANT);
-          g_value_set_variant (&paramv[n], child);
-          n++;
-        }
-      else
-        g_dbus_gvariant_to_gvalue (child, &paramv[n++]);
-      g_variant_unref (child);
-    }
-  signal_id = g_signal_lookup (info->signal_name, UP_TYPE_WAKEUPS_GLUE);
-  g_value_init (&return_value, G_TYPE_BOOLEAN);
-  g_signal_emitv (paramv, signal_id, 0, &return_value);
-  if (!g_value_get_boolean (&return_value))
-    g_dbus_method_invocation_return_error (invocation, G_DBUS_ERROR, G_DBUS_ERROR_UNKNOWN_METHOD, "Method %s is not implemented on interface %s", method_name, interface_name);
-  g_value_unset (&return_value);
-  for (n = 0; n < num_params + num_extra; n++)
-    g_value_unset (&paramv[n]);
-  g_free (paramv);
-}
-
-static GVariant *
-_up_wakeups_glue_skeleton_handle_get_property (
-  GDBusConnection *connection G_GNUC_UNUSED,
-  const gchar *sender G_GNUC_UNUSED,
-  const gchar *object_path G_GNUC_UNUSED,
-  const gchar *interface_name G_GNUC_UNUSED,
-  const gchar *property_name,
-  GError **error,
-  gpointer user_data)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (user_data);
-  GValue value = G_VALUE_INIT;
-  GParamSpec *pspec;
-  _ExtendedGDBusPropertyInfo *info;
-  GVariant *ret;
-  ret = NULL;
-  info = (_ExtendedGDBusPropertyInfo *) g_dbus_interface_info_lookup_property ((GDBusInterfaceInfo *) &_up_wakeups_glue_interface_info.parent_struct, property_name);
-  g_assert (info != NULL);
-  pspec = g_object_class_find_property (G_OBJECT_GET_CLASS (skeleton), info->hyphen_name);
-  if (pspec == NULL)
-    {
-      g_set_error (error, G_DBUS_ERROR, G_DBUS_ERROR_INVALID_ARGS, "No property with name %s", property_name);
-    }
-  else
-    {
-      g_value_init (&value, pspec->value_type);
-      g_object_get_property (G_OBJECT (skeleton), info->hyphen_name, &value);
-      ret = g_dbus_gvalue_to_gvariant (&value, G_VARIANT_TYPE (info->parent_struct.signature));
-      g_value_unset (&value);
-    }
-  return ret;
-}
-
-static gboolean
-_up_wakeups_glue_skeleton_handle_set_property (
-  GDBusConnection *connection G_GNUC_UNUSED,
-  const gchar *sender G_GNUC_UNUSED,
-  const gchar *object_path G_GNUC_UNUSED,
-  const gchar *interface_name G_GNUC_UNUSED,
-  const gchar *property_name,
-  GVariant *variant,
-  GError **error,
-  gpointer user_data)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (user_data);
-  GValue value = G_VALUE_INIT;
-  GParamSpec *pspec;
-  _ExtendedGDBusPropertyInfo *info;
-  gboolean ret;
-  ret = FALSE;
-  info = (_ExtendedGDBusPropertyInfo *) g_dbus_interface_info_lookup_property ((GDBusInterfaceInfo *) &_up_wakeups_glue_interface_info.parent_struct, property_name);
-  g_assert (info != NULL);
-  pspec = g_object_class_find_property (G_OBJECT_GET_CLASS (skeleton), info->hyphen_name);
-  if (pspec == NULL)
-    {
-      g_set_error (error, G_DBUS_ERROR, G_DBUS_ERROR_INVALID_ARGS, "No property with name %s", property_name);
-    }
-  else
-    {
-      if (info->use_gvariant)
-        g_value_set_variant (&value, variant);
-      else
-        g_dbus_gvariant_to_gvalue (variant, &value);
-      g_object_set_property (G_OBJECT (skeleton), info->hyphen_name, &value);
-      g_value_unset (&value);
-      ret = TRUE;
-    }
-  return ret;
-}
-
-static const GDBusInterfaceVTable _up_wakeups_glue_skeleton_vtable =
-{
-  _up_wakeups_glue_skeleton_handle_method_call,
-  _up_wakeups_glue_skeleton_handle_get_property,
-  _up_wakeups_glue_skeleton_handle_set_property,
-  {NULL}
-};
-
-static GDBusInterfaceInfo *
-up_wakeups_glue_skeleton_dbus_interface_get_info (GDBusInterfaceSkeleton *skeleton G_GNUC_UNUSED)
-{
-  return up_wakeups_glue_interface_info ();
-}
-
-static GDBusInterfaceVTable *
-up_wakeups_glue_skeleton_dbus_interface_get_vtable (GDBusInterfaceSkeleton *skeleton G_GNUC_UNUSED)
-{
-  return (GDBusInterfaceVTable *) &_up_wakeups_glue_skeleton_vtable;
-}
-
-static GVariant *
-up_wakeups_glue_skeleton_dbus_interface_get_properties (GDBusInterfaceSkeleton *_skeleton)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (_skeleton);
-
-  GVariantBuilder builder;
-  guint n;
-  g_variant_builder_init (&builder, G_VARIANT_TYPE ("a{sv}"));
-  if (_up_wakeups_glue_interface_info.parent_struct.properties == NULL)
-    goto out;
-  for (n = 0; _up_wakeups_glue_interface_info.parent_struct.properties[n] != NULL; n++)
-    {
-      GDBusPropertyInfo *info = _up_wakeups_glue_interface_info.parent_struct.properties[n];
-      if (info->flags & G_DBUS_PROPERTY_INFO_FLAGS_READABLE)
-        {
-          GVariant *value;
-          value = _up_wakeups_glue_skeleton_handle_get_property (g_dbus_interface_skeleton_get_connection (G_DBUS_INTERFACE_SKELETON (skeleton)), NULL, g_dbus_interface_skeleton_get_object_path (G_DBUS_INTERFACE_SKELETON (skeleton)), "org.freedesktop.UPower.Wakeups", info->name, NULL, skeleton);
-          if (value != NULL)
-            {
-              g_variant_take_ref (value);
-              g_variant_builder_add (&builder, "{sv}", info->name, value);
-              g_variant_unref (value);
-            }
-        }
-    }
-out:
-  return g_variant_builder_end (&builder);
-}
-
-static gboolean _up_wakeups_glue_emit_changed (gpointer user_data);
-
-static void
-up_wakeups_glue_skeleton_dbus_interface_flush (GDBusInterfaceSkeleton *_skeleton)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (_skeleton);
-  gboolean emit_changed = FALSE;
-
-  g_mutex_lock (&skeleton->priv->lock);
-  if (skeleton->priv->changed_properties_idle_source != NULL)
-    {
-      g_source_destroy (skeleton->priv->changed_properties_idle_source);
-      skeleton->priv->changed_properties_idle_source = NULL;
-      emit_changed = TRUE;
-    }
-  g_mutex_unlock (&skeleton->priv->lock);
-
-  if (emit_changed)
-    _up_wakeups_glue_emit_changed (skeleton);
-}
-
-static void
-_up_wakeups_glue_on_signal_total_changed (
-    UpWakeupsGlue *object,
-    guint arg_value)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (object);
-
-  GList      *connections, *l;
-  GVariant   *signal_variant;
-  connections = g_dbus_interface_skeleton_get_connections (G_DBUS_INTERFACE_SKELETON (skeleton));
-
-  signal_variant = g_variant_ref_sink (g_variant_new ("(u)",
-                   arg_value));
-  for (l = connections; l != NULL; l = l->next)
-    {
-      GDBusConnection *connection = l->data;
-      g_dbus_connection_emit_signal (connection,
-        NULL, g_dbus_interface_skeleton_get_object_path (G_DBUS_INTERFACE_SKELETON (skeleton)), "org.freedesktop.UPower.Wakeups", "TotalChanged",
-        signal_variant, NULL);
-    }
-  g_variant_unref (signal_variant);
-  g_list_free_full (connections, g_object_unref);
-}
-
-static void
-_up_wakeups_glue_on_signal_data_changed (
-    UpWakeupsGlue *object)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (object);
-
-  GList      *connections, *l;
-  GVariant   *signal_variant;
-  connections = g_dbus_interface_skeleton_get_connections (G_DBUS_INTERFACE_SKELETON (skeleton));
-
-  signal_variant = g_variant_ref_sink (g_variant_new ("()"));
-  for (l = connections; l != NULL; l = l->next)
-    {
-      GDBusConnection *connection = l->data;
-      g_dbus_connection_emit_signal (connection,
-        NULL, g_dbus_interface_skeleton_get_object_path (G_DBUS_INTERFACE_SKELETON (skeleton)), "org.freedesktop.UPower.Wakeups", "DataChanged",
-        signal_variant, NULL);
-    }
-  g_variant_unref (signal_variant);
-  g_list_free_full (connections, g_object_unref);
-}
-
-static void up_wakeups_glue_skeleton_iface_init (UpWakeupsGlueIface *iface);
-G_DEFINE_TYPE_WITH_CODE (UpWakeupsGlueSkeleton, up_wakeups_glue_skeleton, G_TYPE_DBUS_INTERFACE_SKELETON,
-                         G_ADD_PRIVATE (UpWakeupsGlueSkeleton)
-                         G_IMPLEMENT_INTERFACE (UP_TYPE_WAKEUPS_GLUE, up_wakeups_glue_skeleton_iface_init));
-
-static void
-up_wakeups_glue_skeleton_finalize (GObject *object)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (object);
-  guint n;
-  for (n = 0; n < 1; n++)
-    g_value_unset (&skeleton->priv->properties[n]);
-  g_free (skeleton->priv->properties);
-  g_list_free_full (skeleton->priv->changed_properties, (GDestroyNotify) _changed_property_free);
-  if (skeleton->priv->changed_properties_idle_source != NULL)
-    g_source_destroy (skeleton->priv->changed_properties_idle_source);
-  g_main_context_unref (skeleton->priv->context);
-  g_mutex_clear (&skeleton->priv->lock);
-  G_OBJECT_CLASS (up_wakeups_glue_skeleton_parent_class)->finalize (object);
-}
-
-static void
-up_wakeups_glue_skeleton_get_property (GObject      *object,
-  guint         prop_id,
-  GValue       *value,
-  GParamSpec   *pspec G_GNUC_UNUSED)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (object);
-  g_assert (prop_id != 0 && prop_id - 1 < 1);
-  g_mutex_lock (&skeleton->priv->lock);
-  g_value_copy (&skeleton->priv->properties[prop_id - 1], value);
-  g_mutex_unlock (&skeleton->priv->lock);
-}
-
-static gboolean
-_up_wakeups_glue_emit_changed (gpointer user_data)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (user_data);
-  GList *l;
-  GVariantBuilder builder;
-  GVariantBuilder invalidated_builder;
-  guint num_changes;
-
-  g_mutex_lock (&skeleton->priv->lock);
-  g_variant_builder_init (&builder, G_VARIANT_TYPE ("a{sv}"));
-  g_variant_builder_init (&invalidated_builder, G_VARIANT_TYPE ("as"));
-  for (l = skeleton->priv->changed_properties, num_changes = 0; l != NULL; l = l->next)
-    {
-      ChangedProperty *cp = l->data;
-      GVariant *variant;
-      const GValue *cur_value;
-
-      cur_value = &skeleton->priv->properties[cp->prop_id - 1];
-      if (!_g_value_equal (cur_value, &cp->orig_value))
-        {
-          variant = g_dbus_gvalue_to_gvariant (cur_value, G_VARIANT_TYPE (cp->info->parent_struct.signature));
-          g_variant_builder_add (&builder, "{sv}", cp->info->parent_struct.name, variant);
-          g_variant_unref (variant);
-          num_changes++;
-        }
-    }
-  if (num_changes > 0)
-    {
-      GList *connections, *ll;
-      GVariant *signal_variant;
-      signal_variant = g_variant_ref_sink (g_variant_new ("(sa{sv}as)", "org.freedesktop.UPower.Wakeups",
-                                           &builder, &invalidated_builder));
-      connections = g_dbus_interface_skeleton_get_connections (G_DBUS_INTERFACE_SKELETON (skeleton));
-      for (ll = connections; ll != NULL; ll = ll->next)
-        {
-          GDBusConnection *connection = ll->data;
-
-          g_dbus_connection_emit_signal (connection,
-                                         NULL, g_dbus_interface_skeleton_get_object_path (G_DBUS_INTERFACE_SKELETON (skeleton)),
-                                         "org.freedesktop.DBus.Properties",
-                                         "PropertiesChanged",
-                                         signal_variant,
-                                         NULL);
-        }
-      g_variant_unref (signal_variant);
-      g_list_free_full (connections, g_object_unref);
-    }
-  else
-    {
-      g_variant_builder_clear (&builder);
-      g_variant_builder_clear (&invalidated_builder);
-    }
-  g_list_free_full (skeleton->priv->changed_properties, (GDestroyNotify) _changed_property_free);
-  skeleton->priv->changed_properties = NULL;
-  skeleton->priv->changed_properties_idle_source = NULL;
-  g_mutex_unlock (&skeleton->priv->lock);
-  return FALSE;
-}
-
-static void
-_up_wakeups_glue_schedule_emit_changed (UpWakeupsGlueSkeleton *skeleton, const _ExtendedGDBusPropertyInfo *info, guint prop_id, const GValue *orig_value)
-{
-  ChangedProperty *cp;
-  GList *l;
-  cp = NULL;
-  for (l = skeleton->priv->changed_properties; l != NULL; l = l->next)
-    {
-      ChangedProperty *i_cp = l->data;
-      if (i_cp->info == info)
-        {
-          cp = i_cp;
-          break;
-        }
-    }
-  if (cp == NULL)
-    {
-      cp = g_new0 (ChangedProperty, 1);
-      cp->prop_id = prop_id;
-      cp->info = info;
-      skeleton->priv->changed_properties = g_list_prepend (skeleton->priv->changed_properties, cp);
-      g_value_init (&cp->orig_value, G_VALUE_TYPE (orig_value));
-      g_value_copy (orig_value, &cp->orig_value);
-    }
-}
-
-static void
-up_wakeups_glue_skeleton_notify (GObject      *object,
-  GParamSpec *pspec G_GNUC_UNUSED)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (object);
-  g_mutex_lock (&skeleton->priv->lock);
-  if (skeleton->priv->changed_properties != NULL &&
-      skeleton->priv->changed_properties_idle_source == NULL)
-    {
-      skeleton->priv->changed_properties_idle_source = g_idle_source_new ();
-      g_source_set_priority (skeleton->priv->changed_properties_idle_source, G_PRIORITY_DEFAULT);
-      g_source_set_callback (skeleton->priv->changed_properties_idle_source, _up_wakeups_glue_emit_changed, g_object_ref (skeleton), (GDestroyNotify) g_object_unref);
-      g_source_attach (skeleton->priv->changed_properties_idle_source, skeleton->priv->context);
-      g_source_unref (skeleton->priv->changed_properties_idle_source);
-    }
-  g_mutex_unlock (&skeleton->priv->lock);
-}
-
-static void
-up_wakeups_glue_skeleton_set_property (GObject      *object,
-  guint         prop_id,
-  const GValue *value,
-  GParamSpec   *pspec)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (object);
-  g_assert (prop_id != 0 && prop_id - 1 < 1);
-  g_mutex_lock (&skeleton->priv->lock);
-  g_object_freeze_notify (object);
-  if (!_g_value_equal (value, &skeleton->priv->properties[prop_id - 1]))
-    {
-      if (g_dbus_interface_skeleton_get_connection (G_DBUS_INTERFACE_SKELETON (skeleton)) != NULL)
-        _up_wakeups_glue_schedule_emit_changed (skeleton, _up_wakeups_glue_property_info_pointers[prop_id - 1], prop_id, &skeleton->priv->properties[prop_id - 1]);
-      g_value_copy (value, &skeleton->priv->properties[prop_id - 1]);
-      g_object_notify_by_pspec (object, pspec);
-    }
-  g_mutex_unlock (&skeleton->priv->lock);
-  g_object_thaw_notify (object);
-}
-
-static void
-up_wakeups_glue_skeleton_init (UpWakeupsGlueSkeleton *skeleton)
-{
-  skeleton->priv = up_wakeups_glue_skeleton_get_instance_private (skeleton);
-  g_mutex_init (&skeleton->priv->lock);
-  skeleton->priv->context = g_main_context_ref_thread_default ();
-  skeleton->priv->properties = g_new0 (GValue, 1);
-  g_value_init (&skeleton->priv->properties[0], G_TYPE_BOOLEAN);
-}
-
-static gboolean 
-up_wakeups_glue_skeleton_get_has_capability (UpWakeupsGlue *object)
-{
-  UpWakeupsGlueSkeleton *skeleton = UP_WAKEUPS_GLUE_SKELETON (object);
-  gboolean value;
-  g_mutex_lock (&skeleton->priv->lock);
-  value = g_value_get_boolean (&(skeleton->priv->properties[0]));
-  g_mutex_unlock (&skeleton->priv->lock);
-  return value;
-}
-
-static void
-up_wakeups_glue_skeleton_class_init (UpWakeupsGlueSkeletonClass *klass)
-{
-  GObjectClass *gobject_class;
-  GDBusInterfaceSkeletonClass *skeleton_class;
-
-  gobject_class = G_OBJECT_CLASS (klass);
-  gobject_class->finalize = up_wakeups_glue_skeleton_finalize;
-  gobject_class->get_property = up_wakeups_glue_skeleton_get_property;
-  gobject_class->set_property = up_wakeups_glue_skeleton_set_property;
-  gobject_class->notify       = up_wakeups_glue_skeleton_notify;
-
-
-  up_wakeups_glue_override_properties (gobject_class, 1);
-
-  skeleton_class = G_DBUS_INTERFACE_SKELETON_CLASS (klass);
-  skeleton_class->get_info = up_wakeups_glue_skeleton_dbus_interface_get_info;
-  skeleton_class->get_properties = up_wakeups_glue_skeleton_dbus_interface_get_properties;
-  skeleton_class->flush = up_wakeups_glue_skeleton_dbus_interface_flush;
-  skeleton_class->get_vtable = up_wakeups_glue_skeleton_dbus_interface_get_vtable;
-}
-
-static void
-up_wakeups_glue_skeleton_iface_init (UpWakeupsGlueIface *iface)
-{
-  iface->total_changed = _up_wakeups_glue_on_signal_total_changed;
-  iface->data_changed = _up_wakeups_glue_on_signal_data_changed;
-  iface->get_has_capability = up_wakeups_glue_skeleton_get_has_capability;
-}
-
-/**
- * up_wakeups_glue_skeleton_new:
- *
- * Creates a skeleton object for the D-Bus interface <link linkend="gdbus-interface-org-freedesktop-UPower-Wakeups.top_of_page">org.freedesktop.UPower.Wakeups</link>.
- *
- * Returns: (transfer full) (type UpWakeupsGlueSkeleton): The skeleton object.
- */
-UpWakeupsGlue *
-up_wakeups_glue_skeleton_new (void)
-{
-  return UP_WAKEUPS_GLUE (g_object_new (UP_TYPE_WAKEUPS_GLUE_SKELETON, NULL));
-}
-
diff -urN upower-0.99.0/libupower-glib/up-wakeups-glue.h upower-0.99.0-patched-pretty/libupower-glib/up-wakeups-glue.h
--- upower-0.99.0/libupower-glib/up-wakeups-glue.h	2013-10-29 06:39:14.000000000 -0400
+++ upower-0.99.0-patched-pretty/libupower-glib/up-wakeups-glue.h	1969-12-31 19:00:00.000000000 -0500
@@ -1,223 +0,0 @@
-/*
- * Generated by gdbus-codegen 2.39.0. DO NOT EDIT.
- *
- * The license of this code is the same as for the source it was derived from.
- */
-
-#ifndef __UP_WAKEUPS_GLUE_H__
-#define __UP_WAKEUPS_GLUE_H__
-
-#include <gio/gio.h>
-
-G_BEGIN_DECLS
-
-
-/* ------------------------------------------------------------------------ */
-/* Declarations for org.freedesktop.UPower.Wakeups */
-
-#define UP_TYPE_WAKEUPS_GLUE (up_wakeups_glue_get_type ())
-#define UP_WAKEUPS_GLUE(o) (G_TYPE_CHECK_INSTANCE_CAST ((o), UP_TYPE_WAKEUPS_GLUE, UpWakeupsGlue))
-#define UP_IS_WAKEUPS_GLUE(o) (G_TYPE_CHECK_INSTANCE_TYPE ((o), UP_TYPE_WAKEUPS_GLUE))
-#define UP_WAKEUPS_GLUE_GET_IFACE(o) (G_TYPE_INSTANCE_GET_INTERFACE ((o), UP_TYPE_WAKEUPS_GLUE, UpWakeupsGlueIface))
-
-struct _UpWakeupsGlue;
-typedef struct _UpWakeupsGlue UpWakeupsGlue;
-typedef struct _UpWakeupsGlueIface UpWakeupsGlueIface;
-
-struct _UpWakeupsGlueIface
-{
-  GTypeInterface parent_iface;
-
-
-
-  gboolean (*handle_get_data) (
-    UpWakeupsGlue *object,
-    GDBusMethodInvocation *invocation);
-
-  gboolean (*handle_get_total) (
-    UpWakeupsGlue *object,
-    GDBusMethodInvocation *invocation);
-
-  gboolean  (*get_has_capability) (UpWakeupsGlue *object);
-
-  void (*data_changed) (
-    UpWakeupsGlue *object);
-
-  void (*total_changed) (
-    UpWakeupsGlue *object,
-    guint arg_value);
-
-};
-
-GType up_wakeups_glue_get_type (void) G_GNUC_CONST;
-
-GDBusInterfaceInfo *up_wakeups_glue_interface_info (void);
-guint up_wakeups_glue_override_properties (GObjectClass *klass, guint property_id_begin);
-
-
-/* D-Bus method call completion functions: */
-void up_wakeups_glue_complete_get_total (
-    UpWakeupsGlue *object,
-    GDBusMethodInvocation *invocation,
-    guint value);
-
-void up_wakeups_glue_complete_get_data (
-    UpWakeupsGlue *object,
-    GDBusMethodInvocation *invocation,
-    GVariant *data);
-
-
-
-/* D-Bus signal emissions functions: */
-void up_wakeups_glue_emit_total_changed (
-    UpWakeupsGlue *object,
-    guint arg_value);
-
-void up_wakeups_glue_emit_data_changed (
-    UpWakeupsGlue *object);
-
-
-
-/* D-Bus method calls: */
-void up_wakeups_glue_call_get_total (
-    UpWakeupsGlue *proxy,
-    GCancellable *cancellable,
-    GAsyncReadyCallback callback,
-    gpointer user_data);
-
-gboolean up_wakeups_glue_call_get_total_finish (
-    UpWakeupsGlue *proxy,
-    guint *out_value,
-    GAsyncResult *res,
-    GError **error);
-
-gboolean up_wakeups_glue_call_get_total_sync (
-    UpWakeupsGlue *proxy,
-    guint *out_value,
-    GCancellable *cancellable,
-    GError **error);
-
-void up_wakeups_glue_call_get_data (
-    UpWakeupsGlue *proxy,
-    GCancellable *cancellable,
-    GAsyncReadyCallback callback,
-    gpointer user_data);
-
-gboolean up_wakeups_glue_call_get_data_finish (
-    UpWakeupsGlue *proxy,
-    GVariant **out_data,
-    GAsyncResult *res,
-    GError **error);
-
-gboolean up_wakeups_glue_call_get_data_sync (
-    UpWakeupsGlue *proxy,
-    GVariant **out_data,
-    GCancellable *cancellable,
-    GError **error);
-
-
-
-/* D-Bus property accessors: */
-gboolean up_wakeups_glue_get_has_capability (UpWakeupsGlue *object);
-void up_wakeups_glue_set_has_capability (UpWakeupsGlue *object, gboolean value);
-
-
-/* ---- */
-
-#define UP_TYPE_WAKEUPS_GLUE_PROXY (up_wakeups_glue_proxy_get_type ())
-#define UP_WAKEUPS_GLUE_PROXY(o) (G_TYPE_CHECK_INSTANCE_CAST ((o), UP_TYPE_WAKEUPS_GLUE_PROXY, UpWakeupsGlueProxy))
-#define UP_WAKEUPS_GLUE_PROXY_CLASS(k) (G_TYPE_CHECK_CLASS_CAST ((k), UP_TYPE_WAKEUPS_GLUE_PROXY, UpWakeupsGlueProxyClass))
-#define UP_WAKEUPS_GLUE_PROXY_GET_CLASS(o) (G_TYPE_INSTANCE_GET_CLASS ((o), UP_TYPE_WAKEUPS_GLUE_PROXY, UpWakeupsGlueProxyClass))
-#define UP_IS_WAKEUPS_GLUE_PROXY(o) (G_TYPE_CHECK_INSTANCE_TYPE ((o), UP_TYPE_WAKEUPS_GLUE_PROXY))
-#define UP_IS_WAKEUPS_GLUE_PROXY_CLASS(k) (G_TYPE_CHECK_CLASS_TYPE ((k), UP_TYPE_WAKEUPS_GLUE_PROXY))
-
-typedef struct _UpWakeupsGlueProxy UpWakeupsGlueProxy;
-typedef struct _UpWakeupsGlueProxyClass UpWakeupsGlueProxyClass;
-typedef struct _UpWakeupsGlueProxyPrivate UpWakeupsGlueProxyPrivate;
-
-struct _UpWakeupsGlueProxy
-{
-  /*< private >*/
-  GDBusProxy parent_instance;
-  UpWakeupsGlueProxyPrivate *priv;
-};
-
-struct _UpWakeupsGlueProxyClass
-{
-  GDBusProxyClass parent_class;
-};
-
-GType up_wakeups_glue_proxy_get_type (void) G_GNUC_CONST;
-
-void up_wakeups_glue_proxy_new (
-    GDBusConnection     *connection,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GAsyncReadyCallback  callback,
-    gpointer             user_data);
-UpWakeupsGlue *up_wakeups_glue_proxy_new_finish (
-    GAsyncResult        *res,
-    GError             **error);
-UpWakeupsGlue *up_wakeups_glue_proxy_new_sync (
-    GDBusConnection     *connection,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GError             **error);
-
-void up_wakeups_glue_proxy_new_for_bus (
-    GBusType             bus_type,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GAsyncReadyCallback  callback,
-    gpointer             user_data);
-UpWakeupsGlue *up_wakeups_glue_proxy_new_for_bus_finish (
-    GAsyncResult        *res,
-    GError             **error);
-UpWakeupsGlue *up_wakeups_glue_proxy_new_for_bus_sync (
-    GBusType             bus_type,
-    GDBusProxyFlags      flags,
-    const gchar         *name,
-    const gchar         *object_path,
-    GCancellable        *cancellable,
-    GError             **error);
-
-
-/* ---- */
-
-#define UP_TYPE_WAKEUPS_GLUE_SKELETON (up_wakeups_glue_skeleton_get_type ())
-#define UP_WAKEUPS_GLUE_SKELETON(o) (G_TYPE_CHECK_INSTANCE_CAST ((o), UP_TYPE_WAKEUPS_GLUE_SKELETON, UpWakeupsGlueSkeleton))
-#define UP_WAKEUPS_GLUE_SKELETON_CLASS(k) (G_TYPE_CHECK_CLASS_CAST ((k), UP_TYPE_WAKEUPS_GLUE_SKELETON, UpWakeupsGlueSkeletonClass))
-#define UP_WAKEUPS_GLUE_SKELETON_GET_CLASS(o) (G_TYPE_INSTANCE_GET_CLASS ((o), UP_TYPE_WAKEUPS_GLUE_SKELETON, UpWakeupsGlueSkeletonClass))
-#define UP_IS_WAKEUPS_GLUE_SKELETON(o) (G_TYPE_CHECK_INSTANCE_TYPE ((o), UP_TYPE_WAKEUPS_GLUE_SKELETON))
-#define UP_IS_WAKEUPS_GLUE_SKELETON_CLASS(k) (G_TYPE_CHECK_CLASS_TYPE ((k), UP_TYPE_WAKEUPS_GLUE_SKELETON))
-
-typedef struct _UpWakeupsGlueSkeleton UpWakeupsGlueSkeleton;
-typedef struct _UpWakeupsGlueSkeletonClass UpWakeupsGlueSkeletonClass;
-typedef struct _UpWakeupsGlueSkeletonPrivate UpWakeupsGlueSkeletonPrivate;
-
-struct _UpWakeupsGlueSkeleton
-{
-  /*< private >*/
-  GDBusInterfaceSkeleton parent_instance;
-  UpWakeupsGlueSkeletonPrivate *priv;
-};
-
-struct _UpWakeupsGlueSkeletonClass
-{
-  GDBusInterfaceSkeletonClass parent_class;
-};
-
-GType up_wakeups_glue_skeleton_get_type (void) G_GNUC_CONST;
-
-UpWakeupsGlue *up_wakeups_glue_skeleton_new (void);
-
-
-G_END_DECLS
-
-#endif /* __UP_WAKEUPS_GLUE_H__ */
diff -urN upower-0.99.0/po/POTFILES.in upower-0.99.0-patched-pretty/po/POTFILES.in
--- upower-0.99.0/po/POTFILES.in	2013-10-29 06:37:01.000000000 -0400
+++ upower-0.99.0-patched-pretty/po/POTFILES.in	2014-07-13 21:34:35.217231622 -0400
@@ -1,5 +1,6 @@
 # List of source files containing translatable strings.
 # Please keep this file sorted alphabetically.
 [encoding: UTF-8]
+policy/org.freedesktop.upower.policy.in
 src/up-main.c
 tools/up-tool.c
diff -urN upower-0.99.0/policy/Makefile.am upower-0.99.0-patched-pretty/policy/Makefile.am
--- upower-0.99.0/policy/Makefile.am	1969-12-31 19:00:00.000000000 -0500
+++ upower-0.99.0-patched-pretty/policy/Makefile.am	2014-07-13 21:34:35.217231622 -0400
@@ -0,0 +1,18 @@
+polkit_policydir = $(datadir)/polkit-1/actions
+polkit_policy_DATA =					\
+	org.freedesktop.upower.policy
+
+# You will need a recent intltool or the patch from this bug
+# http://bugzilla.gnome.org/show_bug.cgi?id=462312
+@INTLTOOL_POLICY_RULE@
+
+EXTRA_DIST =						\
+	org.freedesktop.upower.policy.in
+
+DISTCLEANFILES =					\
+	org.freedesktop.upower.policy
+
+clean-local :
+	rm -f *~
+
+-include $(top_srcdir)/git.mk
diff -urN upower-0.99.0/policy/Makefile.in upower-0.99.0-patched-pretty/policy/Makefile.in
--- upower-0.99.0/policy/Makefile.in	1969-12-31 19:00:00.000000000 -0500
+++ upower-0.99.0-patched-pretty/policy/Makefile.in	2014-07-13 21:34:35.218231622 -0400
@@ -0,0 +1,585 @@
+# Makefile.in generated by automake 1.13.4 from Makefile.am.
+# @configure_input@
+
+# Copyright (C) 1994-2013 Free Software Foundation, Inc.
+
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
+@SET_MAKE@
+
+VPATH = @srcdir@
+am__is_gnu_make = test -n '$(MAKEFILE_LIST)' && test -n '$(MAKELEVEL)'
+am__make_running_with_option = \
+  case $${target_option-} in \
+      ?) ;; \
+      *) echo "am__make_running_with_option: internal error: invalid" \
+              "target option '$${target_option-}' specified" >&2; \
+         exit 1;; \
+  esac; \
+  has_opt=no; \
+  sane_makeflags=$$MAKEFLAGS; \
+  if $(am__is_gnu_make); then \
+    sane_makeflags=$$MFLAGS; \
+  else \
+    case $$MAKEFLAGS in \
+      *\\[\ \	]*) \
+        bs=\\; \
+        sane_makeflags=`printf '%s\n' "$$MAKEFLAGS" \
+          | sed "s/$$bs$$bs[$$bs $$bs	]*//g"`;; \
+    esac; \
+  fi; \
+  skip_next=no; \
+  strip_trailopt () \
+  { \
+    flg=`printf '%s\n' "$$flg" | sed "s/$$1.*$$//"`; \
+  }; \
+  for flg in $$sane_makeflags; do \
+    test $$skip_next = yes && { skip_next=no; continue; }; \
+    case $$flg in \
+      *=*|--*) continue;; \
+        -*I) strip_trailopt 'I'; skip_next=yes;; \
+      -*I?*) strip_trailopt 'I';; \
+        -*O) strip_trailopt 'O'; skip_next=yes;; \
+      -*O?*) strip_trailopt 'O';; \
+        -*l) strip_trailopt 'l'; skip_next=yes;; \
+      -*l?*) strip_trailopt 'l';; \
+      -[dEDm]) skip_next=yes;; \
+      -[JT]) skip_next=yes;; \
+    esac; \
+    case $$flg in \
+      *$$target_option*) has_opt=yes; break;; \
+    esac; \
+  done; \
+  test $$has_opt = yes
+am__make_dryrun = (target_option=n; $(am__make_running_with_option))
+am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
+pkgdatadir = $(datadir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkglibexecdir = $(libexecdir)/@PACKAGE@
+am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
+install_sh_DATA = $(install_sh) -c -m 644
+install_sh_PROGRAM = $(install_sh) -c
+install_sh_SCRIPT = $(install_sh) -c
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = $(program_transform_name)
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+build_triplet = @build@
+host_triplet = @host@
+subdir = policy
+DIST_COMMON = $(srcdir)/Makefile.in $(srcdir)/Makefile.am
+ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
+am__aclocal_m4_deps = $(top_srcdir)/m4/ax_check_compile_flag.m4 \
+	$(top_srcdir)/m4/ax_check_link_flag.m4 \
+	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/gtk-doc.m4 \
+	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
+	$(top_srcdir)/m4/intltool.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/progtest.m4 \
+	$(top_srcdir)/configure.ac
+am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
+	$(ACLOCAL_M4)
+mkinstalldirs = $(install_sh) -d
+CONFIG_HEADER = $(top_builddir)/config.h
+CONFIG_CLEAN_FILES =
+CONFIG_CLEAN_VPATH_FILES =
+AM_V_P = $(am__v_P_@AM_V@)
+am__v_P_ = $(am__v_P_@AM_DEFAULT_V@)
+am__v_P_0 = false
+am__v_P_1 = :
+AM_V_GEN = $(am__v_GEN_@AM_V@)
+am__v_GEN_ = $(am__v_GEN_@AM_DEFAULT_V@)
+am__v_GEN_0 = @echo "  GEN     " $@;
+am__v_GEN_1 = 
+AM_V_at = $(am__v_at_@AM_V@)
+am__v_at_ = $(am__v_at_@AM_DEFAULT_V@)
+am__v_at_0 = @
+am__v_at_1 = 
+SOURCES =
+DIST_SOURCES =
+am__can_run_installinfo = \
+  case $$AM_UPDATE_INFO_DIR in \
+    n|no|NO) false;; \
+    *) (install-info --version) >/dev/null 2>&1;; \
+  esac
+am__vpath_adj_setup = srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`;
+am__vpath_adj = case $$p in \
+    $(srcdir)/*) f=`echo "$$p" | sed "s|^$$srcdirstrip/||"`;; \
+    *) f=$$p;; \
+  esac;
+am__strip_dir = f=`echo $$p | sed -e 's|^.*/||'`;
+am__install_max = 40
+am__nobase_strip_setup = \
+  srcdirstrip=`echo "$(srcdir)" | sed 's/[].[^$$\\*|]/\\\\&/g'`
+am__nobase_strip = \
+  for p in $$list; do echo "$$p"; done | sed -e "s|$$srcdirstrip/||"
+am__nobase_list = $(am__nobase_strip_setup); \
+  for p in $$list; do echo "$$p $$p"; done | \
+  sed "s| $$srcdirstrip/| |;"' / .*\//!s/ .*/ ./; s,\( .*\)/[^/]*$$,\1,' | \
+  $(AWK) 'BEGIN { files["."] = "" } { files[$$2] = files[$$2] " " $$1; \
+    if (++n[$$2] == $(am__install_max)) \
+      { print $$2, files[$$2]; n[$$2] = 0; files[$$2] = "" } } \
+    END { for (dir in files) print dir, files[dir] }'
+am__base_list = \
+  sed '$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\n/ /g' | \
+  sed '$$!N;$$!N;$$!N;$$!N;s/\n/ /g'
+am__uninstall_files_from_dir = { \
+  test -z "$$files" \
+    || { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
+    || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
+         $(am__cd) "$$dir" && rm -f $$files; }; \
+  }
+am__installdirs = "$(DESTDIR)$(polkit_policydir)"
+DATA = $(polkit_policy_DATA)
+am__tagged_files = $(HEADERS) $(SOURCES) $(TAGS_FILES) $(LISP)
+DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+ACLOCAL = @ACLOCAL@
+ALL_LINGUAS = @ALL_LINGUAS@
+AMTAR = @AMTAR@
+AM_DEFAULT_VERBOSITY = @AM_DEFAULT_VERBOSITY@
+AR = @AR@
+AUTOCONF = @AUTOCONF@
+AUTOHEADER = @AUTOHEADER@
+AUTOMAKE = @AUTOMAKE@
+AWK = @AWK@
+BACKEND = @BACKEND@
+CC = @CC@
+CCDEPMODE = @CCDEPMODE@
+CFLAGS = @CFLAGS@
+CPP = @CPP@
+CPPFLAGS = @CPPFLAGS@
+CYGPATH_W = @CYGPATH_W@
+DATADIRNAME = @DATADIRNAME@
+DBUS_CFLAGS = @DBUS_CFLAGS@
+DBUS_GLIB_CFLAGS = @DBUS_GLIB_CFLAGS@
+DBUS_GLIB_LIBS = @DBUS_GLIB_LIBS@
+DBUS_LIBS = @DBUS_LIBS@
+DEFS = @DEFS@
+DEPDIR = @DEPDIR@
+DLLTOOL = @DLLTOOL@
+DSYMUTIL = @DSYMUTIL@
+DUMPBIN = @DUMPBIN@
+ECHO_C = @ECHO_C@
+ECHO_N = @ECHO_N@
+ECHO_T = @ECHO_T@
+EGREP = @EGREP@
+EXEEXT = @EXEEXT@
+FGREP = @FGREP@
+GETTEXT_MACRO_VERSION = @GETTEXT_MACRO_VERSION@
+GETTEXT_PACKAGE = @GETTEXT_PACKAGE@
+GIO_CFLAGS = @GIO_CFLAGS@
+GIO_LIBS = @GIO_LIBS@
+GIO_UNIX_CFLAGS = @GIO_UNIX_CFLAGS@
+GIO_UNIX_LIBS = @GIO_UNIX_LIBS@
+GLIB_CFLAGS = @GLIB_CFLAGS@
+GLIB_LIBS = @GLIB_LIBS@
+GMSGFMT = @GMSGFMT@
+GMSGFMT_015 = @GMSGFMT_015@
+GREP = @GREP@
+GTKDOC_CHECK = @GTKDOC_CHECK@
+GTKDOC_DEPS_CFLAGS = @GTKDOC_DEPS_CFLAGS@
+GTKDOC_DEPS_LIBS = @GTKDOC_DEPS_LIBS@
+GTKDOC_MKPDF = @GTKDOC_MKPDF@
+GTKDOC_REBASE = @GTKDOC_REBASE@
+GUDEV_CFLAGS = @GUDEV_CFLAGS@
+GUDEV_LIBS = @GUDEV_LIBS@
+HTML_DIR = @HTML_DIR@
+IDEVICE_CFLAGS = @IDEVICE_CFLAGS@
+IDEVICE_LIBS = @IDEVICE_LIBS@
+INSTALL = @INSTALL@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+INTLLIBS = @INTLLIBS@
+INTLTOOL_EXTRACT = @INTLTOOL_EXTRACT@
+INTLTOOL_MERGE = @INTLTOOL_MERGE@
+INTLTOOL_PERL = @INTLTOOL_PERL@
+INTLTOOL_UPDATE = @INTLTOOL_UPDATE@
+INTLTOOL_V_MERGE = @INTLTOOL_V_MERGE@
+INTLTOOL_V_MERGE_OPTIONS = @INTLTOOL_V_MERGE_OPTIONS@
+INTLTOOL__v_MERGE_ = @INTLTOOL__v_MERGE_@
+INTLTOOL__v_MERGE_0 = @INTLTOOL__v_MERGE_0@
+INTL_MACOSX_LIBS = @INTL_MACOSX_LIBS@
+INTROSPECTION_CFLAGS = @INTROSPECTION_CFLAGS@
+INTROSPECTION_COMPILER = @INTROSPECTION_COMPILER@
+INTROSPECTION_GENERATE = @INTROSPECTION_GENERATE@
+INTROSPECTION_GIRDIR = @INTROSPECTION_GIRDIR@
+INTROSPECTION_LIBS = @INTROSPECTION_LIBS@
+INTROSPECTION_MAKEFILE = @INTROSPECTION_MAKEFILE@
+INTROSPECTION_SCANNER = @INTROSPECTION_SCANNER@
+INTROSPECTION_TYPELIBDIR = @INTROSPECTION_TYPELIBDIR@
+LD = @LD@
+LDFLAGS = @LDFLAGS@
+LIBICONV = @LIBICONV@
+LIBINTL = @LIBINTL@
+LIBOBJS = @LIBOBJS@
+LIBS = @LIBS@
+LIBTOOL = @LIBTOOL@
+LIPO = @LIPO@
+LN_S = @LN_S@
+LTLIBICONV = @LTLIBICONV@
+LTLIBINTL = @LTLIBINTL@
+LTLIBOBJS = @LTLIBOBJS@
+LT_AGE = @LT_AGE@
+LT_CURRENT = @LT_CURRENT@
+LT_REVISION = @LT_REVISION@
+MAINT = @MAINT@
+MAKEINFO = @MAKEINFO@
+MANIFEST_TOOL = @MANIFEST_TOOL@
+MKDIR_P = @MKDIR_P@
+MSGFMT = @MSGFMT@
+MSGFMT_015 = @MSGFMT_015@
+MSGMERGE = @MSGMERGE@
+NM = @NM@
+NMEDIT = @NMEDIT@
+OBJDUMP = @OBJDUMP@
+OBJEXT = @OBJEXT@
+OTOOL = @OTOOL@
+OTOOL64 = @OTOOL64@
+PACKAGE = @PACKAGE@
+PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
+PACKAGE_NAME = @PACKAGE_NAME@
+PACKAGE_STRING = @PACKAGE_STRING@
+PACKAGE_TARNAME = @PACKAGE_TARNAME@
+PACKAGE_URL = @PACKAGE_URL@
+PACKAGE_VERSION = @PACKAGE_VERSION@
+PATH_SEPARATOR = @PATH_SEPARATOR@
+PIE_CFLAGS = @PIE_CFLAGS@
+PIE_LDFLAGS = @PIE_LDFLAGS@
+PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
+POLKIT_CFLAGS = @POLKIT_CFLAGS@
+POLKIT_LIBS = @POLKIT_LIBS@
+POSUB = @POSUB@
+RANLIB = @RANLIB@
+RELRO_LDFLAGS = @RELRO_LDFLAGS@
+SED = @SED@
+SET_MAKE = @SET_MAKE@
+SHELL = @SHELL@
+STRIP = @STRIP@
+UP_MAJOR_VERSION = @UP_MAJOR_VERSION@
+UP_MICRO_VERSION = @UP_MICRO_VERSION@
+UP_MINOR_VERSION = @UP_MINOR_VERSION@
+USB_CFLAGS = @USB_CFLAGS@
+USB_LIBS = @USB_LIBS@
+USE_NLS = @USE_NLS@
+VERSION = @VERSION@
+WARNINGFLAGS_C = @WARNINGFLAGS_C@
+XGETTEXT = @XGETTEXT@
+XGETTEXT_015 = @XGETTEXT_015@
+XGETTEXT_EXTRA_OPTIONS = @XGETTEXT_EXTRA_OPTIONS@
+XSLTPROC = @XSLTPROC@
+abs_builddir = @abs_builddir@
+abs_srcdir = @abs_srcdir@
+abs_top_builddir = @abs_top_builddir@
+abs_top_srcdir = @abs_top_srcdir@
+ac_ct_AR = @ac_ct_AR@
+ac_ct_CC = @ac_ct_CC@
+ac_ct_DUMPBIN = @ac_ct_DUMPBIN@
+am__include = @am__include@
+am__leading_dot = @am__leading_dot@
+am__quote = @am__quote@
+am__tar = @am__tar@
+am__untar = @am__untar@
+bindir = @bindir@
+build = @build@
+build_alias = @build_alias@
+build_cpu = @build_cpu@
+build_os = @build_os@
+build_vendor = @build_vendor@
+builddir = @builddir@
+datadir = @datadir@
+datarootdir = @datarootdir@
+docdir = @docdir@
+dvidir = @dvidir@
+exec_prefix = @exec_prefix@
+historydir = @historydir@
+host = @host@
+host_alias = @host_alias@
+host_cpu = @host_cpu@
+host_os = @host_os@
+host_vendor = @host_vendor@
+htmldir = @htmldir@
+includedir = @includedir@
+infodir = @infodir@
+install_sh = @install_sh@
+intltool__v_merge_options_ = @intltool__v_merge_options_@
+intltool__v_merge_options_0 = @intltool__v_merge_options_0@
+libdir = @libdir@
+libexecdir = @libexecdir@
+localedir = @localedir@
+localstatedir = @localstatedir@
+mandir = @mandir@
+mkdir_p = @mkdir_p@
+oldincludedir = @oldincludedir@
+pdfdir = @pdfdir@
+prefix = @prefix@
+program_transform_name = @program_transform_name@
+psdir = @psdir@
+sbindir = @sbindir@
+sharedstatedir = @sharedstatedir@
+srcdir = @srcdir@
+sysconfdir = @sysconfdir@
+systemdsystemunitdir = @systemdsystemunitdir@
+systemdutildir = @systemdutildir@
+target_alias = @target_alias@
+top_build_prefix = @top_build_prefix@
+top_builddir = @top_builddir@
+top_srcdir = @top_srcdir@
+udevrulesdir = @udevrulesdir@
+polkit_policydir = $(datadir)/polkit-1/actions
+polkit_policy_DATA = \
+	org.freedesktop.upower.policy
+
+EXTRA_DIST = \
+	org.freedesktop.upower.policy.in
+
+DISTCLEANFILES = \
+	org.freedesktop.upower.policy
+
+all: all-am
+
+.SUFFIXES:
+$(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am  $(am__configure_deps)
+	@for dep in $?; do \
+	  case '$(am__configure_deps)' in \
+	    *$$dep*) \
+	      ( cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh ) \
+	        && { if test -f $@; then exit 0; else break; fi; }; \
+	      exit 1;; \
+	  esac; \
+	done; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu policy/Makefile'; \
+	$(am__cd) $(top_srcdir) && \
+	  $(AUTOMAKE) --gnu policy/Makefile
+.PRECIOUS: Makefile
+Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
+	@case '$?' in \
+	  *config.status*) \
+	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
+	  *) \
+	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
+	    cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe);; \
+	esac;
+
+$(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
+	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
+
+$(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)
+	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
+$(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)
+	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
+$(am__aclocal_m4_deps):
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+install-polkit_policyDATA: $(polkit_policy_DATA)
+	@$(NORMAL_INSTALL)
+	@list='$(polkit_policy_DATA)'; test -n "$(polkit_policydir)" || list=; \
+	if test -n "$$list"; then \
+	  echo " $(MKDIR_P) '$(DESTDIR)$(polkit_policydir)'"; \
+	  $(MKDIR_P) "$(DESTDIR)$(polkit_policydir)" || exit 1; \
+	fi; \
+	for p in $$list; do \
+	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
+	  echo "$$d$$p"; \
+	done | $(am__base_list) | \
+	while read files; do \
+	  echo " $(INSTALL_DATA) $$files '$(DESTDIR)$(polkit_policydir)'"; \
+	  $(INSTALL_DATA) $$files "$(DESTDIR)$(polkit_policydir)" || exit $$?; \
+	done
+
+uninstall-polkit_policyDATA:
+	@$(NORMAL_UNINSTALL)
+	@list='$(polkit_policy_DATA)'; test -n "$(polkit_policydir)" || list=; \
+	files=`for p in $$list; do echo $$p; done | sed -e 's|^.*/||'`; \
+	dir='$(DESTDIR)$(polkit_policydir)'; $(am__uninstall_files_from_dir)
+tags TAGS:
+
+ctags CTAGS:
+
+cscope cscopelist:
+
+
+distdir: $(DISTFILES)
+	@srcdirstrip=`echo "$(srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
+	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
+	list='$(DISTFILES)'; \
+	  dist_files=`for file in $$list; do echo $$file; done | \
+	  sed -e "s|^$$srcdirstrip/||;t" \
+	      -e "s|^$$topsrcdirstrip/|$(top_builddir)/|;t"`; \
+	case $$dist_files in \
+	  */*) $(MKDIR_P) `echo "$$dist_files" | \
+			   sed '/\//!d;s|^|$(distdir)/|;s,/[^/]*$$,,' | \
+			   sort -u` ;; \
+	esac; \
+	for file in $$dist_files; do \
+	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
+	  if test -d $$d/$$file; then \
+	    dir=`echo "/$$file" | sed -e 's,/[^/]*$$,,'`; \
+	    if test -d "$(distdir)/$$file"; then \
+	      find "$(distdir)/$$file" -type d ! -perm -700 -exec chmod u+rwx {} \;; \
+	    fi; \
+	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
+	      cp -fpR $(srcdir)/$$file "$(distdir)$$dir" || exit 1; \
+	      find "$(distdir)/$$file" -type d ! -perm -700 -exec chmod u+rwx {} \;; \
+	    fi; \
+	    cp -fpR $$d/$$file "$(distdir)$$dir" || exit 1; \
+	  else \
+	    test -f "$(distdir)/$$file" \
+	    || cp -p $$d/$$file "$(distdir)/$$file" \
+	    || exit 1; \
+	  fi; \
+	done
+check-am: all-am
+check: check-am
+all-am: Makefile $(DATA)
+installdirs:
+	for dir in "$(DESTDIR)$(polkit_policydir)"; do \
+	  test -z "$$dir" || $(MKDIR_P) "$$dir"; \
+	done
+install: install-am
+install-exec: install-exec-am
+install-data: install-data-am
+uninstall: uninstall-am
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-am
+install-strip:
+	if test -z '$(STRIP)'; then \
+	  $(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
+	    install_sh_PROGRAM="$(INSTALL_STRIP_PROGRAM)" INSTALL_STRIP_FLAG=-s \
+	      install; \
+	else \
+	  $(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
+	    install_sh_PROGRAM="$(INSTALL_STRIP_PROGRAM)" INSTALL_STRIP_FLAG=-s \
+	    "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'" install; \
+	fi
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(DISTCLEANFILES)" || rm -f $(DISTCLEANFILES)
+
+maintainer-clean-generic:
+	@echo "This command is intended for maintainers to use"
+	@echo "it deletes files that may require special tools to rebuild."
+clean: clean-am
+
+clean-am: clean-generic clean-libtool clean-local mostlyclean-am
+
+distclean: distclean-am
+	-rm -f Makefile
+distclean-am: clean-am distclean-generic
+
+dvi: dvi-am
+
+dvi-am:
+
+html: html-am
+
+html-am:
+
+info: info-am
+
+info-am:
+
+install-data-am: install-polkit_policyDATA
+
+install-dvi: install-dvi-am
+
+install-dvi-am:
+
+install-exec-am:
+
+install-html: install-html-am
+
+install-html-am:
+
+install-info: install-info-am
+
+install-info-am:
+
+install-man:
+
+install-pdf: install-pdf-am
+
+install-pdf-am:
+
+install-ps: install-ps-am
+
+install-ps-am:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-am
+	-rm -f Makefile
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-am
+
+mostlyclean-am: mostlyclean-generic mostlyclean-libtool
+
+pdf: pdf-am
+
+pdf-am:
+
+ps: ps-am
+
+ps-am:
+
+uninstall-am: uninstall-polkit_policyDATA
+
+.MAKE: install-am install-strip
+
+.PHONY: all all-am check check-am clean clean-generic clean-libtool \
+	clean-local cscopelist-am ctags-am distclean distclean-generic \
+	distclean-libtool distdir dvi dvi-am html html-am info info-am \
+	install install-am install-data install-data-am install-dvi \
+	install-dvi-am install-exec install-exec-am install-html \
+	install-html-am install-info install-info-am install-man \
+	install-pdf install-pdf-am install-polkit_policyDATA \
+	install-ps install-ps-am install-strip installcheck \
+	installcheck-am installdirs maintainer-clean \
+	maintainer-clean-generic mostlyclean mostlyclean-generic \
+	mostlyclean-libtool pdf pdf-am ps ps-am tags-am uninstall \
+	uninstall-am uninstall-polkit_policyDATA
+
+
+# You will need a recent intltool or the patch from this bug
+# http://bugzilla.gnome.org/show_bug.cgi?id=462312
+@INTLTOOL_POLICY_RULE@
+
+clean-local :
+	rm -f *~
+
+-include $(top_srcdir)/git.mk
+
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:
diff -urN upower-0.99.0/policy/org.freedesktop.upower.policy.in upower-0.99.0-patched-pretty/policy/org.freedesktop.upower.policy.in
--- upower-0.99.0/policy/org.freedesktop.upower.policy.in	1969-12-31 19:00:00.000000000 -0500
+++ upower-0.99.0-patched-pretty/policy/org.freedesktop.upower.policy.in	2014-07-13 21:34:35.218231622 -0400
@@ -0,0 +1,41 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<!DOCTYPE policyconfig PUBLIC
+ "-//freedesktop//DTD PolicyKit Policy Configuration 1.0//EN"
+ "http://www.freedesktop.org/standards/PolicyKit/1.0/policyconfig.dtd">
+
+<!--
+Policy definitions for UPower
+
+Copyright (c) 2008 David Zeuthen <david@fubar.dk>
+Copyright (c) 2008-2010 Richard Hughes <richard@hughsie.com>
+
+NOTE: If you make changes to this file, make sure to validate the file
+using the polkit-policy-file-validate(1) tool. Changes made to this
+file are instantly applied.
+-->
+
+<policyconfig>
+  <vendor>The UPower Project</vendor>
+  <vendor_url>http://upower.freedesktop.org/</vendor_url>
+  <icon_name>system-suspend</icon_name>
+
+  <action id="org.freedesktop.upower.suspend">
+    <_description>Suspend the system</_description>
+    <_message>Authentication is required to suspend the system</_message>
+    <defaults>
+      <allow_inactive>no</allow_inactive>
+      <allow_active>yes</allow_active>
+    </defaults>
+  </action>
+
+  <action id="org.freedesktop.upower.hibernate">
+    <_description>Hibernate the system</_description>
+    <_message>Authentication is required to hibernate the system</_message>
+    <defaults>
+      <allow_inactive>no</allow_inactive>
+      <allow_active>yes</allow_active>
+    </defaults>
+  </action>
+
+</policyconfig>
diff -urN upower-0.99.0/src/Makefile.am upower-0.99.0-patched-pretty/src/Makefile.am
--- upower-0.99.0/src/Makefile.am	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/Makefile.am	2014-07-13 21:35:54.792225074 -0400
@@ -122,6 +122,11 @@
 	$(PIE_LDFLAGS)						\
 	$(RELRO_LDFLAGS)
 
+if HAVE_SYSTEMDUTILDIR
+systemsleepdir = $(systemdutildir)/system-sleep
+systemsleep_SCRIPTS = notify-upower.sh
+endif
+
 if UP_BUILD_TESTS
 check-local: upowerd
 	env GI_TYPELIB_PATH=$(top_builddir)/libupower-glib:$(GI_TYPELIB_PATH) LD_LIBRARY_PATH=$(top_builddir)/libupower-glib/.libs:$(LD_LIBRARY_PATH) top_builddir=$(top_builddir) $(srcdir)/linux/integration-test -v
@@ -217,6 +222,7 @@
 	org.freedesktop.UPower.KbdBacklight.xml			\
 	org.freedesktop.UPower.Wakeups.xml			\
 	up-marshal.list						\
+	$(systemsleep_SCRIPTS)					\
 	$(systemdservice_in_files)				\
 	$(dbusservice_in_files)					\
 	$(dbusconf_in_files)
diff -urN upower-0.99.0/src/Makefile.in upower-0.99.0-patched-pretty/src/Makefile.in
--- upower-0.99.0/src/Makefile.in	2013-10-29 06:39:07.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/Makefile.in	2014-07-13 21:36:10.313223797 -0400
@@ -121,7 +121,8 @@
 CONFIG_HEADER = $(top_builddir)/config.h
 CONFIG_CLEAN_FILES =
 CONFIG_CLEAN_VPATH_FILES =
-am__installdirs = "$(DESTDIR)$(libexecdir)" "$(DESTDIR)$(dbusconfdir)" \
+am__installdirs = "$(DESTDIR)$(libexecdir)" \
+	"$(DESTDIR)$(systemsleepdir)" "$(DESTDIR)$(dbusconfdir)" \
 	"$(DESTDIR)$(dbusifdir)" "$(DESTDIR)$(dbusservicedir)" \
 	"$(DESTDIR)$(systemdservicedir)"
 PROGRAMS = $(libexec_PROGRAMS)
@@ -178,6 +179,7 @@
 upowerd_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(upowerd_CFLAGS) \
 	$(CFLAGS) $(upowerd_LDFLAGS) $(LDFLAGS) -o $@
+SCRIPTS = $(systemsleep_SCRIPTS)
 AM_V_P = $(am__v_P_@AM_V@)
 am__v_P_ = $(am__v_P_@AM_DEFAULT_V@)
 am__v_P_0 = false
@@ -754,6 +756,8 @@
 @BACKEND_TYPE_LINUX_TRUE@	$(PIE_LDFLAGS)						\
 @BACKEND_TYPE_LINUX_TRUE@	$(RELRO_LDFLAGS)
 
+@BACKEND_TYPE_LINUX_TRUE@@HAVE_SYSTEMDUTILDIR_TRUE@systemsleepdir = $(systemdutildir)/system-sleep
+@BACKEND_TYPE_LINUX_TRUE@@HAVE_SYSTEMDUTILDIR_TRUE@systemsleep_SCRIPTS = notify-upower.sh
 upowerd_CFLAGS = \
 	$(WARNINGFLAGS_C)					\
 	$(NULL)
@@ -810,8 +814,8 @@
 	org.freedesktop.UPower.Device.xml \
 	org.freedesktop.UPower.KbdBacklight.xml \
 	org.freedesktop.UPower.Wakeups.xml up-marshal.list \
-	$(systemdservice_in_files) $(dbusservice_in_files) \
-	$(dbusconf_in_files) $(am__append_5)
+	$(systemsleep_SCRIPTS) $(systemdservice_in_files) \
+	$(dbusservice_in_files) $(dbusconf_in_files) $(am__append_5)
 all: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) all-recursive
 
@@ -913,6 +917,41 @@
 upowerd$(EXEEXT): $(upowerd_OBJECTS) $(upowerd_DEPENDENCIES) $(EXTRA_upowerd_DEPENDENCIES) 
 	@rm -f upowerd$(EXEEXT)
 	$(AM_V_CCLD)$(upowerd_LINK) $(upowerd_OBJECTS) $(upowerd_LDADD) $(LIBS)
+install-systemsleepSCRIPTS: $(systemsleep_SCRIPTS)
+	@$(NORMAL_INSTALL)
+	@list='$(systemsleep_SCRIPTS)'; test -n "$(systemsleepdir)" || list=; \
+	if test -n "$$list"; then \
+	  echo " $(MKDIR_P) '$(DESTDIR)$(systemsleepdir)'"; \
+	  $(MKDIR_P) "$(DESTDIR)$(systemsleepdir)" || exit 1; \
+	fi; \
+	for p in $$list; do \
+	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
+	  if test -f "$$d$$p"; then echo "$$d$$p"; echo "$$p"; else :; fi; \
+	done | \
+	sed -e 'p;s,.*/,,;n' \
+	    -e 'h;s|.*|.|' \
+	    -e 'p;x;s,.*/,,;$(transform)' | sed 'N;N;N;s,\n, ,g' | \
+	$(AWK) 'BEGIN { files["."] = ""; dirs["."] = 1; } \
+	  { d=$$3; if (dirs[d] != 1) { print "d", d; dirs[d] = 1 } \
+	    if ($$2 == $$4) { files[d] = files[d] " " $$1; \
+	      if (++n[d] == $(am__install_max)) { \
+		print "f", d, files[d]; n[d] = 0; files[d] = "" } } \
+	    else { print "f", d "/" $$4, $$1 } } \
+	  END { for (d in files) print "f", d, files[d] }' | \
+	while read type dir files; do \
+	     if test "$$dir" = .; then dir=; else dir=/$$dir; fi; \
+	     test -z "$$files" || { \
+	       echo " $(INSTALL_SCRIPT) $$files '$(DESTDIR)$(systemsleepdir)$$dir'"; \
+	       $(INSTALL_SCRIPT) $$files "$(DESTDIR)$(systemsleepdir)$$dir" || exit $$?; \
+	     } \
+	; done
+
+uninstall-systemsleepSCRIPTS:
+	@$(NORMAL_UNINSTALL)
+	@list='$(systemsleep_SCRIPTS)'; test -n "$(systemsleepdir)" || exit 0; \
+	files=`for p in $$list; do echo "$$p"; done | \
+	       sed -e 's,.*/,,;$(transform)'`; \
+	dir='$(DESTDIR)$(systemsleepdir)'; $(am__uninstall_files_from_dir)
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
@@ -1656,10 +1695,10 @@
 	$(MAKE) $(AM_MAKEFLAGS) check-TESTS check-local
 check: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) check-recursive
-all-am: Makefile $(PROGRAMS) $(DATA)
+all-am: Makefile $(PROGRAMS) $(SCRIPTS) $(DATA)
 installdirs: installdirs-recursive
 installdirs-am:
-	for dir in "$(DESTDIR)$(libexecdir)" "$(DESTDIR)$(dbusconfdir)" "$(DESTDIR)$(dbusifdir)" "$(DESTDIR)$(dbusservicedir)" "$(DESTDIR)$(systemdservicedir)"; do \
+	for dir in "$(DESTDIR)$(libexecdir)" "$(DESTDIR)$(systemsleepdir)" "$(DESTDIR)$(dbusconfdir)" "$(DESTDIR)$(dbusifdir)" "$(DESTDIR)$(dbusservicedir)" "$(DESTDIR)$(systemdservicedir)"; do \
 	  test -z "$$dir" || $(MKDIR_P) "$$dir"; \
 	done
 install: $(BUILT_SOURCES)
@@ -1723,7 +1762,8 @@
 info-am:
 
 install-data-am: install-dbusconfDATA install-dbusifDATA \
-	install-dbusserviceDATA install-systemdserviceDATA
+	install-dbusserviceDATA install-systemdserviceDATA \
+	install-systemsleepSCRIPTS
 	@$(NORMAL_INSTALL)
 	$(MAKE) $(AM_MAKEFLAGS) install-data-hook
 install-dvi: install-dvi-recursive
@@ -1772,7 +1812,7 @@
 
 uninstall-am: uninstall-dbusconfDATA uninstall-dbusifDATA \
 	uninstall-dbusserviceDATA uninstall-libexecPROGRAMS \
-	uninstall-systemdserviceDATA
+	uninstall-systemdserviceDATA uninstall-systemsleepSCRIPTS
 
 .MAKE: $(am__recursive_targets) all check check-am install install-am \
 	install-data-am install-strip
@@ -1790,13 +1830,14 @@
 	install-info install-info-am install-libexecPROGRAMS \
 	install-man install-pdf install-pdf-am install-ps \
 	install-ps-am install-strip install-systemdserviceDATA \
-	installcheck installcheck-am installdirs installdirs-am \
-	maintainer-clean maintainer-clean-generic mostlyclean \
-	mostlyclean-compile mostlyclean-generic mostlyclean-libtool \
-	pdf pdf-am ps ps-am recheck tags tags-am uninstall \
-	uninstall-am uninstall-dbusconfDATA uninstall-dbusifDATA \
+	install-systemsleepSCRIPTS installcheck installcheck-am \
+	installdirs installdirs-am maintainer-clean \
+	maintainer-clean-generic mostlyclean mostlyclean-compile \
+	mostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \
+	recheck tags tags-am uninstall uninstall-am \
+	uninstall-dbusconfDATA uninstall-dbusifDATA \
 	uninstall-dbusserviceDATA uninstall-libexecPROGRAMS \
-	uninstall-systemdserviceDATA
+	uninstall-systemdserviceDATA uninstall-systemsleepSCRIPTS
 
 
 up-marshal.h: up-marshal.list
diff -urN upower-0.99.0/src/dummy/up-backend.c upower-0.99.0-patched-pretty/src/dummy/up-backend.c
--- upower-0.99.0/src/dummy/up-backend.c	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/dummy/up-backend.c	2014-07-13 21:34:35.219231621 -0400
@@ -253,3 +253,76 @@
 {
 	return g_object_new (UP_TYPE_BACKEND, NULL);
 }
+
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_backend_kernel_can_suspend:
+ **/
+gboolean
+up_backend_kernel_can_suspend (UpBackend *backend)
+{
+	return FALSE;
+}
+
+/**
+ * up_backend_kernel_can_hibernate:
+ **/
+gboolean
+up_backend_kernel_can_hibernate (UpBackend *backend)
+{
+	return FALSE;
+}
+
+/**
+ * up_backend_has_encrypted_swap:
+ **/
+gboolean
+up_backend_has_encrypted_swap (UpBackend *backend)
+{
+	return FALSE;
+}
+
+/**
+ * up_backend_get_used_swap:
+ *
+ * Return value: a percentage value
+ **/
+gfloat
+up_backend_get_used_swap (UpBackend *backend)
+{
+	return 0.0;
+}
+
+/**
+ * up_backend_get_suspend_command:
+ **/
+const gchar *
+up_backend_get_suspend_command (UpBackend *backend)
+{
+	return "/bin/true";
+}
+
+/**
+ * up_backend_get_hibernate_command:
+ **/
+const gchar *
+up_backend_get_hibernate_command (UpBackend *backend)
+{
+	return "/bin/true";
+}
+
+/**
+ * up_backend_get_powersave_command:
+ **/
+const gchar *
+up_backend_get_powersave_command (UpBackend *backend, gboolean powersave)
+{
+	return "/bin/true";
+}
+
+gboolean
+up_backend_emits_resuming (UpBackend *backend)
+{
+	return FALSE;
+}
+#endif /* ENABLE_DEPRECATED */
diff -urN upower-0.99.0/src/freebsd/up-backend.c upower-0.99.0-patched-pretty/src/freebsd/up-backend.c
--- upower-0.99.0/src/freebsd/up-backend.c	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/freebsd/up-backend.c	2014-07-13 21:34:35.220231621 -0400
@@ -44,6 +44,10 @@
 #include "up-device.h"
 
 #define UP_BACKEND_REFRESH_TIMEOUT	30	/* seconds */
+#ifdef ENABLE_DEPRECATED
+#define UP_BACKEND_SUSPEND_COMMAND	"/usr/sbin/zzz"
+#define UP_BACKEND_HIBERNATE_COMMAND	"/usr/sbin/acpiconf -s 4"
+#endif /* ENABLE_DEPRECATED */
 
 static void	up_backend_class_init	(UpBackendClass	*klass);
 static void	up_backend_init	(UpBackend		*backend);
@@ -53,6 +57,9 @@
 static gboolean	up_backend_acpi_devd_notify (UpBackend *backend, const gchar *system, const gchar *subsystem, const gchar *type, const gchar *data);
 static gboolean	up_backend_create_new_device (UpBackend *backend, UpAcpiNative *native);
 static void	up_backend_lid_coldplug (UpBackend *backend);
+#ifdef ENABLE_DEPRECATED
+static gboolean	up_backend_supports_sleep_state (const gchar *state);
+#endif /* ENABLE_DEPRECATED */
 
 #define UP_BACKEND_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), UP_TYPE_BACKEND, UpBackendPrivate))
 
@@ -318,6 +325,67 @@
 	/* FIXME: Implement */
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_backend_get_powersave_command:
+ **/
+const gchar *
+up_backend_get_powersave_command (UpBackend *backend, gboolean powersave)
+{
+	/* XXX: Do we want to use powerd here? */
+	return NULL;
+}
+
+/**
+ * up_backend_get_suspend_command:
+ **/
+const gchar *
+up_backend_get_suspend_command (UpBackend *backend)
+{
+	return UP_BACKEND_SUSPEND_COMMAND;
+}
+
+/**
+ * up_backend_get_hibernate_command:
+ **/
+const gchar *
+up_backend_get_hibernate_command (UpBackend *backend)
+{
+	return UP_BACKEND_HIBERNATE_COMMAND;
+}
+
+gboolean
+up_backend_emits_resuming (UpBackend *backend)
+{
+	return FALSE;
+}
+
+/**
+ * up_backend_kernel_can_suspend:
+ **/
+gboolean
+up_backend_kernel_can_suspend (UpBackend *backend)
+{
+	return up_backend_supports_sleep_state ("S3");
+}
+
+/**
+ * up_backend_kernel_can_hibernate:
+ **/
+gboolean
+up_backend_kernel_can_hibernate (UpBackend *backend)
+{
+	return up_backend_supports_sleep_state ("S4");
+}
+
+gboolean
+up_backend_has_encrypted_swap (UpBackend *backend)
+{
+	/* XXX: Add support for GELI? */
+	return FALSE;
+}
+#endif /* ENABLE_DEPRECATED */
+
 /* Return value: a percentage value */
 gfloat
 up_backend_get_used_swap (UpBackend *backend)
@@ -353,6 +421,28 @@
 	return percent;
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_backend_supports_sleep_state:
+ **/
+static gboolean
+up_backend_supports_sleep_state (const gchar *state)
+{
+	gchar *sleep_states;
+	gboolean ret = FALSE;
+
+	sleep_states = up_get_string_sysctl (NULL, "hw.acpi.supported_sleep_state");
+	if (sleep_states != NULL) {
+		if (strstr (sleep_states, state) != NULL)
+			ret = TRUE;
+	}
+
+	g_free (sleep_states);
+
+	return ret;
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_backend_class_init:
  * @klass: The UpBackendClass
diff -urN upower-0.99.0/src/linux/integration-test upower-0.99.0-patched-pretty/src/linux/integration-test
--- upower-0.99.0/src/linux/integration-test	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/linux/integration-test	2014-07-13 21:34:35.220231621 -0400
@@ -775,7 +775,10 @@
 
         self.start_daemon()
         client = UPowerGlib.Client.new()
+        self.assertTrue(client.get_properties_sync(None))
         self.assertRegex(client.get_daemon_version(), '^[0-9.]+$')
+        self.assertIn(client.get_can_hibernate(), [False, True])
+        self.assertIn(client.get_can_suspend(), [False, True])
         self.assertIn(client.get_is_docked(), [False, True])
         self.assertIn(client.get_lid_is_present(), [False, True])
         self.assertIn(client.get_lid_is_closed(), [False, True])
diff -urN upower-0.99.0/src/linux/up-backend.c upower-0.99.0-patched-pretty/src/linux/up-backend.c
--- upower-0.99.0/src/linux/up-backend.c	2013-10-29 06:40:17.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/linux/up-backend.c	2014-07-13 21:34:35.222231621 -0400
@@ -49,6 +49,15 @@
 #include <dbus/dbus-glib.h>
 #include <dbus/dbus-glib-lowlevel.h>
 
+#ifdef ENABLE_DEPRECATED
+
+#define LOGIND_AVAILABLE() (access("/run/systemd/seats/", F_OK) >= 0)
+
+#define SD_HIBERNATE_COMMAND	"gdbus call --system --dest org.freedesktop.login1 --object-path /org/freedesktop/login1 --method org.freedesktop.login1.Manager.Hibernate 'true'"
+#define SD_SUSPEND_COMMAND	"gdbus call --system --dest org.freedesktop.login1 --object-path /org/freedesktop/login1 --method org.freedesktop.login1.Manager.Suspend 'true'"
+
+#endif
+
 static void	up_backend_class_init	(UpBackendClass	*klass);
 static void	up_backend_init	(UpBackend		*backend);
 static void	up_backend_finalize	(GObject		*object);
@@ -74,6 +83,9 @@
 enum {
 	SIGNAL_DEVICE_ADDED,
 	SIGNAL_DEVICE_REMOVED,
+#ifdef ENABLE_DEPRECATED
+	SIGNAL_RESUMING,
+#endif
 	SIGNAL_LAST
 };
 
@@ -84,6 +96,13 @@
 static gboolean up_backend_device_add (UpBackend *backend, GUdevDevice *native);
 static void up_backend_device_remove (UpBackend *backend, GUdevDevice *native);
 
+#ifdef ENABLE_DEPRECATED
+#define UP_BACKEND_SUSPEND_COMMAND		"/usr/sbin/pm-suspend"
+#define UP_BACKEND_HIBERNATE_COMMAND		"/usr/sbin/pm-hibernate"
+#define UP_BACKEND_POWERSAVE_TRUE_COMMAND	"/usr/sbin/pm-powersave true"
+#define UP_BACKEND_POWERSAVE_FALSE_COMMAND	"/usr/sbin/pm-powersave false"
+#endif
+
 /**
  * up_backend_device_new:
  **/
@@ -438,6 +457,271 @@
 			   NULL);
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_backend_supports_sleep_state:
+ *
+ * use pm-is-supported to test for supported sleep states
+ **/
+static gboolean
+up_backend_supports_sleep_state (const gchar *state)
+{
+	gboolean ret = FALSE;
+	gchar *command;
+	GError *error = NULL;
+	gint exit_status;
+
+	/* run script from pm-utils */
+	command = g_strdup_printf ("/usr/bin/pm-is-supported --%s", state);
+	g_debug ("excuting command: %s", command);
+	ret = g_spawn_command_line_sync (command, NULL, NULL, &exit_status, &error);
+	if (!ret) {
+		g_warning ("failed to run script: %s", error->message);
+		g_error_free (error);
+		goto out;
+	}
+	ret = (WIFEXITED(exit_status) && (WEXITSTATUS(exit_status) == EXIT_SUCCESS));
+
+out:
+	g_free (command);
+	return ret;
+}
+
+/**
+ * up_backend_kernel_can_suspend:
+ **/
+gboolean
+up_backend_kernel_can_suspend (UpBackend *backend)
+{
+	return up_backend_supports_sleep_state ("suspend");
+}
+
+/**
+ * up_backend_kernel_can_hibernate:
+ **/
+gboolean
+up_backend_kernel_can_hibernate (UpBackend *backend)
+{
+	return up_backend_supports_sleep_state ("hibernate");
+}
+
+/**
+ * up_backend_has_encrypted_swap:
+ *
+ * user@local:~$ cat /proc/swaps
+ * Filename                                Type            Size    Used    Priority
+ * /dev/mapper/cryptswap1                  partition       4803392 35872   -1
+ *
+ * user@local:~$ cat /etc/crypttab
+ * # <target name> <source device>         <key file>      <options>
+ * cryptswap1 /dev/sda5 /dev/urandom swap,cipher=aes-cbc-essiv:sha256
+ *
+ * Loop over the swap partitions in /proc/swaps, looking for matches in /etc/crypttab
+ **/
+gboolean
+up_backend_has_encrypted_swap (UpBackend *backend)
+{
+	gchar *contents_swaps = NULL;
+	gchar *contents_crypttab = NULL;
+	gchar **lines_swaps = NULL;
+	gchar **lines_crypttab = NULL;
+	GError *error = NULL;
+	gboolean ret;
+	gboolean encrypted_swap = FALSE;
+	const gchar *filename_swaps = "/proc/swaps";
+	const gchar *filename_crypttab = "/etc/crypttab";
+	GPtrArray *devices = NULL;
+	gchar *device;
+	guint i, j;
+
+	/* get swaps data */
+	ret = g_file_get_contents (filename_swaps, &contents_swaps, NULL, &error);
+	if (!ret) {
+		g_warning ("failed to open %s: %s", filename_swaps, error->message);
+		g_error_free (error);
+		goto out;
+	}
+
+	/* get crypttab data */
+	ret = g_file_get_contents (filename_crypttab, &contents_crypttab, NULL, &error);
+	if (!ret) {
+		if (error->code != G_FILE_ERROR_NOENT) {
+			g_warning ("failed to open %s: %s", filename_crypttab, error->message);
+		}
+		g_error_free (error);
+		goto out;
+	}
+
+	/* split both into lines */
+	lines_swaps = g_strsplit (contents_swaps, "\n", -1);
+	lines_crypttab = g_strsplit (contents_crypttab, "\n", -1);
+
+	/* get valid swap devices */
+	devices = g_ptr_array_new_with_free_func (g_free);
+	for (i=0; lines_swaps[i] != NULL; i++) {
+
+		/* is a device? */
+		if (lines_swaps[i][0] != '/')
+			continue;
+
+		/* only look at first parameter */
+		g_strdelimit (lines_swaps[i], "\t ", '\0');
+
+		/* add base device to list */
+		device = g_path_get_basename (lines_swaps[i]);
+		g_debug ("adding swap device: %s", device);
+		g_ptr_array_add (devices, device);
+	}
+
+	/* no swap devices? */
+	if (devices->len == 0) {
+		g_debug ("no swap devices");
+		goto out;
+	}
+
+	/* find matches in crypttab */
+	for (i=0; lines_crypttab[i] != NULL; i++) {
+
+		/* ignore invalid lines */
+		if (lines_crypttab[i][0] == '#' ||
+		    lines_crypttab[i][0] == '\n' ||
+		    lines_crypttab[i][0] == '\t' ||
+		    lines_crypttab[i][0] == '\0')
+			continue;
+
+		/* only look at first parameter */
+		g_strdelimit (lines_crypttab[i], "\t ", '\0');
+
+		/* is a swap device? */
+		for (j=0; j<devices->len; j++) {
+			device = g_ptr_array_index (devices, j);
+			if (g_strcmp0 (device, lines_crypttab[i]) == 0) {
+				g_debug ("swap device %s is encrypted (so cannot hibernate)", device);
+				encrypted_swap = TRUE;
+				goto out;
+			}
+			g_debug ("swap device %s is not encrypted (allows hibernate)", device);
+		}
+	}
+
+out:
+	if (devices != NULL)
+		g_ptr_array_unref (devices);
+	g_free (contents_swaps);
+	g_free (contents_crypttab);
+	g_strfreev (lines_swaps);
+	g_strfreev (lines_crypttab);
+	return encrypted_swap;
+}
+
+/**
+ * up_backend_get_used_swap:
+ *
+ * Return value: a percentage value how much of the available swap memory would
+ * be taken by currently active memory
+ **/
+gfloat
+up_backend_get_used_swap (UpBackend *backend)
+{
+	gchar *contents = NULL;
+	gchar **lines = NULL;
+	GError *error = NULL;
+	gchar **tokens;
+	gboolean ret;
+	guint active = 0;
+	guint swap_free = 0;
+	guint swap_total = 0;
+	guint len;
+	guint i;
+	gfloat percentage = 0.0f;
+	const gchar *filename = "/proc/meminfo";
+
+	/* get memory data */
+	ret = g_file_get_contents (filename, &contents, NULL, &error);
+	if (!ret) {
+		g_warning ("failed to open %s: %s", filename, error->message);
+		g_error_free (error);
+		goto out;
+	}
+
+	/* process each line */
+	lines = g_strsplit (contents, "\n", -1);
+	for (i=1; lines[i] != NULL; i++) {
+		tokens = g_strsplit_set (lines[i], ": ", -1);
+		len = g_strv_length (tokens);
+		if (len > 3) {
+			if (g_strcmp0 (tokens[0], "SwapFree") == 0)
+				swap_free = atoi (tokens[len-2]);
+			if (g_strcmp0 (tokens[0], "SwapTotal") == 0)
+				swap_total = atoi (tokens[len-2]);
+			else if (g_strcmp0 (tokens[0], "Active(anon)") == 0)
+				active = atoi (tokens[len-2]);
+		}
+		g_strfreev (tokens);
+	}
+
+	/* first check if we even have swap, if not consider all swap space used */
+	if (swap_total == 0) {
+		g_debug ("no swap space found");
+		percentage = 100.0f;
+		goto out;
+	}
+
+	/* work out how close to the line we are */
+	if (swap_free > 0 && active > 0)
+		percentage = (active * 100) / swap_free;
+	g_debug ("total swap available %i kb, active memory %i kb (%.1f%%)", swap_free, active, percentage);
+out:
+	g_free (contents);
+	g_strfreev (lines);
+	return percentage;
+}
+
+/**
+ * up_backend_get_suspend_command:
+ **/
+const gchar *
+up_backend_get_suspend_command (UpBackend *backend)
+{
+	if (LOGIND_AVAILABLE())
+		return SD_SUSPEND_COMMAND;
+	else
+		return UP_BACKEND_SUSPEND_COMMAND;
+}
+
+/**
+ * up_backend_get_hibernate_command:
+ **/
+const gchar *
+up_backend_get_hibernate_command (UpBackend *backend)
+{
+	if (LOGIND_AVAILABLE())
+		return SD_HIBERNATE_COMMAND;
+	else
+		return UP_BACKEND_HIBERNATE_COMMAND;
+}
+
+gboolean
+up_backend_emits_resuming (UpBackend *backend)
+{
+	if (LOGIND_AVAILABLE())
+		return TRUE;
+	else
+		return FALSE;
+}
+
+/**
+ * up_backend_get_powersave_command:
+ **/
+const gchar *
+up_backend_get_powersave_command (UpBackend *backend, gboolean powersave)
+{
+	if (powersave)
+		return UP_BACKEND_POWERSAVE_TRUE_COMMAND;
+	return UP_BACKEND_POWERSAVE_FALSE_COMMAND;
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_backend_class_init:
  * @klass: The UpBackendClass
@@ -460,10 +744,35 @@
 			      G_STRUCT_OFFSET (UpBackendClass, device_removed),
 			      NULL, NULL, up_marshal_VOID__POINTER_POINTER,
 			      G_TYPE_NONE, 2, G_TYPE_POINTER, G_TYPE_POINTER);
+#ifdef ENABLE_DEPRECATED
+	signals [SIGNAL_RESUMING] =
+		g_signal_new ("resuming",
+			      G_TYPE_FROM_CLASS (object_class), G_SIGNAL_RUN_LAST,
+			      G_STRUCT_OFFSET (UpBackendClass, resuming),
+			      NULL, NULL, g_cclosure_marshal_VOID__VOID,
+			      G_TYPE_NONE, 0);
+#endif /* ENABLE_DEPRECATED */
 
 	g_type_class_add_private (klass, sizeof (UpBackendPrivate));
 }
 
+#ifdef ENABLE_DEPRECATED
+static DBusHandlerResult
+message_filter (DBusConnection *connection,
+		DBusMessage *message,
+		void *user_data)
+{
+	UpBackend *backend = user_data;
+
+	if (dbus_message_is_signal (message, "org.freedesktop.UPower", "Resuming")) {
+		g_debug ("received Resuming signal");
+		g_signal_emit (backend, signals[SIGNAL_RESUMING], 0);
+		return DBUS_HANDLER_RESULT_HANDLED;
+	}
+	return DBUS_HANDLER_RESULT_NOT_YET_HANDLED;
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_backend_init:
  **/
@@ -481,6 +790,15 @@
 								     LOGIND_DBUS_INTERFACE,
 								     NULL,
 								     NULL);
+
+#ifdef ENABLE_DEPRECATED
+	if (LOGIND_AVAILABLE()) {
+		DBusGConnection *bus;
+		bus = dbus_g_bus_get (DBUS_BUS_SYSTEM, NULL);
+		backend->priv->connection = dbus_g_connection_get_connection (bus);
+		dbus_connection_add_filter (backend->priv->connection, message_filter, backend, NULL);
+	}
+#endif /* ENABLE_DEPRECATED */
 }
 
 /**
@@ -506,6 +824,11 @@
 
 	g_object_unref (backend->priv->managed_devices);
 
+#ifdef ENABLE_DEPRECATED
+	if (backend->priv->connection)
+		dbus_connection_remove_filter (backend->priv->connection, message_filter, backend);
+#endif /* ENABLE_DEPRECATED */
+
 	G_OBJECT_CLASS (up_backend_parent_class)->finalize (object);
 }
 
diff -urN upower-0.99.0/src/linux/up-dock.c upower-0.99.0-patched-pretty/src/linux/up-dock.c
--- upower-0.99.0/src/linux/up-dock.c	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/linux/up-dock.c	2014-07-13 21:34:35.222231621 -0400
@@ -33,6 +33,9 @@
 	UpDaemon		*daemon;
 	GUdevClient		*gudev_client;
 	guint			 poll_id;
+#ifdef ENABLE_DEPRECATED
+	guint                    notify_resume_id;
+#endif /* ENABLE_DEPRECATED */
 };
 
 G_DEFINE_TYPE (UpDock, up_dock, G_TYPE_OBJECT)
@@ -120,6 +123,19 @@
 	}
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_dock_notify_resume_cb
+ */
+static void
+up_dock_notify_resume_cb (UpDaemon *daemon,
+			  const gchar *sleep_kind,
+			  UpDock *dock)
+{
+	up_dock_refresh (dock);
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_dock_coldplug:
  **/
@@ -128,6 +144,11 @@
 {
 	/* save daemon */
 	dock->priv->daemon = g_object_ref (daemon);
+#ifdef ENABLE_DEPRECATED
+	dock->priv->notify_resume_id = g_signal_connect (dock->priv->daemon, "notify-resume",
+							 G_CALLBACK (up_dock_notify_resume_cb),
+							 dock);
+#endif /* ENABLE_DEPRECATED */
 	return up_dock_refresh (dock);
 }
 
@@ -171,6 +192,10 @@
 	g_return_if_fail (dock->priv != NULL);
 
 	g_object_unref (dock->priv->gudev_client);
+#ifdef ENABLE_DEPRECATED
+	if (dock->priv->notify_resume_id != 0)
+		g_signal_handler_disconnect (dock->priv->daemon, dock->priv->notify_resume_id);
+#endif /* ENABLE_DEPRECATED */
 	if (dock->priv->daemon != NULL)
 		g_object_unref (dock->priv->daemon);
 	if (dock->priv->poll_id != 0)
diff -urN upower-0.99.0/src/notify-upower.sh upower-0.99.0-patched-pretty/src/notify-upower.sh
--- upower-0.99.0/src/notify-upower.sh	1969-12-31 19:00:00.000000000 -0500
+++ upower-0.99.0-patched-pretty/src/notify-upower.sh	2014-07-13 21:34:35.222231621 -0400
@@ -0,0 +1,7 @@
+#!/bin/bash
+[ "$1" = "post" ] && exec /usr/bin/dbus-send	\
+	--system --type=signal			\
+	--dest=org.freedesktop.UPower		\
+	/org/freedesktop/UPower			\
+	org.freedesktop.UPower.Resuming
+exit 0
diff -urN upower-0.99.0/src/openbsd/up-backend.c upower-0.99.0-patched-pretty/src/openbsd/up-backend.c
--- upower-0.99.0/src/openbsd/up-backend.c	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/openbsd/up-backend.c	2014-07-13 21:34:35.222231621 -0400
@@ -27,6 +27,12 @@
 #include "up-device.h"
 #include <string.h> /* strcmp() */
 
+#ifdef ENABLE_DEPRECATED
+#define UP_BACKEND_SUSPEND_COMMAND	"/usr/sbin/zzz"
+#define UP_BACKEND_POWERSAVE_TRUE_COMMAND	"/usr/sbin/apm -C"
+#define UP_BACKEND_POWERSAVE_FALSE_COMMAND	"/usr/sbin/apm -A"
+#endif /* ENABLE_DEPRECATED */
+
 static void	up_backend_class_init	(UpBackendClass	*klass);
 static void	up_backend_init	(UpBackend		*backend);
 static void	up_backend_finalize	(GObject		*object);
@@ -173,6 +179,74 @@
 	/* FIXME: Implement */
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_backend_get_powersave_command:
+ **/
+const gchar *
+up_backend_get_powersave_command (UpBackend *backend, gboolean powersave)
+{
+	if (powersave)
+		return UP_BACKEND_POWERSAVE_TRUE_COMMAND;
+	return UP_BACKEND_POWERSAVE_FALSE_COMMAND;
+}
+
+/**
+ * up_backend_get_suspend_command:
+ **/
+const gchar *
+up_backend_get_suspend_command (UpBackend *backend)
+{
+	return UP_BACKEND_SUSPEND_COMMAND;
+}
+
+/**
+ * up_backend_get_hibernate_command:
+ **/
+const gchar *
+up_backend_get_hibernate_command (UpBackend *backend)
+{
+	return NULL;
+}
+
+gboolean
+up_backend_emits_resuming (UpBackend *backend)
+{
+	return FALSE;
+}
+
+/**
+ * up_backend_kernel_can_suspend:
+ **/
+gboolean
+up_backend_kernel_can_suspend (UpBackend *backend)
+{
+	return TRUE;
+}
+
+/**
+ * up_backend_kernel_can_hibernate:
+ **/
+gboolean
+up_backend_kernel_can_hibernate (UpBackend *backend)
+{
+	return FALSE;
+}
+
+gboolean
+up_backend_has_encrypted_swap (UpBackend *backend)
+{
+	return FALSE;
+}
+
+/* Return value: a percentage value */
+gfloat
+up_backend_get_used_swap (UpBackend *backend)
+{
+	return 0;
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * OpenBSD specific code
  **/
diff -urN upower-0.99.0/src/org.freedesktop.UPower.xml upower-0.99.0-patched-pretty/src/org.freedesktop.UPower.xml
--- upower-0.99.0/src/org.freedesktop.UPower.xml	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/org.freedesktop.UPower.xml	2014-07-13 21:34:35.222231621 -0400
@@ -166,12 +166,219 @@
 
     <!-- ************************************************************ -->
 
+    <signal name="Sleeping">
+      <doc:doc>
+        <doc:description>
+          <doc:para>
+            This signal is sent when the session is about to be suspended or
+            hibernated.
+          </doc:para>
+          <doc:para>
+            This signal is DEPRECATED. Use NotifySleep() instead.
+          </doc:para>
+        </doc:description>
+      </doc:doc>
+    </signal>
+
+    <!-- ************************************************************ -->
+
+    <signal name="NotifySleep">
+      <doc:doc>
+        <doc:description>
+          <doc:para>
+            This signal is sent when the session is about to be suspended or
+            hibernated.
+            Session and system programs have one second to do anything required
+            before the sleep action is taken (such as sending out Avahi or
+            Jabber messages).
+          </doc:para>
+        </doc:description>
+      </doc:doc>
+      <arg name="action" direction="out" type="s">
+        <doc:doc>
+          <doc:summary>
+            The sleep action type, e.g. <doc:tt>suspend</doc:tt>,
+            <doc:tt>hibernate</doc:tt> or <doc:tt>hybrid</doc:tt>.
+          </doc:summary>
+        </doc:doc>
+      </arg>
+    </signal>
+
+    <!-- ************************************************************ -->
+
+    <signal name="Resuming">
+      <doc:doc>
+        <doc:description>
+          <doc:para>
+            This signal is sent when the session has just returned from
+            Suspend() or Hibernate().
+          </doc:para>
+          <doc:para>
+            This signal is DEPRECATED. Use NotifyResume() instead.
+          </doc:para>
+        </doc:description>
+      </doc:doc>
+    </signal>
+
+    <!-- ************************************************************ -->
+
+    <signal name="NotifyResume">
+      <doc:doc>
+        <doc:description>
+          <doc:para>
+            This signal is sent when the session has just returned from
+            Suspend() or Hibernate().
+            Session and system programs can then do anything required (such as
+            sending out Avahi or Jabber messages).
+          </doc:para>
+        </doc:description>
+      </doc:doc>
+      <arg name="action" direction="out" type="s">
+        <doc:doc>
+          <doc:summary>
+            The sleep action type, e.g. <doc:tt>suspend</doc:tt>,
+            <doc:tt>hibernate</doc:tt> or <doc:tt>hybrid</doc:tt>.
+          </doc:summary>
+        </doc:doc>
+      </arg>
+    </signal>
+
+    <!-- ************************************************************ -->
+
+    <method name="AboutToSleep">
+      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
+      <doc:doc>
+        <doc:description>
+          <doc:para>
+            This method tells UPower that the Suspend() or Hibernate() method
+            is about to be called.
+            This allows UPower to emit the Suspending signal whilst
+            session activities are happening that have to be done before the
+            suspend process is started.
+          </doc:para>
+          <doc:para>
+            This method would typically be called by the session power
+            management daemon, before it locks the screen and waits for the
+            screen to fade to black.
+            The session power management component would then call Suspend() or
+            Hibernate() when these syncronous tasks have completed.
+          </doc:para>
+          <doc:para>
+            If this method is not called than nothing bad will happen and
+            Suspend() or Hibernate() will block for the required second.
+          </doc:para>
+        </doc:description>
+      </doc:doc>
+      <arg name="action" direction="in" type="s">
+        <doc:doc>
+          <doc:summary>
+            The sleep action type, e.g. <doc:tt>suspend</doc:tt> or
+            <doc:tt>hibernate</doc:tt>.
+          </doc:summary>
+        </doc:doc>
+      </arg>
+    </method>
+
+    <!-- ************************************************************ -->
+
+    <method name="Suspend">
+      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
+      <doc:doc>
+        <doc:description>
+          <doc:para>
+            Suspends the computer into a low power state.
+            System state is not preserved if the power is lost.
+          </doc:para>
+          <doc:para>
+            If AboutToSleep() has not been called then UPower will send
+            the Sleeping() signal and block for one second.
+          </doc:para>
+          <doc:para>
+            If AboutToSleep() has been called less than one second
+            before this method is called then UPower will block for the
+            remaining time to complete one second of delay.
+          </doc:para>
+        </doc:description>
+      </doc:doc>
+    </method>
+
+    <!-- ************************************************************ -->
+
+    <method name="SuspendAllowed">
+      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
+      <arg name="allowed" direction="out" type="b">
+        <doc:doc><doc:summary>TRUE if allowed, otherwise FALSE</doc:summary></doc:doc>
+      </arg>
+      <doc:doc>
+        <doc:description>
+          <doc:para>
+            Check if the caller has (or can get) the PolicyKit privilege to call
+            <doc:ref type="method" to="Power.Suspend">Suspend</doc:ref>.
+          </doc:para>
+        </doc:description>
+      </doc:doc>
+    </method>
+
+    <!-- ************************************************************ -->
+
+    <method name="Hibernate">
+      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
+      <doc:doc>
+        <doc:description>
+          <doc:para>
+            Hibernates the computer into a low power state.
+            System state is preserved if the power is lost.
+          </doc:para>
+          <doc:para>
+            If AboutToSleep() has not been called then UPower will send
+            the Sleeping() signal and block for one second.
+          </doc:para>
+          <doc:para>
+            If AboutToSleep() has been called less than one second
+            before this method is called then UPower will block for the
+            remaining time to complete one second of delay.
+          </doc:para>
+        </doc:description>
+      </doc:doc>
+    </method>
+
+    <!-- ************************************************************ -->
+
+    <method name="HibernateAllowed">
+      <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
+      <arg name="allowed" direction="out" type="b">
+        <doc:doc><doc:summary>TRUE if allowed, otherwise FALSE</doc:summary></doc:doc>
+      </arg>
+      <doc:doc>
+        <doc:description>
+          <doc:para>
+            Check if the caller has (or can get) the PolicyKit privilege to call
+            <doc:ref type="method" to="Power.Hibernate">Hibernate</doc:ref>.
+          </doc:para>
+        </doc:description>
+      </doc:doc>
+    </method>
+
+    <!-- ************************************************************ -->
+
     <property name="DaemonVersion" type="s" access="read">
       <doc:doc><doc:description><doc:para>
             Version of the running daemon, e.g. <doc:tt>002</doc:tt>.
       </doc:para></doc:description></doc:doc>
     </property>
 
+    <property name="CanSuspend" type="b" access="read">
+      <doc:doc><doc:description><doc:para>
+            Whether the system is able to suspend.
+      </doc:para></doc:description></doc:doc>
+    </property>
+
+    <property name="CanHibernate" type="b" access="read">
+      <doc:doc><doc:description><doc:para>
+            Whether the system is able to hibernate.
+      </doc:para></doc:description></doc:doc>
+    </property>
+
     <property name="OnBattery" type="b" access="read">
       <doc:doc><doc:description><doc:para>
             Indicates whether the system is running on battery power.
@@ -197,6 +404,24 @@
           </doc:para>
         </doc:description>
       </doc:doc>
+    </property>
+
+    <property name="LidForceSleep" type="b" access="read">
+      <doc:doc>
+        <doc:description>
+          <doc:para>
+            If the system really has to sleep when the lid is closed.
+            Some laptops actually melt (!) if the lid is closed and the
+            computer keeps running. We blacklist those, and do something
+            sane for the other machines.
+          </doc:para>
+          <doc:para>
+            This allows us to set the default session policy to not
+            suspend on lid close if the laptop is docked, and be sure
+            the machine is not going to melt.
+          </doc:para>
+        </doc:description>
+      </doc:doc>
     </property>
 
     <property name="IsDocked" type="b" access="read">
diff -urN upower-0.99.0/src/up-backend.h upower-0.99.0-patched-pretty/src/up-backend.h
--- upower-0.99.0/src/up-backend.h	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/up-backend.h	2014-07-13 21:34:35.222231621 -0400
@@ -61,6 +61,9 @@
 	void		(* device_removed)	(UpBackend	*backend,
 						 GObject	*native,
 						 UpDevice	*device);
+#ifdef ENABLE_DEPRECATED
+	void		(* resuming)		(UpBackend	*backend);
+#endif /* ENABLE_DEPRECATED */
 } UpBackendClass;
 
 GType		 up_backend_get_type			(void);
@@ -71,6 +74,16 @@
 							 UpDaemon	*daemon);
 void		 up_backend_take_action			(UpBackend	*backend);
 const char	*up_backend_get_critical_action		(UpBackend	*backend);
+#ifdef ENABLE_DEPRECATED
+gboolean	 up_backend_kernel_can_suspend		(UpBackend	*backend);
+gboolean	 up_backend_kernel_can_hibernate	(UpBackend	*backend);
+gboolean	 up_backend_has_encrypted_swap		(UpBackend	*backend);
+gfloat		 up_backend_get_used_swap			(UpBackend	*backend);
+const gchar	*up_backend_get_suspend_command		(UpBackend	*backend);
+const gchar	*up_backend_get_hibernate_command	(UpBackend	*backend);
+const gchar	*up_backend_get_powersave_command	(UpBackend	*backend, gboolean	 powersave);
+gboolean	 up_backend_emits_resuming			(UpBackend	*backend);
+#endif /* ENABLE_DEPRECATED */
 
 G_END_DECLS
 
diff -urN upower-0.99.0/src/up-daemon-glue.h upower-0.99.0-patched-pretty/src/up-daemon-glue.h
--- upower-0.99.0/src/up-daemon-glue.h	2013-10-29 06:39:23.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/up-daemon-glue.h	2014-07-13 21:34:35.223231621 -0400
@@ -59,6 +59,50 @@
 #define dbus_glib_marshal_up_daemon_VOID__POINTER	g_cclosure_marshal_VOID__POINTER
 #define dbus_glib_marshal_up_daemon_NONE__POINTER	dbus_glib_marshal_up_daemon_VOID__POINTER
 
+/* NONE:STRING,POINTER */
+extern void dbus_glib_marshal_up_daemon_VOID__STRING_POINTER (GClosure     *closure,
+                                                              GValue       *return_value,
+                                                              guint         n_param_values,
+                                                              const GValue *param_values,
+                                                              gpointer      invocation_hint,
+                                                              gpointer      marshal_data);
+void
+dbus_glib_marshal_up_daemon_VOID__STRING_POINTER (GClosure     *closure,
+                                                  GValue       *return_value G_GNUC_UNUSED,
+                                                  guint         n_param_values,
+                                                  const GValue *param_values,
+                                                  gpointer      invocation_hint G_GNUC_UNUSED,
+                                                  gpointer      marshal_data)
+{
+  typedef void (*GMarshalFunc_VOID__STRING_POINTER) (gpointer     data1,
+                                                     gpointer     arg_1,
+                                                     gpointer     arg_2,
+                                                     gpointer     data2);
+  register GMarshalFunc_VOID__STRING_POINTER callback;
+  register GCClosure *cc = (GCClosure*) closure;
+  register gpointer data1, data2;
+
+  g_return_if_fail (n_param_values == 3);
+
+  if (G_CCLOSURE_SWAP_DATA (closure))
+    {
+      data1 = closure->data;
+      data2 = g_value_peek_pointer (param_values + 0);
+    }
+  else
+    {
+      data1 = g_value_peek_pointer (param_values + 0);
+      data2 = closure->data;
+    }
+  callback = (GMarshalFunc_VOID__STRING_POINTER) (marshal_data ? marshal_data : cc->callback);
+
+  callback (data1,
+            g_marshal_value_peek_string (param_values + 1),
+            g_marshal_value_peek_pointer (param_values + 2),
+            data2);
+}
+#define dbus_glib_marshal_up_daemon_NONE__STRING_POINTER	dbus_glib_marshal_up_daemon_VOID__STRING_POINTER
+
 G_END_DECLS
 
 #endif /* __dbus_glib_marshal_up_daemon_MARSHAL_H__ */
@@ -68,13 +112,18 @@
   { (GCallback) up_daemon_enumerate_devices, dbus_glib_marshal_up_daemon_NONE__POINTER, 0 },
   { (GCallback) up_daemon_get_display_device, dbus_glib_marshal_up_daemon_NONE__POINTER, 60 },
   { (GCallback) up_daemon_get_critical_action, dbus_glib_marshal_up_daemon_NONE__POINTER, 118 },
+  { (GCallback) up_daemon_about_to_sleep, dbus_glib_marshal_up_daemon_NONE__STRING_POINTER, 177 },
+  { (GCallback) up_daemon_suspend, dbus_glib_marshal_up_daemon_NONE__POINTER, 227 },
+  { (GCallback) up_daemon_suspend_allowed, dbus_glib_marshal_up_daemon_NONE__POINTER, 261 },
+  { (GCallback) up_daemon_hibernate, dbus_glib_marshal_up_daemon_NONE__POINTER, 318 },
+  { (GCallback) up_daemon_hibernate_allowed, dbus_glib_marshal_up_daemon_NONE__POINTER, 354 },
 };
 
 const DBusGObjectInfo dbus_glib_up_daemon_object_info = {  1,
   dbus_glib_up_daemon_methods,
-  3,
-"org.freedesktop.UPower\0EnumerateDevices\0A\0devices\0O\0F\0N\0ao\0\0org.freedesktop.UPower\0GetDisplayDevice\0A\0device\0O\0F\0N\0o\0\0org.freedesktop.UPower\0GetCriticalAction\0A\0action\0O\0F\0N\0s\0\0\0",
-"org.freedesktop.UPower\0DeviceAdded\0org.freedesktop.UPower\0DeviceRemoved\0\0",
-"org.freedesktop.UPower\0DaemonVersion\0daemon_version\0read\0org.freedesktop.UPower\0OnBattery\0on_battery\0read\0org.freedesktop.UPower\0LidIsClosed\0lid_is_closed\0read\0org.freedesktop.UPower\0LidIsPresent\0lid_is_present\0read\0org.freedesktop.UPower\0IsDocked\0is_docked\0read\0\0"
+  8,
+"org.freedesktop.UPower\0EnumerateDevices\0A\0devices\0O\0F\0N\0ao\0\0org.freedesktop.UPower\0GetDisplayDevice\0A\0device\0O\0F\0N\0o\0\0org.freedesktop.UPower\0GetCriticalAction\0A\0action\0O\0F\0N\0s\0\0org.freedesktop.UPower\0AboutToSleep\0A\0action\0I\0s\0\0org.freedesktop.UPower\0Suspend\0A\0\0org.freedesktop.UPower\0SuspendAllowed\0A\0allowed\0O\0F\0N\0b\0\0org.freedesktop.UPower\0Hibernate\0A\0\0org.freedesktop.UPower\0HibernateAllowed\0A\0allowed\0O\0F\0N\0b\0\0\0",
+"org.freedesktop.UPower\0DeviceAdded\0org.freedesktop.UPower\0DeviceRemoved\0org.freedesktop.UPower\0Sleeping\0org.freedesktop.UPower\0NotifySleep\0org.freedesktop.UPower\0Resuming\0org.freedesktop.UPower\0NotifyResume\0\0",
+"org.freedesktop.UPower\0DaemonVersion\0daemon_version\0read\0org.freedesktop.UPower\0CanSuspend\0can_suspend\0read\0org.freedesktop.UPower\0CanHibernate\0can_hibernate\0read\0org.freedesktop.UPower\0OnBattery\0on_battery\0read\0org.freedesktop.UPower\0LidIsClosed\0lid_is_closed\0read\0org.freedesktop.UPower\0LidIsPresent\0lid_is_present\0read\0org.freedesktop.UPower\0LidForceSleep\0lid_force_sleep\0read\0org.freedesktop.UPower\0IsDocked\0is_docked\0read\0\0"
 };
 
diff -urN upower-0.99.0/src/up-daemon.c upower-0.99.0-patched-pretty/src/up-daemon.c
--- upower-0.99.0/src/up-daemon.c	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/up-daemon.c	2014-07-13 21:34:35.223231621 -0400
@@ -46,9 +46,16 @@
 {
 	PROP_0,
 	PROP_DAEMON_VERSION,
+#ifdef ENABLE_DEPRECATED
+	PROP_CAN_SUSPEND,
+	PROP_CAN_HIBERNATE,
+#endif /* ENABLE_DEPRECATED */
 	PROP_ON_BATTERY,
 	PROP_LID_IS_CLOSED,
 	PROP_LID_IS_PRESENT,
+#ifdef ENABLE_DEPRECATED
+	PROP_LID_FORCE_SLEEP,
+#endif /* ENABLE_DEPRECATED */
 	PROP_IS_DOCKED,
 	PROP_LAST
 };
@@ -57,6 +64,12 @@
 {
 	SIGNAL_DEVICE_ADDED,
 	SIGNAL_DEVICE_REMOVED,
+#ifdef ENABLE_DEPRECATED
+	SIGNAL_SLEEPING,
+	SIGNAL_RESUMING,
+	SIGNAL_NOTIFY_SLEEP,
+	SIGNAL_NOTIFY_RESUME,
+#endif /* ENABLE_DEPRECATED */
 	SIGNAL_LAST,
 };
 
@@ -78,7 +91,22 @@
 	UpDeviceLevel		 warning_level;
 	gboolean		 lid_is_closed;
 	gboolean		 lid_is_present;
+#ifdef ENABLE_DEPRECATED
+	gboolean		 lid_force_sleep;
+#endif /* ENABLE_DEPRECATED */
 	gboolean		 is_docked;
+#ifdef ENABLE_DEPRECATED
+	gboolean		 kernel_can_suspend;
+	gboolean		 kernel_can_hibernate;
+	gboolean		 hibernate_has_encrypted_swap;
+	gboolean		 sent_sleeping_signal;
+	GTimer			*about_to_sleep_timer;
+	guint			 about_to_sleep_id;
+	guint			 conf_sleep_timeout;
+	gboolean		 conf_allow_hibernate_encrypted_swap;
+	gboolean		 conf_run_powersave_command;
+	const gchar		*sleep_kind;
+#endif /* ENABLE_DEPRECATED */
 
 	/* PropertiesChanged to be emitted */
 	GHashTable		*changed_props;
@@ -116,6 +144,14 @@
 
 #define UP_DAEMON_ACTION_DELAY				20 /* seconds */
 
+#ifdef ENABLE_DEPRECATED
+/* if using more memory compared to usable swap, disable hibernate */
+/* Native Linux suspend-to-disk does not use compression, and needs 2 KB of
+ * page meta information for each MB of active memory. Add some error margin
+ * here, though. */
+#define UP_DAEMON_SWAP_WATERLINE 			98.f /* % */
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_daemon_get_on_battery_local:
  *
@@ -380,6 +416,35 @@
 	return result;
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_daemon_set_powersave:
+ **/
+static gboolean
+up_daemon_set_powersave (UpDaemon *daemon, gboolean powersave)
+{
+	gboolean ret = FALSE;
+	const gchar *command;
+	GError *error = NULL;
+
+	/* run script */
+	command = up_backend_get_powersave_command (daemon->priv->backend, powersave);
+	if (command == NULL) {
+		g_warning ("no powersave command set");
+		goto out;
+	}
+	g_debug ("excuting command: %s", command);
+	ret = g_spawn_command_line_async (command, &error);
+	if (!ret) {
+		g_warning ("failed to run script: %s", error->message);
+		g_error_free (error);
+		goto out;
+	}
+out:
+	return ret;
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_daemon_refresh_battery_devices:
  **/
@@ -457,6 +522,387 @@
 	return TRUE;
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_daemon_about_to_sleep:
+ **/
+gboolean
+up_daemon_about_to_sleep (UpDaemon *daemon,
+			  const gchar *sleep_kind,
+			  DBusGMethodInvocation *context)
+{
+	GError *error;
+	PolkitSubject *subject = NULL;
+	UpDaemonPrivate *priv = daemon->priv;
+
+	/* already requested */
+	if (priv->about_to_sleep_id != 0) {
+		error = g_error_new (UP_DAEMON_ERROR,
+				     UP_DAEMON_ERROR_GENERAL,
+				     "Sleep has already been requested and is pending");
+		dbus_g_method_return_error (context, error);
+		g_error_free (error);
+		goto out;
+	}
+
+	subject = up_polkit_get_subject (priv->polkit, context);
+	if (subject == NULL)
+		goto out;
+
+	/* TODO: use another PolicyKit context? */
+	if (!up_polkit_check_auth (priv->polkit, subject, "org.freedesktop.upower.suspend", context))
+		goto out;
+
+	/* we've told the clients we're going down */
+	g_debug ("emitting sleeping");
+	g_signal_emit (daemon, signals[SIGNAL_SLEEPING], 0);
+	g_signal_emit (daemon, signals[SIGNAL_NOTIFY_SLEEP], 0,
+		       sleep_kind);
+	g_timer_start (priv->about_to_sleep_timer);
+	daemon->priv->sent_sleeping_signal = TRUE;
+
+	dbus_g_method_return (context, NULL);
+out:
+	if (subject != NULL)
+		g_object_unref (subject);
+	return TRUE;
+}
+
+/* temp object for deferred callback */
+typedef struct {
+	UpDaemon		*daemon;
+	DBusGMethodInvocation	*context;
+	gchar			*command;
+	gulong			 handler;
+} UpDaemonDeferredSleep;
+
+static void
+emit_resuming (UpDaemonDeferredSleep *sleep)
+{
+	UpDaemon *daemon = sleep->daemon;
+	UpDaemonPrivate *priv = daemon->priv;
+
+	/* emit signal for session components */
+	g_debug ("emitting resuming");
+	g_signal_emit (daemon, signals[SIGNAL_RESUMING], 0);
+	g_signal_emit (daemon, signals[SIGNAL_NOTIFY_RESUME], 0,
+		       priv->sleep_kind);
+
+	/* reset the about-to-sleep logic */
+	g_timer_reset (priv->about_to_sleep_timer);
+	g_timer_stop (priv->about_to_sleep_timer);
+
+	/* actually return from the DBus call now */
+	dbus_g_method_return (sleep->context, NULL);
+
+	/* clear timer */
+	priv->about_to_sleep_id = 0;
+	priv->sent_sleeping_signal = FALSE;
+
+	/* delete temp object */
+	if (sleep->handler)
+		g_signal_handler_disconnect (priv->backend, sleep->handler);
+	g_object_unref (sleep->daemon);
+	g_free (sleep->command);
+	g_free (sleep);
+}
+
+/**
+ * up_daemon_deferred_sleep_cb:
+ **/
+static gboolean
+up_daemon_deferred_sleep_cb (UpDaemonDeferredSleep *sleep)
+{
+	GError *error;
+	GError *error_local = NULL;
+	gchar *stdout = NULL;
+	gchar *stderr = NULL;
+	gboolean ret;
+	UpDaemon *daemon = sleep->daemon;
+	UpDaemonPrivate *priv = daemon->priv;
+
+	if (up_backend_emits_resuming (priv->backend)) {
+		sleep->handler = g_signal_connect_swapped (priv->backend, "resuming",
+							   G_CALLBACK (emit_resuming), sleep);
+	}
+
+	/* run the command */
+	g_debug ("Running %s", sleep->command);
+	ret = g_spawn_command_line_sync (sleep->command, &stdout, &stderr, NULL, &error_local);
+	if (!ret) {
+		error = g_error_new (UP_DAEMON_ERROR,
+				     UP_DAEMON_ERROR_GENERAL,
+				     "Failed to spawn: %s, stdout:%s, stderr:%s", error_local->message, stdout, stderr);
+		g_error_free (error_local);
+		dbus_g_method_return_error (sleep->context, error);
+		g_error_free (error);
+		goto out;
+	}
+
+	if (!up_backend_emits_resuming (priv->backend))
+		emit_resuming (sleep);
+
+out:
+	g_free (stdout);
+	g_free (stderr);
+
+	return FALSE;
+}
+
+/**
+ * up_daemon_deferred_sleep:
+ **/
+static void
+up_daemon_deferred_sleep (UpDaemon *daemon, const gchar *command, DBusGMethodInvocation *context)
+{
+	UpDaemonDeferredSleep *sleep;
+	UpDaemonPrivate *priv = daemon->priv;
+	gfloat elapsed;
+
+	/* create callback object */
+	sleep = g_new0 (UpDaemonDeferredSleep, 1);
+	sleep->daemon = g_object_ref (daemon);
+	sleep->context = context;
+	sleep->command = g_strdup (command);
+
+	/* we didn't use AboutToSleep() so send the signal for clients now */
+	if (!priv->sent_sleeping_signal) {
+		g_debug ("no AboutToSleep(), so emitting ::Sleeping()");
+		g_signal_emit (daemon, signals[SIGNAL_SLEEPING], 0);
+		g_signal_emit (daemon, signals[SIGNAL_NOTIFY_SLEEP], 0,
+			       priv->sleep_kind);
+		priv->about_to_sleep_id = g_timeout_add (priv->conf_sleep_timeout,
+							 (GSourceFunc) up_daemon_deferred_sleep_cb, sleep);
+#if GLIB_CHECK_VERSION(2,25,8)
+		g_source_set_name_by_id (priv->about_to_sleep_id, "[UpDaemon] about-to-sleep no signal");
+#endif
+		return;
+	}
+
+	/* about to sleep */
+	elapsed = 1000.0f * g_timer_elapsed (priv->about_to_sleep_timer, NULL);
+	g_debug ("between AboutToSleep() and %s was %fms", sleep->command, elapsed);
+	if (elapsed < priv->conf_sleep_timeout) {
+		/* we have to wait for the difference in time */
+		priv->about_to_sleep_id = g_timeout_add (priv->conf_sleep_timeout - elapsed,
+							 (GSourceFunc) up_daemon_deferred_sleep_cb, sleep);
+#if GLIB_CHECK_VERSION(2,25,8)
+		g_source_set_name_by_id (priv->about_to_sleep_id, "[UpDaemon] about-to-sleep less");
+#endif
+	} else {
+		/* we can do this straight away */
+		priv->about_to_sleep_id = g_idle_add ((GSourceFunc) up_daemon_deferred_sleep_cb, sleep);
+#if GLIB_CHECK_VERSION(2,25,8)
+		g_source_set_name_by_id (priv->about_to_sleep_id, "[UpDaemon] about-to-sleep more");
+#endif
+	}
+}
+
+/**
+ * up_daemon_suspend:
+ **/
+gboolean
+up_daemon_suspend (UpDaemon *daemon, DBusGMethodInvocation *context)
+{
+	GError *error;
+	PolkitSubject *subject = NULL;
+	const gchar *command;
+	UpDaemonPrivate *priv = daemon->priv;
+
+	/* no kernel support */
+	if (!priv->kernel_can_suspend) {
+		error = g_error_new (UP_DAEMON_ERROR,
+				     UP_DAEMON_ERROR_GENERAL,
+				     "No kernel support");
+		dbus_g_method_return_error (context, error);
+		g_error_free (error);
+		goto out;
+	}
+
+	subject = up_polkit_get_subject (priv->polkit, context);
+	if (subject == NULL)
+		goto out;
+
+	if (!up_polkit_check_auth (priv->polkit, subject, "org.freedesktop.upower.suspend", context))
+		goto out;
+
+	/* already requested */
+	if (priv->about_to_sleep_id != 0) {
+		error = g_error_new (UP_DAEMON_ERROR,
+				     UP_DAEMON_ERROR_GENERAL,
+				     "Sleep has already been requested and is pending");
+		dbus_g_method_return_error (context, error);
+		g_error_free (error);
+		goto out;
+	}
+
+	/* do this deferred action */
+	priv->sleep_kind = "suspend";
+	command = up_backend_get_suspend_command (priv->backend);
+	up_daemon_deferred_sleep (daemon, command, context);
+out:
+	if (subject != NULL)
+		g_object_unref (subject);
+	return TRUE;
+}
+
+/**
+ * up_daemon_suspend_allowed:
+ **/
+gboolean
+up_daemon_suspend_allowed (UpDaemon *daemon, DBusGMethodInvocation *context)
+{
+	GError *error;
+	gboolean ret;
+	PolkitSubject *subject = NULL;
+	UpDaemonPrivate *priv = daemon->priv;
+
+	subject = up_polkit_get_subject (priv->polkit, context);
+	if (subject == NULL)
+		goto out;
+
+	error = NULL;
+	ret = up_polkit_is_allowed (priv->polkit, subject, "org.freedesktop.upower.suspend", &error);
+	if (error) {
+		dbus_g_method_return_error (context, error);
+		g_error_free (error);
+	}
+	else {
+		dbus_g_method_return (context, ret);
+	}
+
+out:
+	if (subject != NULL)
+		g_object_unref (subject);
+	return TRUE;
+}
+
+/**
+ * up_daemon_check_hibernate_swap:
+ *
+ * Check current memory usage whether we have enough swap space for
+ * hibernate.
+ **/
+static gboolean
+up_daemon_check_hibernate_swap (UpDaemon *daemon)
+{
+	gfloat waterline;
+
+	if (daemon->priv->kernel_can_hibernate) {
+		waterline = up_backend_get_used_swap (daemon->priv->backend);
+		if (waterline < UP_DAEMON_SWAP_WATERLINE) {
+			g_debug ("enough swap to for hibernate");
+			return TRUE;
+		} else {
+			g_debug ("not enough swap to hibernate");
+			return FALSE;
+		}
+	}
+
+	return FALSE;
+}
+
+/**
+ * up_daemon_hibernate:
+ **/
+gboolean
+up_daemon_hibernate (UpDaemon *daemon, DBusGMethodInvocation *context)
+{
+	GError *error;
+	PolkitSubject *subject = NULL;
+	const gchar *command;
+	UpDaemonPrivate *priv = daemon->priv;
+
+	/* no kernel support */
+	if (!priv->kernel_can_hibernate) {
+		error = g_error_new (UP_DAEMON_ERROR,
+				     UP_DAEMON_ERROR_GENERAL,
+				     "No kernel support");
+		dbus_g_method_return_error (context, error);
+		g_error_free (error);
+		goto out;
+	}
+
+	/* enough swap? */
+	if (!up_daemon_check_hibernate_swap (daemon)) {
+		error = g_error_new (UP_DAEMON_ERROR,
+				     UP_DAEMON_ERROR_GENERAL,
+				     "Not enough swap space");
+		dbus_g_method_return_error (context, error);
+		g_error_free (error);
+		goto out;
+	}
+
+	/* encrypted swap and no override? */
+	if (priv->hibernate_has_encrypted_swap &&
+	    !priv->conf_allow_hibernate_encrypted_swap) {
+		error = g_error_new (UP_DAEMON_ERROR,
+				     UP_DAEMON_ERROR_GENERAL,
+				     "Swap space is encrypted, use AllowHibernateEncryptedSwap to override");
+		dbus_g_method_return_error (context, error);
+		g_error_free (error);
+		goto out;
+	}
+
+	subject = up_polkit_get_subject (priv->polkit, context);
+	if (subject == NULL)
+		goto out;
+
+	if (!up_polkit_check_auth (priv->polkit, subject, "org.freedesktop.upower.hibernate", context))
+		goto out;
+
+	/* already requested */
+	if (priv->about_to_sleep_id != 0) {
+		error = g_error_new (UP_DAEMON_ERROR,
+				     UP_DAEMON_ERROR_GENERAL,
+				     "Sleep has already been requested and is pending");
+		dbus_g_method_return_error (context, error);
+		g_error_free (error);
+		goto out;
+	}
+
+	/* do this deferred action */
+	priv->sleep_kind = "hibernate";
+	command = up_backend_get_hibernate_command (priv->backend);
+	up_daemon_deferred_sleep (daemon, command, context);
+out:
+	if (subject != NULL)
+		g_object_unref (subject);
+	return TRUE;
+}
+
+/**
+ * up_daemon_hibernate_allowed:
+ **/
+gboolean
+up_daemon_hibernate_allowed (UpDaemon *daemon, DBusGMethodInvocation *context)
+{
+	GError *error;
+	gboolean ret;
+	PolkitSubject *subject = NULL;
+	UpDaemonPrivate *priv = daemon->priv;
+
+	subject = up_polkit_get_subject (priv->polkit, context);
+	if (subject == NULL)
+		goto out;
+
+	error = NULL;
+	ret = up_polkit_is_allowed (priv->polkit, subject, "org.freedesktop.upower.hibernate", &error);
+	if (error) {
+		dbus_g_method_return_error (context, error);
+		g_error_free (error);
+	}
+	else {
+		dbus_g_method_return (context, ret);
+	}
+
+out:
+	if (subject != NULL)
+		g_object_unref (subject);
+	return TRUE;
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_daemon_register_power_daemon:
  **/
@@ -535,6 +981,11 @@
 		goto out;
 	}
 
+#ifdef ENABLE_DEPRECATED
+	/* set power policy */
+	if (priv->conf_run_powersave_command)
+		up_daemon_set_powersave (daemon, priv->on_battery);
+#endif /* ENABLE_DEPRECATED */
 out:
 	return ret;
 }
@@ -693,6 +1144,20 @@
 	up_daemon_queue_changed_property (daemon, "LidIsClosed", g_variant_new_boolean (lid_is_closed));
 }
 
+#ifdef ENABLE_DEPRECATED
+/**
+ * up_daemon_set_lid_force_sleep:
+ **/
+void
+up_daemon_set_lid_force_sleep (UpDaemon *daemon, gboolean lid_force_sleep)
+{
+	UpDaemonPrivate *priv = daemon->priv;
+	g_debug ("lid_force_sleep = %s", lid_force_sleep ? "yes" : "no");
+	priv->lid_force_sleep = lid_force_sleep;
+	g_object_notify (G_OBJECT (daemon), "lid-enforce-sleep");
+}
+#endif /* ENABLE_DEPRECATED */
+
 /**
  * up_daemon_set_lid_is_present:
  **/
@@ -864,6 +1329,12 @@
 	ret = (up_daemon_get_on_battery_local (daemon) && !up_daemon_get_on_ac_local (daemon));
 	if (ret != priv->on_battery) {
 		up_daemon_set_on_battery (daemon, ret);
+
+#ifdef ENABLE_DEPRECATED
+		/* set power policy */
+		if (priv->conf_run_powersave_command)
+			up_daemon_set_powersave (daemon, ret);
+#endif /* ENABLE_DEPRECATED */
 	}
 	warning_level = up_daemon_get_warning_level_local (daemon);
 	if (warning_level != priv->warning_level)
@@ -1116,6 +1587,10 @@
 	daemon->priv->config = up_config_new ();
 	daemon->priv->power_devices = up_device_list_new ();
 	daemon->priv->display_device = up_device_new ();
+#ifdef ENABLE_DEPRECATED
+	daemon->priv->conf_sleep_timeout = 1000;
+	daemon->priv->conf_run_powersave_command = TRUE;
+#endif /* ENABLE_DEPRECATED */
 
 	daemon->priv->use_percentage_for_policy = up_config_get_boolean (daemon->priv->config, "UsePercentageForPolicy");
 	load_percentage_policy (daemon, FALSE);
@@ -1128,8 +1603,24 @@
 	g_signal_connect (daemon->priv->backend, "device-removed",
 			  G_CALLBACK (up_daemon_device_removed_cb), daemon);
 
+#ifdef ENABLE_DEPRECATED
+	/* use a timer for the about-to-sleep logic */
+	daemon->priv->about_to_sleep_timer = g_timer_new ();
+	g_timer_stop (daemon->priv->about_to_sleep_timer);
+#endif /* ENABLE_DEPRECATED */
+
 	daemon->priv->poll_timeouts = g_hash_table_new_full (g_direct_hash, g_direct_equal,
 							     NULL, g_free);
+
+#ifdef ENABLE_DEPRECATED
+	/* check if we have support */
+	daemon->priv->kernel_can_suspend = up_backend_kernel_can_suspend (daemon->priv->backend);
+	daemon->priv->kernel_can_hibernate = up_backend_kernel_can_hibernate (daemon->priv->backend);
+
+	/* is the swap usable? */
+	if (daemon->priv->kernel_can_hibernate)
+		daemon->priv->hibernate_has_encrypted_swap = up_backend_has_encrypted_swap (daemon->priv->backend);
+#endif /* ENABLE_DEPRECATED */
 }
 
 /**
@@ -1179,6 +1670,17 @@
 	case PROP_DAEMON_VERSION:
 		g_value_set_string (value, PACKAGE_VERSION);
 		break;
+#ifdef ENABLE_DEPRECATED
+	case PROP_CAN_SUSPEND:
+		g_value_set_boolean (value, priv->kernel_can_suspend);
+		break;
+	case PROP_CAN_HIBERNATE:
+		g_value_set_boolean (value, (priv->kernel_can_hibernate &&
+					     up_daemon_check_hibernate_swap (daemon) &&
+					     (!priv->hibernate_has_encrypted_swap ||
+					      priv->conf_allow_hibernate_encrypted_swap)));
+		break;
+#endif /* ENABLE_DEPRECATED */
 	case PROP_ON_BATTERY:
 		g_value_set_boolean (value, priv->on_battery);
 		break;
@@ -1188,6 +1690,11 @@
 	case PROP_LID_IS_PRESENT:
 		g_value_set_boolean (value, priv->lid_is_present);
 		break;
+#ifdef ENABLE_DEPRECATED
+	case PROP_LID_FORCE_SLEEP:
+		g_value_set_boolean (value, priv->lid_force_sleep);
+		break;
+#endif /* ENABLE_DEPRECATED */
 	case PROP_IS_DOCKED:
 		g_value_set_boolean (value, priv->is_docked);
 		break;
@@ -1225,6 +1732,40 @@
 			      g_cclosure_marshal_generic,
 			      G_TYPE_NONE, 1, DBUS_TYPE_G_OBJECT_PATH);
 
+#ifdef ENABLE_DEPRECATED
+	signals[SIGNAL_SLEEPING] =
+		g_signal_new ("sleeping",
+			      G_OBJECT_CLASS_TYPE (klass),
+			      G_SIGNAL_RUN_LAST | G_SIGNAL_DETAILED,
+			      0, NULL, NULL,
+			      g_cclosure_marshal_VOID__VOID,
+			      G_TYPE_NONE, 0);
+
+	signals[SIGNAL_NOTIFY_SLEEP] =
+		g_signal_new ("notify-sleep",
+			      G_OBJECT_CLASS_TYPE (klass),
+			      G_SIGNAL_RUN_LAST | G_SIGNAL_DETAILED,
+			      0, NULL, NULL,
+			      g_cclosure_marshal_VOID__STRING,
+			      G_TYPE_NONE, 1, G_TYPE_STRING);
+
+	signals[SIGNAL_RESUMING] =
+		g_signal_new ("resuming",
+			      G_OBJECT_CLASS_TYPE (klass),
+			      G_SIGNAL_RUN_LAST | G_SIGNAL_DETAILED,
+			      0, NULL, NULL,
+			      g_cclosure_marshal_VOID__VOID,
+			      G_TYPE_NONE, 0);
+
+	signals[SIGNAL_NOTIFY_RESUME] =
+		g_signal_new ("notify-resume",
+			      G_OBJECT_CLASS_TYPE (klass),
+			      G_SIGNAL_RUN_LAST | G_SIGNAL_DETAILED,
+			      0, NULL, NULL,
+			      g_cclosure_marshal_VOID__STRING,
+			      G_TYPE_NONE, 1, G_TYPE_STRING);
+#endif /* ENABLE_DEPRECATED */
+
 	g_object_class_install_property (object_class,
 					 PROP_DAEMON_VERSION,
 					 g_param_spec_string ("daemon-version",
@@ -1241,6 +1782,16 @@
 							       FALSE,
 							       G_PARAM_READABLE));
 
+#ifdef ENABLE_DEPRECATED
+	g_object_class_install_property (object_class,
+					 PROP_LID_FORCE_SLEEP,
+					 g_param_spec_boolean ("lid-force-sleep",
+							       "Enforce sleep on lid close",
+							       "If this computer has to sleep on lid close",
+							       FALSE,
+							       G_PARAM_READABLE));
+#endif /* ENABLE_DEPRECATED */
+
 	g_object_class_install_property (object_class,
 					 PROP_IS_DOCKED,
 					 g_param_spec_boolean ("is-docked",
@@ -1249,6 +1800,24 @@
 							       FALSE,
 							       G_PARAM_READABLE));
 
+#ifdef ENABLE_DEPRECATED
+	g_object_class_install_property (object_class,
+					 PROP_CAN_SUSPEND,
+					 g_param_spec_boolean ("can-suspend",
+							       "Can Suspend",
+							       "Whether the system can suspend",
+							       FALSE,
+							       G_PARAM_READABLE));
+
+	g_object_class_install_property (object_class,
+					 PROP_CAN_HIBERNATE,
+					 g_param_spec_boolean ("can-hibernate",
+							       "Can Hibernate",
+							       "Whether the system can hibernate",
+							       FALSE,
+							       G_PARAM_READABLE));
+#endif /* ENABLE_DEPRECATED */
+
 	g_object_class_install_property (object_class,
 					 PROP_ON_BATTERY,
 					 g_param_spec_boolean ("on-battery",
@@ -1295,6 +1864,9 @@
 	g_object_unref (priv->polkit);
 	g_object_unref (priv->config);
 	g_object_unref (priv->backend);
+#ifdef ENABLE_DEPRECATED
+	g_timer_destroy (priv->about_to_sleep_timer);
+#endif /* ENABLE_DEPRECATED */
 
 	G_OBJECT_CLASS (up_daemon_parent_class)->finalize (object);
 }
diff -urN upower-0.99.0/src/up-daemon.h upower-0.99.0-patched-pretty/src/up-daemon.h
--- upower-0.99.0/src/up-daemon.h	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/src/up-daemon.h	2014-07-13 21:34:35.224231621 -0400
@@ -77,6 +77,10 @@
 						 gboolean		 lid_is_closed);
 void		 up_daemon_set_lid_is_present	(UpDaemon		*daemon,
 						 gboolean		 lid_is_present);
+#ifdef ENABLE_DEPRECATED
+void		 up_daemon_set_lid_force_sleep	(UpDaemon		*daemon,
+						 gboolean		 lid_force_sleep);
+#endif /* ENABLE_DEPRECATED */
 void		 up_daemon_set_is_docked	(UpDaemon		*daemon,
 						 gboolean		 is_docked);
 void		 up_daemon_set_on_battery	(UpDaemon		*daemon,
@@ -105,6 +109,25 @@
 						 DBusGMethodInvocation	*context);
 gboolean	 up_daemon_get_critical_action	(UpDaemon		*daemon,
 						 DBusGMethodInvocation	*context);
+#ifdef ENABLE_DEPRECATED
+gboolean	 up_daemon_suspend		(UpDaemon		*daemon,
+						 DBusGMethodInvocation	*context);
+gboolean	 up_daemon_about_to_sleep	(UpDaemon		*daemon,
+						 const gchar		*sleep_kind,
+						 DBusGMethodInvocation	*context);
+gboolean	 up_daemon_suspend_allowed	(UpDaemon		*daemon,
+						 DBusGMethodInvocation	*context);
+gboolean	 up_daemon_hibernate		(UpDaemon		*daemon,
+						 DBusGMethodInvocation	*context);
+gboolean	 up_daemon_hibernate_allowed	(UpDaemon		*daemon,
+						 DBusGMethodInvocation	*context);
+gboolean	 up_daemon_can_suspend		(UpDaemon		*daemon,
+						 gboolean		 interactive,
+						 DBusGMethodInvocation	*context);
+gboolean	 up_daemon_can_hibernate	(UpDaemon		*daemon,
+						 gboolean		 interactive,
+						 DBusGMethodInvocation	*context);
+#endif /* ENABLE_DEPRECATED */
 
 G_END_DECLS
 
diff -urN upower-0.99.0/tools/up-tool.c upower-0.99.0-patched-pretty/tools/up-tool.c
--- upower-0.99.0/tools/up-tool.c	2013-10-29 06:37:08.000000000 -0400
+++ upower-0.99.0-patched-pretty/tools/up-tool.c	2014-07-13 21:34:35.224231621 -0400
@@ -119,6 +119,10 @@
 up_client_print (UpClient *client)
 {
 	gchar *daemon_version;
+#ifdef ENABLE_DEPRECATED
+	gboolean can_suspend;
+	gboolean can_hibernate;
+#endif /* ENABLE_DEPRECATED */
 	gboolean on_battery;
 	UpDeviceLevel warning_level;
 	gboolean lid_is_closed;
@@ -128,6 +132,10 @@
 
 	g_object_get (client,
 		      "daemon-version", &daemon_version,
+#ifdef ENABLE_DEPRECATED
+		      "can-suspend", &can_suspend,
+		      "can-hibernate", &can_hibernate,
+#endif /* ENABLE_DEPRECATED */
 		      "on-battery", &on_battery,
 		      "lid-is-closed", &lid_is_closed,
 		      "lid-is-present", &lid_is_present,
@@ -135,6 +143,10 @@
 		      NULL);
 
 	g_print ("  daemon-version:  %s\n", daemon_version);
+#ifdef ENABLE_DEPRECATED
+	g_print ("  can-suspend:     %s\n", can_suspend ? "yes" : "no");
+	g_print ("  can-hibernate:   %s\n", can_hibernate ? "yes" : "no");
+#endif /* ENABLE_DEPRECATED */
 	g_print ("  on-battery:      %s\n", on_battery ? "yes" : "no");
 	g_print ("  lid-is-closed:   %s\n", lid_is_closed ? "yes" : "no");
 	g_print ("  lid-is-present:  %s\n", lid_is_present ? "yes" : "no");
diff -urN upower-0.99.0/upower-glib.pc.in upower-0.99.0-patched-pretty/upower-glib.pc.in
--- upower-0.99.0/upower-glib.pc.in	2013-10-29 06:37:01.000000000 -0400
+++ upower-0.99.0-patched-pretty/upower-glib.pc.in	2014-07-13 21:34:35.224231621 -0400
@@ -6,7 +6,7 @@
 Name: upower-glib
 Description: UPower is a system daemon for managing power devices
 Version: @VERSION@
-Requires.private: gthread-2.0, gio-2.0
+Requires.private: dbus-1, dbus-glib-1, gthread-2.0, gio-2.0
 Requires: glib-2.0, gobject-2.0
 Libs: -L${libdir} -lupower-glib
 Cflags: -I${includedir}/libupower-glib
